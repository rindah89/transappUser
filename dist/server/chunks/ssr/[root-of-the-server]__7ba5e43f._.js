module.exports=[14747,(a,b,c)=>{b.exports=a.x("path",()=>require("path"))},24361,(a,b,c)=>{b.exports=a.x("util",()=>require("util"))},18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},35112,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactDOM},72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},33354,(a,b,c)=>{"use strict";c._=function(a){return a&&a.__esModule?a:{default:a}}},92966,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HeadManagerContext},30767,52477,a=>{"use strict";var b=a.i(72131),c=function(){var a={name:"__LSM__",middleWares:[],persist:"action"},b={};try{a.storageType="undefined"!=typeof sessionStorage?window.sessionStorage:void 0}catch(a){}return{updateStore:function(c){try{b=a.storageType&&JSON.parse(a.storageType.getItem(a.name)||"")||c}catch(a){b=c}},saveStore:function(){a.storageType&&a.storageType.setItem(a.name,JSON.stringify(b))},get state(){return b},set state(e){b=e},get options(){return a},set options(t){a=t}}}(),d=b.createContext(void 0),f=function(a){var f=a.children,g=b.useState(c.state),h=g[0],i=g[1];return b.useEffect(function(){"beforeUnload"===c.options.persist&&(window.onbeforeunload=function(){return c.saveStore()},c.options.storageType&&c.options.storageType.removeItem(c.options.name))},[]),b.createElement(d.Provider,{value:{state:h,setState:i}},f)};function g(a){var f=b.useContext(d),g=f.state,h=f.setState;return{actions:b.useRef(Object.entries(a||{}).reduce(function(a,b){var d,f;return Object.assign({},a,((d={})[b[0]]=(f=b[1],function(a,b){c.state=f(c.state,a),c.options.middleWares&&(c.state=c.options.middleWares.reduce(function(b,c){return c(b,f.name,a)||b},c.state)),b&&b.skipRender||h(c.state),"action"===c.options.persist&&c.saveStore()}),d))},{})).current,state:g}}a.s(["StateMachineProvider",()=>f,"useStateMachine",()=>g],30767),a.s(["updateAction",0,(a,b)=>b,"updateBooking",0,(a,b)=>({...a,booking:b}),"updateClient",0,(a,b)=>b,"updateSearch",0,(a,b)=>({...a,search:b}),"updateUser",0,(a,b)=>({...a,user:b})],52477)},30089,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"setAttributesFromProps",{enumerable:!0,get:function(){return h}});let d={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv",noModule:"noModule"},f=["onLoad","onReady","dangerouslySetInnerHTML","children","onError","strategy","stylesheets"];function g(a){return["async","defer","noModule"].includes(a)}function h(a,b){for(let[c,h]of Object.entries(b)){if(!b.hasOwnProperty(c)||f.includes(c)||void 0===h)continue;let i=d[c]||c.toLowerCase();"SCRIPT"===a.tagName&&g(i)?a[i]=!!h:a.setAttribute(i,String(h)),(!1===h||"SCRIPT"===a.tagName&&g(i)&&(!h||"false"===h))&&(a.setAttribute(i,""),a.removeAttribute(i))}}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},12962,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={cancelIdleCallback:function(){return h},requestIdleCallback:function(){return g}};for(var f in d)Object.defineProperty(c,f,{enumerable:!0,get:d[f]});let g="undefined"!=typeof self&&self.requestIdleCallback&&self.requestIdleCallback.bind(window)||function(a){let b=Date.now();return self.setTimeout(function(){a({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-b))}})},1)},h="undefined"!=typeof self&&self.cancelIdleCallback&&self.cancelIdleCallback.bind(window)||function(a){return clearTimeout(a)};("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},96665,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={default:function(){return v},handleClientScriptLoad:function(){return r},initScriptLoader:function(){return s}};for(var f in d)Object.defineProperty(c,f,{enumerable:!0,get:d[f]});let g=a.r(33354),h=a.r(46058),i=a.r(87924),j=g._(a.r(35112)),k=h._(a.r(72131)),l=a.r(92966),m=a.r(30089),n=a.r(12962),o=new Map,p=new Set,q=a=>{let{src:b,id:c,onLoad:d=()=>{},onReady:f=null,dangerouslySetInnerHTML:g,children:h="",strategy:i="afterInteractive",onError:k,stylesheets:l}=a,n=c||b;if(n&&p.has(n))return;if(o.has(b)){p.add(n),o.get(b).then(d,k);return}let q=()=>{f&&f(),p.add(n)},r=document.createElement("script"),s=new Promise((a,b)=>{r.addEventListener("load",function(b){a(),d&&d.call(this,b),q()}),r.addEventListener("error",function(a){b(a)})}).catch(function(a){k&&k(a)});g?(r.innerHTML=g.__html||"",q()):h?(r.textContent="string"==typeof h?h:Array.isArray(h)?h.join(""):"",q()):b&&(r.src=b,o.set(b,s)),(0,m.setAttributesFromProps)(r,a),"worker"===i&&r.setAttribute("type","text/partytown"),r.setAttribute("data-nscript",i),l&&(a=>{if(j.default.preinit)return a.forEach(a=>{j.default.preinit(a,{as:"style"})})})(l),document.body.appendChild(r)};function r(a){let{strategy:b="afterInteractive"}=a;"lazyOnload"===b?window.addEventListener("load",()=>{(0,n.requestIdleCallback)(()=>q(a))}):q(a)}function s(a){a.forEach(r),[...document.querySelectorAll('[data-nscript="beforeInteractive"]'),...document.querySelectorAll('[data-nscript="beforePageRender"]')].forEach(a=>{let b=a.id||a.getAttribute("src");p.add(b)})}function u(a){let{id:b,src:c="",onLoad:d=()=>{},onReady:f=null,strategy:g="afterInteractive",onError:h,stylesheets:m,...o}=a,{updateScripts:r,scripts:s,getIsSsr:u,appDir:v,nonce:w}=(0,k.useContext)(l.HeadManagerContext);w=o.nonce||w;let x=(0,k.useRef)(!1);(0,k.useEffect)(()=>{let a=b||c;x.current||(f&&a&&p.has(a)&&f(),x.current=!0)},[f,b,c]);let y=(0,k.useRef)(!1);if((0,k.useEffect)(()=>{if(!y.current){if("afterInteractive"===g)q(a);else"lazyOnload"===g&&("complete"===document.readyState?(0,n.requestIdleCallback)(()=>q(a)):window.addEventListener("load",()=>{(0,n.requestIdleCallback)(()=>q(a))}));y.current=!0}},[a,g]),("beforeInteractive"===g||"worker"===g)&&(r?(s[g]=(s[g]||[]).concat([{id:b,src:c,onLoad:d,onReady:f,onError:h,...o,nonce:w}]),r(s)):u&&u()?p.add(b||c):u&&!u()&&q({...a,nonce:w})),v){if(m&&m.forEach(a=>{j.default.preinit(a,{as:"style"})}),"beforeInteractive"===g)if(!c)return o.dangerouslySetInnerHTML&&(o.children=o.dangerouslySetInnerHTML.__html,delete o.dangerouslySetInnerHTML),(0,i.jsx)("script",{nonce:w,dangerouslySetInnerHTML:{__html:`(self.__next_s=self.__next_s||[]).push(${JSON.stringify([0,{...o,id:b}])})`}});else return j.default.preload(c,o.integrity?{as:"script",integrity:o.integrity,nonce:w,crossOrigin:o.crossOrigin}:{as:"script",nonce:w,crossOrigin:o.crossOrigin}),(0,i.jsx)("script",{nonce:w,dangerouslySetInnerHTML:{__html:`(self.__next_s=self.__next_s||[]).push(${JSON.stringify([c,{...o,id:b}])})`}});"afterInteractive"===g&&c&&j.default.preload(c,o.integrity?{as:"script",integrity:o.integrity,nonce:w,crossOrigin:o.crossOrigin}:{as:"script",nonce:w,crossOrigin:o.crossOrigin})}return null}Object.defineProperty(u,"__nextScript",{value:!0});let v=u;("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},43518,a=>{"use strict";var b=a.i(87924),c=a.i(6704),d=a.i(30767),f=a.i(72131),g=a.i(83490),h=a.i(52477),i=a.i(10849);let j=(0,f.createContext)(void 0),k=({children:a})=>{let{state:c,actions:k}=(0,d.useStateMachine)({updateUser:h.updateUser}),[l,m]=(0,f.useState)({user:null,token:""}),[n,o]=(0,f.useState)(!0),p=process.env.NEXT_PUBLIC_API_URL;return p?g.default.defaults.baseURL=p:g.default.defaults.baseURL="",g.default.interceptors.request.use(async a=>a,a=>Promise.reject(a)),(0,f.useEffect)(()=>{(async()=>{o(!1)})();let{data:{subscription:a}}=i.supabase.auth.onAuthStateChange(async(a,b)=>{if(b){let{data:a}=await i.supabase.from("users").select("*").eq("id",b.user.id).single();if(a){let c={user:a,token:b.access_token};m(c),k.updateUser({data:{...a,token:b.access_token}}),localStorage.setItem("authClient",JSON.stringify(c))}}else m({user:null,token:""}),k.updateUser({data:null}),localStorage.removeItem("authClient")});return()=>{a.unsubscribe()}},[k]),(0,b.jsx)(j.Provider,{value:[l,m],children:n?(0,b.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:(0,b.jsx)("p",{children:"Loading..."})}):a})};function l({children:a}){return(0,b.jsx)(d.StateMachineProvider,{children:(0,b.jsxs)(k,{children:[(0,b.jsx)(c.Toaster,{}),a]})})}a.i(63578),a.s(["default",()=>l],43518)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__7ba5e43f._.js.map