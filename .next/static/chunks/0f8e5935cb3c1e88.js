(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,286536,e=>{"use strict";let t=(0,e.i(475254).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>t],286536)},392094,e=>{"use strict";var t=e.i(271645),a=e.i(745009),s=e.i(343794),r=e.i(391328),i=["className","cssModule","fluid","tag"];function n(){return(n=Object.assign.bind()).apply(this,arguments)}function l(e){var a=e.className,l=e.cssModule,c=e.fluid,o=e.tag,d=function(e,t){if(null==e)return{};var a,s,r=function(e,t){if(null==e)return{};var a,s,r={},i=Object.keys(e);for(s=0;s<i.length;s++)a=i[s],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,i),u="container";!0===c?u="container-fluid":c&&(u="container-".concat(c));var h=(0,r.mapToCssModules)((0,s.default)(a,u),l);return t.default.createElement(void 0===o?"div":o,n({},d,{className:h}))}l.propTypes={tag:r.tagPropType,fluid:a.default.oneOfType([a.default.bool,a.default.string]),className:a.default.string,cssModule:a.default.object},e.s(["Container",0,l],392094)},109327,e=>{"use strict";var t,a=e.i(271645),s=function(){return(s=Object.assign||function(e){for(var t,a=1,s=arguments.length;a<s;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function r(e,t){var a={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&0>t.indexOf(s)&&(a[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,s=Object.getOwnPropertySymbols(e);r<s.length;r++)0>t.indexOf(s[r])&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(a[s[r]]=e[s[r]]);return a}var i=s(s({},{speed:100,still:!1,thickness:100}),{secondaryColor:"rgba(0,0,0,0.44)"});!function(e,t){void 0===t&&(t={});var a=t.insertAt;if(e&&"undefined"!=typeof document){var s=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===a&&s.firstChild?s.insertBefore(r,s.firstChild):s.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}("@keyframes spinners-react-circular{0%{stroke-dashoffset:306}50%{stroke-dasharray:40,134}to{stroke-dasharray:1,174;stroke-dashoffset:132}}");var n=function(e){var t=e.secondaryColor,i=e.speed,n=e.still,l=e.thickness,c=r(e,["secondaryColor","speed","still","thickness"]),o=l/100*4;return a.default.createElement("svg",s({fill:"none"},c,{viewBox:"0 0 66 66"}),a.default.createElement("circle",{cx:"33",cy:"33",fill:"none",r:"28",stroke:t,strokeWidth:o}),a.default.createElement("circle",{cx:"33",cy:"33",fill:"none",r:"28",stroke:"currentColor",strokeDasharray:"1, 174",strokeDashoffset:"306",strokeLinecap:"round",strokeWidth:o,style:n?{}:{animation:"spinners-react-circular "+140/i+"s linear infinite"}}))};n.defaultProps=i;var l=((t=function(e){var t=e.color,i=e.enabled,l=e.size,c=e.style,o=r(e,["color","enabled","size","style"]),d=s(s({},o),{style:s({color:t,overflow:"visible",width:parseFloat(l.toString()).toString()===l.toString()?l+"px":l.toString()},c)});return i?a.default.createElement(n,s({},d)):null}).defaultProps={color:"#38ad48",enabled:!0,size:50,style:{}},t);e.s(["SpinnerCircular",()=>l],109327)},489853,503116,e=>{"use strict";var t=e.i(475254);let a=(0,t.default)("calendar-days",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);e.s(["CalendarDays",()=>a],489853);let s=(0,t.default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["Clock",()=>s],503116)},440160,373884,e=>{"use strict";var t=e.i(475254);let a=(0,t.default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);e.s(["Download",()=>a],440160);let s=(0,t.default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);e.s(["XCircle",()=>s],373884)},36905,e=>{"use strict";var t=e.i(843476),a=e.i(271645),s=e.i(392094),r=e.i(581949),i=e.i(109327);e.i(785269);var n=e.i(322831),l=e.i(705766),c=e.i(522016),o=e.i(489853),d=e.i(503116),u=e.i(440160),h=e.i(286536),m=e.i(373884);e.s(["default",0,()=>{let{t:e}=(0,n.useTranslation)(),[p,y]=(0,a.useState)([]),[k,v]=(0,a.useState)(!0),[f,x]=(0,a.useState)(null),b=(0,a.useCallback)(async()=>{try{let{data:e}=await r.default.get("api/v1/bookings/user-bookings");(null==e?void 0:e.error)?(l.toast.error(e.message),v(!1)):e.data&&(y(e.data),v(!1))}catch(e){r.default.isAxiosError(e)?l.toast.error(e.message||"Failed to fetch bookings"):l.toast.error("An unexpected error occurred"),v(!1)}},[]),g=async t=>{var a,s;if(window.confirm(e("confirm_cancel_booking")||"Cancel this booking?")){x(t);try{let{data:e}=await r.default.post("api/v1/bookings/cancel/".concat(t));(null==e?void 0:e.error)?l.toast.error((null==e?void 0:e.message)||"Failed to cancel booking"):(l.toast.success((null==e?void 0:e.message)||"Booking cancelled"),await b())}catch(e){r.default.isAxiosError(e)?l.toast.error((null==(a=null==(s=e.response)?void 0:s.data)?void 0:a.message)||e.message||"Failed to cancel booking"):l.toast.error("An unexpected error occurred")}finally{x(null)}}};return((0,a.useEffect)(()=>{"undefined"!=typeof document&&document.body.setAttribute("style","background: #f6f7fb!important;"),b()},[b]),k)?(0,t.jsx)(a.default.Fragment,{children:(0,t.jsx)("div",{className:"page-content",children:(0,t.jsx)(s.Container,{fluid:!0,className:"",children:(0,t.jsx)("div",{className:"loader-outer",children:(0,t.jsx)("div",{className:"loader-inner",children:(0,t.jsx)(i.SpinnerCircular,{color:"#bcc014",size:30})})})})})}):(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("section",{className:"ta-bookings",children:(0,t.jsxs)("div",{className:"container",children:[(0,t.jsx)("div",{className:"ta-bookings__header",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"ta-bookings__title",children:e("my_bookings")||"My bookings"}),(0,t.jsx)("p",{className:"ta-bookings__subtitle",children:e("my_bookings_subtitle")||"View, download, or cancel your tickets."})]})}),0===p.length?(0,t.jsx)("div",{className:"ta-empty",children:(0,t.jsx)("p",{className:"mb-0",children:e("no_bookings")||"No bookings found"})}):(0,t.jsx)("div",{className:"ta-bookings__list",children:p.map(a=>{let s=f===a.id,r=(a.status||"-").toString(),i=r.toLowerCase().includes("cancel")?"is-danger":r.toLowerCase().includes("confirm")||r.toLowerCase().includes("paid")?"is-success":r.toLowerCase().includes("pending")?"is-warning":"is-neutral";return(0,t.jsxs)("article",{className:"ta-ticket-card",children:[(0,t.jsxs)("div",{className:"ta-ticket-card__top",children:[(0,t.jsxs)("div",{className:"ta-ticket-card__route",children:[(0,t.jsxs)("div",{className:"ta-ticket-card__cities",children:[(0,t.jsx)("span",{className:"ta-ticket-card__city",children:a.departure_city}),(0,t.jsx)("span",{className:"ta-ticket-card__arrow",children:"→"}),(0,t.jsx)("span",{className:"ta-ticket-card__city",children:a.arrival_city})]}),(0,t.jsx)("div",{className:"ta-ticket-card__agency",children:a.agency_name}),(0,t.jsx)("div",{className:"ta-ticket-card__meta",children:(0,t.jsxs)("span",{className:"ta-pill",children:[(0,t.jsx)("span",{className:"ta-pill__label",children:e("ticket_number")||"Number"}),(0,t.jsx)("span",{className:"ta-pill__value",children:a.ticket_number})]})})]}),(0,t.jsx)("div",{className:"ta-ticket-card__status",children:(0,t.jsxs)("span",{className:"ta-status ".concat(i),children:[e("status")||"Status",": ",r]})})]}),(0,t.jsxs)("div",{className:"ta-ticket-card__grid",children:[(0,t.jsxs)("div",{className:"ta-kv",children:[(0,t.jsxs)("div",{className:"ta-kv__k",children:[(0,t.jsx)(o.CalendarDays,{size:16}),(0,t.jsx)("span",{children:e("journey_date")||"Date"})]}),(0,t.jsx)("div",{className:"ta-kv__v",children:a.journey_date})]}),(0,t.jsxs)("div",{className:"ta-kv",children:[(0,t.jsxs)("div",{className:"ta-kv__k",children:[(0,t.jsx)(d.Clock,{size:16}),(0,t.jsx)("span",{children:e("departure_time")||e("time")||"Time"})]}),(0,t.jsx)("div",{className:"ta-kv__v",children:a.departure_time})]}),(0,t.jsxs)("div",{className:"ta-kv",children:[(0,t.jsx)("div",{className:"ta-kv__k",children:(0,t.jsx)("span",{children:e("seat")||"Seat"})}),(0,t.jsx)("div",{className:"ta-kv__v",children:a.seat||"-"})]}),(0,t.jsxs)("div",{className:"ta-kv ta-kv--right",children:[(0,t.jsx)("div",{className:"ta-kv__k",children:(0,t.jsx)("span",{children:e("price")||"Price"})}),(0,t.jsxs)("div",{className:"ta-kv__v ta-kv__v--price",children:[a.price," XAF"]})]})]}),(0,t.jsxs)("div",{className:"ta-ticket-card__actions",children:[(0,t.jsxs)(c.default,{className:"btn btn-sm btn-outline-primary ta-btn",href:"/ticket/".concat(a.id),children:[(0,t.jsx)(h.Eye,{size:16}),(0,t.jsx)("span",{children:e("view")||"View"})]}),(0,t.jsxs)(c.default,{className:"btn btn-sm btn-outline-secondary ta-btn",href:"/ticket/".concat(a.id,"?print=1"),children:[(0,t.jsx)(u.Download,{size:16}),(0,t.jsx)("span",{children:e("download")||"Download"})]}),(0,t.jsxs)("button",{type:"button",className:"btn btn-sm btn-outline-danger ta-btn",disabled:s,"aria-busy":s,onClick:()=>g(a.id),children:[(0,t.jsx)(m.XCircle,{size:16}),(0,t.jsx)("span",{children:s?e("loading")||"Canceling…":e("Cancel")||"Cancel"})]})]})]},a.id)})})]})})})}])}]);