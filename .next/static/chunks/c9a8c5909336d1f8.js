(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,392094,e=>{"use strict";var a=e.i(271645),s=e.i(745009),t=e.i(343794),r=e.i(391328),i=["className","cssModule","fluid","tag"];function n(){return(n=Object.assign.bind()).apply(this,arguments)}function l(e){var s=e.className,l=e.cssModule,c=e.fluid,d=e.tag,o=function(e,a){if(null==e)return{};var s,t,r=function(e,a){if(null==e)return{};var s,t,r={},i=Object.keys(e);for(t=0;t<i.length;t++)s=i[t],a.indexOf(s)>=0||(r[s]=e[s]);return r}(e,a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)s=i[t],!(a.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}(e,i),u="container";!0===c?u="container-fluid":c&&(u="container-".concat(c));var h=(0,r.mapToCssModules)((0,t.default)(s,u),l);return a.default.createElement(void 0===d?"div":d,n({},o,{className:h}))}l.propTypes={tag:r.tagPropType,fluid:s.default.oneOfType([s.default.bool,s.default.string]),className:s.default.string,cssModule:s.default.object},e.s(["Container",0,l],392094)},109327,e=>{"use strict";var a,s=e.i(271645),t=function(){return(t=Object.assign||function(e){for(var a,s=1,t=arguments.length;s<t;s++)for(var r in a=arguments[s])Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r]);return e}).apply(this,arguments)};function r(e,a){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&0>a.indexOf(t)&&(s[t]=e[t]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,t=Object.getOwnPropertySymbols(e);r<t.length;r++)0>a.indexOf(t[r])&&Object.prototype.propertyIsEnumerable.call(e,t[r])&&(s[t[r]]=e[t[r]]);return s}var i=t(t({},{speed:100,still:!1,thickness:100}),{secondaryColor:"rgba(0,0,0,0.44)"});!function(e,a){void 0===a&&(a={});var s=a.insertAt;if(e&&"undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===s&&t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}("@keyframes spinners-react-circular{0%{stroke-dashoffset:306}50%{stroke-dasharray:40,134}to{stroke-dasharray:1,174;stroke-dashoffset:132}}");var n=function(e){var a=e.secondaryColor,i=e.speed,n=e.still,l=e.thickness,c=r(e,["secondaryColor","speed","still","thickness"]),d=l/100*4;return s.default.createElement("svg",t({fill:"none"},c,{viewBox:"0 0 66 66"}),s.default.createElement("circle",{cx:"33",cy:"33",fill:"none",r:"28",stroke:a,strokeWidth:d}),s.default.createElement("circle",{cx:"33",cy:"33",fill:"none",r:"28",stroke:"currentColor",strokeDasharray:"1, 174",strokeDashoffset:"306",strokeLinecap:"round",strokeWidth:d,style:n?{}:{animation:"spinners-react-circular "+140/i+"s linear infinite"}}))};n.defaultProps=i;var l=((a=function(e){var a=e.color,i=e.enabled,l=e.size,c=e.style,d=r(e,["color","enabled","size","style"]),o=t(t({},d),{style:t({color:a,overflow:"visible",width:parseFloat(l.toString()).toString()===l.toString()?l+"px":l.toString()},c)});return i?s.default.createElement(n,t({},o)):null}).defaultProps={color:"#38ad48",enabled:!0,size:50,style:{}},a);e.s(["SpinnerCircular",()=>l],109327)},489853,503116,e=>{"use strict";var a=e.i(475254);let s=(0,a.default)("calendar-days",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);e.s(["CalendarDays",()=>s],489853);let t=(0,a.default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["Clock",()=>t],503116)},284614,e=>{"use strict";let a=(0,e.i(475254).default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);e.s(["User",()=>a],284614)},440160,373884,e=>{"use strict";var a=e.i(475254);let s=(0,a.default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);e.s(["Download",()=>s],440160);let t=(0,a.default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);e.s(["XCircle",()=>t],373884)},706443,e=>{"use strict";var a=e.i(843476),s=e.i(271645),t=e.i(618566),r=e.i(581949),i=e.i(392094),n=e.i(109327),l=e.i(705766);e.i(785269);var c=e.i(322831),d=e.i(522016),o=e.i(475254);let u=(0,o.default)("building-2",[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]]);var h=e.i(489853),p=e.i(503116),m=e.i(440160);let v=(0,o.default)("printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);var f=e.i(284614),y=e.i(373884);e.s(["default",0,()=>{let{t:e}=(0,c.useTranslation)(),o=(0,t.useRouter)(),b=(0,t.useParams)(),x=(0,t.useSearchParams)(),k=(0,s.useMemo)(()=>Number(null==b?void 0:b.id),[null==b?void 0:b.id]),g=(null==x?void 0:x.get("print"))==="1",[j,_]=(0,s.useState)(!0),[N,C]=(0,s.useState)(null);(0,s.useEffect)(()=>{"undefined"!=typeof document&&document.body.setAttribute("style","background: #f6f7fb!important;")},[]),(0,s.useEffect)(()=>{(async()=>{if(!Number.isFinite(k))return _(!1);try{let{data:e}=await r.default.get("/api/v1/bookings/booking/".concat(k));(null==e?void 0:e.error)?(l.toast.error(e.message||"Failed to load ticket"),C(null)):C(e.data||null)}catch(s){var e,a;r.default.isAxiosError(s)?l.toast.error((null==(e=null==(a=s.response)?void 0:a.data)?void 0:e.message)||s.message||"Failed to load ticket"):l.toast.error("An unexpected error occurred"),C(null)}finally{_(!1)}})()},[k]),(0,s.useEffect)(()=>{g&&!j&&N&&setTimeout(()=>window.print(),200)},[g,j,N]);let w=async()=>{var a,s;if(N&&window.confirm(e("confirm_cancel_booking")||"Cancel this booking?"))try{let{data:e}=await r.default.post("/api/v1/bookings/cancel/".concat(N.id));(null==e?void 0:e.error)?l.toast.error((null==e?void 0:e.message)||"Failed to cancel"):(l.toast.success((null==e?void 0:e.message)||"Cancelled"),o.refresh())}catch(e){r.default.isAxiosError(e)?l.toast.error((null==(a=null==(s=e.response)?void 0:s.data)?void 0:a.message)||e.message||"Failed to cancel"):l.toast.error("An unexpected error occurred")}};if(j)return(0,a.jsx)("div",{className:"page-content",children:(0,a.jsx)(i.Container,{fluid:!0,children:(0,a.jsx)("div",{className:"loader-outer",children:(0,a.jsx)("div",{className:"loader-inner",children:(0,a.jsx)(n.SpinnerCircular,{color:"#bcc014",size:30})})})})});if(!N)return(0,a.jsx)("div",{className:"page-content",children:(0,a.jsx)(i.Container,{fluid:!1,children:(0,a.jsx)("div",{className:"ta-ticket",children:(0,a.jsxs)("div",{className:"ta-empty",children:[(0,a.jsx)("p",{className:"mb-0",children:e("no_booking_data")||"No ticket found."}),(0,a.jsx)("div",{className:"mt-3 d-flex gap-2 flex-wrap ta-no-print",children:(0,a.jsx)(d.default,{className:"btn btn-sm btn-outline-secondary ta-btn",href:"/user-bookings",children:e("back")||"Back to bookings"})})]})})})});let M=N.ticket_number||"#".concat(N.id),O=N.agency_name||"TransApp",S=N.agency_logo||null,T=N.status||"-";return(0,a.jsx)("div",{className:"page-content",children:(0,a.jsx)(i.Container,{fluid:!1,children:(0,a.jsxs)("div",{className:"ta-ticket",children:[(0,a.jsx)("div",{className:"ta-ticket__header ta-no-print",children:(0,a.jsx)(d.default,{className:"btn btn-sm btn-outline-secondary ta-btn",href:"/user-bookings",children:e("back")||"Back"})}),(0,a.jsxs)("article",{className:"ta-boarding-pass",id:"ticket-info",children:[(0,a.jsxs)("header",{className:"ta-boarding-pass__header",children:[(0,a.jsxs)("div",{className:"ta-boarding-pass__brand",children:[(0,a.jsxs)("div",{className:"ta-boarding-pass__agency",children:[S?(0,a.jsx)("img",{src:S,alt:O,width:24,height:24,style:{borderRadius:"4px",marginRight:"8px"}}):(0,a.jsx)(u,{size:16}),(0,a.jsx)("span",{children:O})]}),(0,a.jsx)("div",{className:"ta-boarding-pass__title",children:e("boarding_pass")||"Boarding pass"})]}),(0,a.jsxs)("div",{className:"ta-boarding-pass__barcode",children:[(0,a.jsx)("div",{className:"ta-boarding-pass__barcodeLabel",children:e("ticket_number")||"Ticket number"}),(0,a.jsx)("div",{className:"ta-boarding-pass__barcodeValue",children:M})]})]}),(0,a.jsxs)("section",{className:"ta-boarding-pass__route",children:[(0,a.jsxs)("div",{className:"ta-boarding-pass__routeCol",children:[(0,a.jsx)("div",{className:"ta-boarding-pass__routeLabel",children:e("from")||"From"}),(0,a.jsx)("div",{className:"ta-boarding-pass__routeCity",children:N.departure_city})]}),(0,a.jsx)("div",{className:"ta-boarding-pass__routeMid","aria-hidden":"true",children:(0,a.jsx)("span",{className:"ta-boarding-pass__routeLine"})}),(0,a.jsxs)("div",{className:"ta-boarding-pass__routeCol ta-boarding-pass__routeCol--right",children:[(0,a.jsx)("div",{className:"ta-boarding-pass__routeLabel",children:e("to")||"To"}),(0,a.jsx)("div",{className:"ta-boarding-pass__routeCity",children:N.arrival_city})]})]}),(0,a.jsxs)("div",{className:"ta-perf","aria-hidden":"true",children:[(0,a.jsx)("span",{className:"ta-perf__cut ta-perf__cut--left"}),(0,a.jsx)("span",{className:"ta-perf__line"}),(0,a.jsx)("span",{className:"ta-perf__cut ta-perf__cut--right"})]}),(0,a.jsxs)("section",{className:"ta-boarding-pass__details",children:[(0,a.jsxs)("div",{className:"ta-kv",children:[(0,a.jsxs)("div",{className:"ta-kv__k",children:[(0,a.jsx)(f.User,{size:16}),(0,a.jsx)("span",{children:e("passenger")||"Passenger"})]}),(0,a.jsx)("div",{className:"ta-kv__v",children:N.name||"-"})]}),(0,a.jsxs)("div",{className:"ta-kv",children:[(0,a.jsxs)("div",{className:"ta-kv__k",children:[(0,a.jsx)(h.CalendarDays,{size:16}),(0,a.jsx)("span",{children:e("journey_date")||"Date"})]}),(0,a.jsx)("div",{className:"ta-kv__v",children:N.journey_date})]}),(0,a.jsxs)("div",{className:"ta-kv",children:[(0,a.jsxs)("div",{className:"ta-kv__k",children:[(0,a.jsx)(p.Clock,{size:16}),(0,a.jsx)("span",{children:e("time")||"Time"})]}),(0,a.jsx)("div",{className:"ta-kv__v",children:N.departure_time})]}),(0,a.jsxs)("div",{className:"ta-kv",children:[(0,a.jsx)("div",{className:"ta-kv__k",children:(0,a.jsx)("span",{children:e("seat")||"Seat"})}),(0,a.jsx)("div",{className:"ta-kv__v",children:N.seat||"-"})]}),(0,a.jsxs)("div",{className:"ta-kv",children:[(0,a.jsx)("div",{className:"ta-kv__k",children:(0,a.jsx)("span",{children:e("status")||"Status"})}),(0,a.jsx)("div",{className:"ta-kv__v",children:(0,a.jsx)("span",{className:"ta-status is-neutral",children:T})})]}),(0,a.jsxs)("div",{className:"ta-kv ta-kv--right",children:[(0,a.jsx)("div",{className:"ta-kv__k",children:(0,a.jsx)("span",{children:e("price")||"Price"})}),(0,a.jsxs)("div",{className:"ta-kv__v ta-kv__v--price",children:[N.price," XAF"]})]})]}),(0,a.jsxs)("footer",{className:"ta-boarding-pass__actions ta-no-print",children:[(0,a.jsxs)("button",{type:"button",className:"btn btn-sm btn-primary ta-btn",onClick:()=>window.print(),children:[(0,a.jsx)(v,{size:16}),(0,a.jsx)("span",{children:e("print")||"Print"})]}),(0,a.jsxs)(d.default,{className:"btn btn-sm btn-outline-secondary ta-btn",href:"/ticket/".concat(N.id,"?print=1"),children:[(0,a.jsx)(m.Download,{size:16}),(0,a.jsx)("span",{children:e("download")||"Download"})]}),(0,a.jsxs)("button",{type:"button",className:"btn btn-sm btn-outline-danger ta-btn",onClick:w,children:[(0,a.jsx)(y.XCircle,{size:16}),(0,a.jsx)("span",{children:e("Cancel")||"Cancel"})]})]})]})]})})})}],706443)}]);