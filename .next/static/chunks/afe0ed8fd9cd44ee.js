(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,962920,e=>{e.v("/_next/static/media/transapp-logo.3c10fcbb.svg")},889129,(e,r,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0});var t={DecodeError:function(){return w},MiddlewareNotFoundError:function(){return b},MissingStaticPage:function(){return j},NormalizeError:function(){return x},PageNotFoundError:function(){return y},SP:function(){return h},ST:function(){return g},WEB_VITALS:function(){return o},execOnce:function(){return n},getDisplayName:function(){return u},getLocationOrigin:function(){return l},getURL:function(){return d},isAbsoluteUrl:function(){return c},isResSent:function(){return m},loadGetInitialProps:function(){return f},normalizeRepeatedSlashes:function(){return p},stringifyError:function(){return v}};for(var a in t)Object.defineProperty(s,a,{enumerable:!0,get:t[a]});let o=["CLS","FCP","FID","INP","LCP","TTFB"];function n(e){let r,s=!1;return function(){for(var t=arguments.length,a=Array(t),o=0;o<t;o++)a[o]=arguments[o];return s||(s=!0,r=e(...a)),r}}let i=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,c=e=>i.test(e);function l(){let{protocol:e,hostname:r,port:s}=window.location;return"".concat(e,"//").concat(r).concat(s?":"+s:"")}function d(){let{href:e}=window.location,r=l();return e.substring(r.length)}function u(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function m(e){return e.finished||e.headersSent}function p(e){let r=e.split("?");return r[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(r[1]?"?".concat(r.slice(1).join("?")):"")}async function f(e,r){let s=r.res||r.ctx&&r.ctx.res;if(!e.getInitialProps)return r.ctx&&r.Component?{pageProps:await f(r.Component,r.ctx)}:{};let t=await e.getInitialProps(r);if(s&&m(s))return t;if(!t)throw Object.defineProperty(Error('"'.concat(u(e),'.getInitialProps()" should resolve to an object. But found "').concat(t,'" instead.')),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return t}let h="undefined"!=typeof performance,g=h&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class w extends Error{}class x extends Error{}class y extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message="Cannot find module for page: ".concat(e)}}class j extends Error{constructor(e,r){super(),this.message="Failed to load static file for page: ".concat(e," ").concat(r)}}class b extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function v(e){return JSON.stringify({message:e.message,stack:e.stack})}},978757,e=>{"use strict";let r=(0,e.i(369547).default)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);e.s(["EyeOff",()=>r],978757)},97681,e=>{"use strict";let r={src:e.i(962920).default,width:113,height:48,blurWidth:0,blurHeight:0};e.s(["default",0,r])},450095,e=>{"use strict";let r=(0,e.i(369547).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>r],450095)},567401,e=>{"use strict";var r=e.i(391398),s=e.i(191788),t=e.i(217837),a=e.i(430559);e.i(47620);var o=e.i(271179),n=e.i(126019),i=e.i(97681),c=e.i(307982),l=e.i(558021),d=e.i(450095),u=e.i(978757);e.s(["default",0,e=>{let{route:m}=e,{t:p}=(0,o.useTranslation)(),f=(0,t.useRouter)(),[h,g]=(0,s.useState)(!1),[w,x]=(0,s.useState)(""),[y,j]=(0,s.useState)(""),[b,v]=(0,s.useState)(""),[N,P]=(0,s.useState)(!1),E=()=>{P(!N)},_=(0,l.useForm)(),S=(0,l.useForm)(),C=h?S.formState.errors:_.formState.errors,k=h?S.handleSubmit:_.handleSubmit,F=async()=>{try{if(!w)return void c.toast.error("Email is required");let{data:e}=await a.default.post("api/v1/".concat(m),{email:w});e.error?c.toast.error(e.message||"Error occurred"):(c.toast.success(e.message||"Password reset email sent. Please check your email."),g(!0))}catch(s){if(a.default.isAxiosError(s)){var e,r;c.toast.error((null==(r=s.response)||null==(e=r.data)?void 0:e.message)||"Failed to process request")}else c.toast.error("An unexpected error occurred")}},T=async()=>{try{if(!w||!y)return void c.toast.error("Email and password are required");if(y.length<6)return void c.toast.error("Password must be at least 6 characters");let{data:e}=await a.default.post("api/v1/users/user-reset",{email:w,password:y,resetCode:b});e.error?c.toast.error(e.message||"Error occurred"):(c.toast.success(e.message||"Password reset successful"),f.push("/login"))}catch(s){if(a.default.isAxiosError(s)){var e,r;c.toast.error((null==(r=s.response)||null==(e=r.data)?void 0:e.message)||"Failed to reset password")}else c.toast.error("An unexpected error occurred")}};return(0,r.jsx)("div",{className:"min-vh-100 d-flex flex-column opacity-mask","data-opacity-mask":"rgba(0, 0, 0, 0.4)",children:(0,r.jsx)("div",{className:"container my-auto",children:(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("div",{className:"col-md-9 col-lg-7 col-xl-5 mx-auto my-4",children:(0,r.jsxs)("div",{className:"panel header_2 center",children:[(0,r.jsx)("figure",{children:(0,r.jsx)("a",{href:"#0",children:(0,r.jsx)(n.default,{src:i.default,width:86,height:80,alt:"TransApp Logo"})})}),(0,r.jsxs)("form",{className:"input_style_1",onSubmit:k(h?T:F),children:[h?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("label",{htmlFor:"password",children:p("password")}),(0,r.jsx)("div",{className:"row",children:(0,r.jsxs)("div",{className:"input-group mb-3 col-lg-12",children:[(0,r.jsx)("input",{type:N?"text":"password",name:"password",id:"password",className:"form-control",value:y,onChange:e=>j(e.target.value)}),(0,r.jsx)("div",{className:"input-group-prepend bg-white",children:(0,r.jsx)("span",{className:"input-group-text border-left-0 rounded-right bg-white",id:"basic-addon1",children:N?(0,r.jsx)(d.Eye,{onClick:E,style:{cursor:"pointer"},size:18}):(0,r.jsx)(u.EyeOff,{onClick:E,style:{cursor:"pointer"},size:18})})})]})}),"password"in C&&C.password&&(0,r.jsx)("p",{style:{color:"red"},children:p("password_err")}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{htmlFor:"resetCode",children:p("resetCode")}),(0,r.jsx)("input",{type:"text",name:"resetCode",id:"resetCode",value:b,onChange:e=>v(e.target.value),className:"form-control"}),"resetCode"in C&&C.resetCode&&(0,r.jsx)("p",{style:{color:"red"},children:p("password_err")})]})]}):(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{htmlFor:"email_address",children:p("email_address")}),(0,r.jsx)("input",{type:"email",name:"email_address",id:"email_address",value:w,onChange:e=>x(e.target.value),className:"form-control"}),"email"in C&&C.email&&(0,r.jsx)("p",{style:{color:"red"},children:p("email_err")})]}),(0,r.jsx)("button",{type:"submit",className:"btn_1 full-width",children:p(h?"reset_password":"submit")})]})]})})})})})}])},506204,e=>{"use strict";var r=e.i(391398),s=e.i(191788),t=e.i(217837),a=e.i(567401),o=e.i(283127),n=e.i(307982);e.s(["default",0,()=>{let e=(0,t.useRouter)(),[i,c]=(0,s.useState)(!1);(0,s.useEffect)(()=>{let e=window.location.hash;e&&e.includes("access_token")&&c(!0)},[]);let l=async r=>{try{if(!o.supabase)return void n.toast.error("Supabase is not configured. Please contact support.");let{error:s}=await o.supabase.auth.updateUser({password:r});s?n.toast.error(s.message||"Failed to reset password"):(n.toast.success("Password reset successful! You can now log in."),e.push("/login"))}catch(e){n.toast.error("An unexpected error occurred")}};return i?(0,r.jsx)("div",{className:"min-vh-100 d-flex flex-column opacity-mask","data-opacity-mask":"rgba(0, 0, 0, 0.4)",children:(0,r.jsx)("div",{className:"container my-auto",children:(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("div",{className:"col-md-9 col-lg-7 col-xl-5 mx-auto my-4",children:(0,r.jsxs)("div",{className:"panel header_2 center",children:[(0,r.jsx)("h3",{children:"Reset Your Password"}),(0,r.jsx)("p",{children:"Please enter your new password below."}),(0,r.jsxs)("form",{onSubmit:async e=>{e.preventDefault();let r=new FormData(e.currentTarget),s=r.get("password"),t=r.get("confirmPassword");!s||s.length<6?n.toast.error("Password must be at least 6 characters"):s!==t?n.toast.error("Passwords do not match"):await l(s)},children:[(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{htmlFor:"password",children:"New Password"}),(0,r.jsx)("input",{type:"password",name:"password",id:"password",className:"form-control",required:!0,minLength:6})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),(0,r.jsx)("input",{type:"password",name:"confirmPassword",id:"confirmPassword",className:"form-control",required:!0,minLength:6})]}),(0,r.jsx)("button",{type:"submit",className:"btn_1 full-width",children:"Reset Password"})]})]})})})})}):(0,r.jsx)(a.default,{route:"users/user-forgot"})}])},801416,(e,r,s)=>{let t="/Users/ResetPassword";(window.__NEXT_P=window.__NEXT_P||[]).push([t,()=>e.r(506204)]),r.hot&&r.hot.dispose(function(){window.__NEXT_P.push([t])})},648761,e=>{e.v(r=>Promise.all(["static/chunks/677b0c42e84c1cab.js"].map(r=>e.l(r))).then(()=>r(493594)))},828805,e=>{e.v(r=>Promise.all(["static/chunks/91b902d1b9d92abb.js"].map(r=>e.l(r))).then(()=>r(879466)))}]);