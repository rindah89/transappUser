(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,109327,e=>{"use strict";var t,a=e.i(271645),i=function(){return(i=Object.assign||function(e){for(var t,a=1,i=arguments.length;a<i;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function r(e,t){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>t.indexOf(i)&&(a[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)0>t.indexOf(i[r])&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(a[i[r]]=e[i[r]]);return a}var s=i(i({},{speed:100,still:!1,thickness:100}),{secondaryColor:"rgba(0,0,0,0.44)"});!function(e,t){void 0===t&&(t={});var a=t.insertAt;if(e&&"undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===a&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}("@keyframes spinners-react-circular{0%{stroke-dashoffset:306}50%{stroke-dasharray:40,134}to{stroke-dasharray:1,174;stroke-dashoffset:132}}");var l=function(e){var t=e.secondaryColor,s=e.speed,l=e.still,n=e.thickness,o=r(e,["secondaryColor","speed","still","thickness"]),d=n/100*4;return a.default.createElement("svg",i({fill:"none"},o,{viewBox:"0 0 66 66"}),a.default.createElement("circle",{cx:"33",cy:"33",fill:"none",r:"28",stroke:t,strokeWidth:d}),a.default.createElement("circle",{cx:"33",cy:"33",fill:"none",r:"28",stroke:"currentColor",strokeDasharray:"1, 174",strokeDashoffset:"306",strokeLinecap:"round",strokeWidth:d,style:l?{}:{animation:"spinners-react-circular "+140/s+"s linear infinite"}}))};l.defaultProps=s;var n=((t=function(e){var t=e.color,s=e.enabled,n=e.size,o=e.style,d=r(e,["color","enabled","size","style"]),c=i(i({},d),{style:i({color:t,overflow:"visible",width:parseFloat(n.toString()).toString()===n.toString()?n+"px":n.toString()},o)});return s?a.default.createElement(l,i({},c)):null}).defaultProps={color:"#38ad48",enabled:!0,size:50,style:{}},t);e.s(["SpinnerCircular",()=>n],109327)},753528,(e,t,a)=>{"use strict";var i=(()=>{var e=Object.defineProperty,t=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,i=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,l=(t,a,i)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[a]=i,n=(e,t)=>{for(var a in t||(t={}))r.call(t,a)&&l(e,a,t[a]);if(i)for(var a of i(t))s.call(t,a)&&l(e,a,t[a]);return e},o=(e,t,a)=>l(e,"symbol"!=typeof t?t+"":t,a),d={},c={DEFAULT_OPTIONS:()=>p,DEFAULT_UUID_LENGTH:()=>u,default:()=>m};for(var h in c)e(d,h,{get:c[h],enumerable:!0});var u=6,p={dictionary:"alphanum",shuffle:!0,debug:!1,length:6,counter:0},_=class{constructor(e={}){var t=this;o(this,"counter"),o(this,"debug"),o(this,"dict"),o(this,"version"),o(this,"dictIndex",0),o(this,"dictRange",[]),o(this,"lowerBound",0),o(this,"upperBound",0),o(this,"dictLength",0),o(this,"uuidLength"),o(this,"_digit_first_ascii",48),o(this,"_digit_last_ascii",58),o(this,"_alpha_lower_first_ascii",97),o(this,"_alpha_lower_last_ascii",123),o(this,"_hex_last_ascii",103),o(this,"_alpha_upper_first_ascii",65),o(this,"_alpha_upper_last_ascii",91),o(this,"_number_dict_ranges",{digits:[this._digit_first_ascii,this._digit_last_ascii]}),o(this,"_alpha_dict_ranges",{lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii],upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]}),o(this,"_alpha_lower_dict_ranges",{lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii]}),o(this,"_alpha_upper_dict_ranges",{upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]}),o(this,"_alphanum_dict_ranges",{digits:[this._digit_first_ascii,this._digit_last_ascii],lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii],upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]}),o(this,"_alphanum_lower_dict_ranges",{digits:[this._digit_first_ascii,this._digit_last_ascii],lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii]}),o(this,"_alphanum_upper_dict_ranges",{digits:[this._digit_first_ascii,this._digit_last_ascii],upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]}),o(this,"_hex_dict_ranges",{decDigits:[this._digit_first_ascii,this._digit_last_ascii],alphaDigits:[this._alpha_lower_first_ascii,this._hex_last_ascii]}),o(this,"_dict_ranges",{_number_dict_ranges:this._number_dict_ranges,_alpha_dict_ranges:this._alpha_dict_ranges,_alpha_lower_dict_ranges:this._alpha_lower_dict_ranges,_alpha_upper_dict_ranges:this._alpha_upper_dict_ranges,_alphanum_dict_ranges:this._alphanum_dict_ranges,_alphanum_lower_dict_ranges:this._alphanum_lower_dict_ranges,_alphanum_upper_dict_ranges:this._alphanum_upper_dict_ranges,_hex_dict_ranges:this._hex_dict_ranges}),o(this,"log",function(){for(var e=arguments.length,a=Array(e),i=0;i<e;i++)a[i]=arguments[i];let r=[...a];if(r[0]="[short-unique-id] ".concat(a[0]),!0===t.debug&&"undefined"!=typeof console&&null!==console)return void console.log(...r)}),o(this,"_normalizeDictionary",(e,t)=>{let a;if(e&&Array.isArray(e)&&e.length>1)a=e;else{a=[],this.dictIndex=0;let t="_".concat(e,"_dict_ranges"),i=this._dict_ranges[t],r=0;for(let[,e]of Object.entries(i)){let[t,a]=e;r+=Math.abs(a-t)}a=Array(r);let s=0;for(let[,e]of Object.entries(i)){this.dictRange=e,this.lowerBound=this.dictRange[0],this.upperBound=this.dictRange[1];let t=this.lowerBound<=this.upperBound,i=this.lowerBound,r=this.upperBound;if(t)for(let e=i;e<r;e++)a[s++]=String.fromCharCode(e),this.dictIndex=e;else for(let e=i;e>r;e--)a[s++]=String.fromCharCode(e),this.dictIndex=e}a.length=s}if(t){let e=a.length;for(let t=e-1;t>0;t--){let e=Math.floor(Math.random()*(t+1));[a[t],a[e]]=[a[e],a[t]]}}return a}),o(this,"setDictionary",(e,t)=>{this.dict=this._normalizeDictionary(e,t),this.dictLength=this.dict.length,this.setCounter(0)}),o(this,"seq",()=>this.sequentialUUID()),o(this,"sequentialUUID",()=>{let e=this.dictLength,t=this.dict,a=this.counter,i=[];do{let r=a%e;a=Math.trunc(a/e),i.push(t[r])}while(0!==a)let r=i.join("");return this.counter+=1,r}),o(this,"rnd",function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.uuidLength||u;return t.randomUUID(e)}),o(this,"randomUUID",function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.uuidLength||u;if(null==e||e<1)throw Error("Invalid UUID Length Provided");let a=Array(e),i=t.dictLength,r=t.dict;for(let t=0;t<e;t++){let e=Math.floor(Math.random()*i);a[t]=r[e]}return a.join("")}),o(this,"fmt",(e,t)=>this.formattedUUID(e,t)),o(this,"formattedUUID",(e,t)=>{let a={$r:this.randomUUID,$s:this.sequentialUUID,$t:this.stamp};return e.replace(/\$[rs]\d{0,}|\$t0|\$t[1-9]\d{1,}/g,e=>{let i=e.slice(0,2),r=Number.parseInt(e.slice(2),10);return"$s"===i?a[i]().padStart(r,"0"):"$t"===i&&t?a[i](r,t):a[i](r)})}),o(this,"availableUUIDs",function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.uuidLength;return Number.parseFloat(([...new Set(t.dict)].length**e).toFixed(0))}),o(this,"_collisionCache",new Map),o(this,"approxMaxBeforeCollision",function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.availableUUIDs(t.uuidLength),a=t._collisionCache.get(e);if(void 0!==a)return a;let i=Number.parseFloat(Math.sqrt(Math.PI/2*e).toFixed(20));return t._collisionCache.set(e,i),i}),o(this,"collisionProbability",function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.availableUUIDs(t.uuidLength),a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.uuidLength;return Number.parseFloat((t.approxMaxBeforeCollision(e)/t.availableUUIDs(a)).toFixed(20))}),o(this,"uniqueness",function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.availableUUIDs(t.uuidLength),a=Number.parseFloat((1-t.approxMaxBeforeCollision(e)/e).toFixed(20));return a>1?1:a<0?0:a}),o(this,"getVersion",()=>this.version),o(this,"stamp",(e,t)=>{let a=Math.floor((t||new Date)/1e3).toString(16);if("number"==typeof e&&0===e)return a;if("number"!=typeof e||e<10)throw Error("Param finalLength must be a number greater than or equal to 10,\nor 0 if you want the raw hexadecimal timestamp");let i=e-9,r=Math.round(Math.random()*(i>15?15:i)),s=this.randomUUID(i);return"".concat(s.substring(0,r)).concat(a).concat(s.substring(r)).concat(r.toString(16))}),o(this,"parseStamp",(e,t)=>{if(t&&!/t0|t[1-9]\d{1,}/.test(t))throw Error("Cannot extract date from a formated UUID with no timestamp in the format");let a=t?t.replace(/\$[rs]\d{0,}|\$t0|\$t[1-9]\d{1,}/g,e=>({$r:e=>[...Array(e)].map(()=>"r").join(""),$s:e=>[...Array(e)].map(()=>"s").join(""),$t:e=>[...Array(e)].map(()=>"t").join("")})[e.slice(0,2)](Number.parseInt(e.slice(2),10))).replace(/^(.*?)(t{8,})(.*)$/g,(t,a,i)=>e.substring(a.length,a.length+i.length)):e;if(8===a.length)return new Date(1e3*Number.parseInt(a,16));if(a.length<10)throw Error("Stamp length invalid");let i=Number.parseInt(a.substring(a.length-1),16);return new Date(1e3*Number.parseInt(a.substring(i,i+8),16))}),o(this,"setCounter",e=>{this.counter=e}),o(this,"validate",(e,t)=>{let a=t?this._normalizeDictionary(t):this.dict;return e.split("").every(e=>a.includes(e))});const a=n(n({},p),e);this.counter=0,this.debug=!1,this.dict=[],this.version="5.3.2";const{dictionary:i,shuffle:r,length:s,counter:l}=a;this.uuidLength=s,this.setDictionary(i,r),this.setCounter(l),this.debug=a.debug,this.log(this.dict),this.log("Generator instantiated with Dictionary Size ".concat(this.dictLength," and counter set to ").concat(this.counter)),this.log=this.log.bind(this),this.setDictionary=this.setDictionary.bind(this),this.setCounter=this.setCounter.bind(this),this.seq=this.seq.bind(this),this.sequentialUUID=this.sequentialUUID.bind(this),this.rnd=this.rnd.bind(this),this.randomUUID=this.randomUUID.bind(this),this.fmt=this.fmt.bind(this),this.formattedUUID=this.formattedUUID.bind(this),this.availableUUIDs=this.availableUUIDs.bind(this),this.approxMaxBeforeCollision=this.approxMaxBeforeCollision.bind(this),this.collisionProbability=this.collisionProbability.bind(this),this.uniqueness=this.uniqueness.bind(this),this.getVersion=this.getVersion.bind(this),this.stamp=this.stamp.bind(this),this.parseStamp=this.parseStamp.bind(this)}};o(_,"default",_);var m=_;return((i,s,l,n)=>{if(s&&"object"==typeof s||"function"==typeof s)for(let o of a(s))r.call(i,o)||o===l||e(i,o,{get:()=>s[o],enumerable:!(n=t(s,o))||n.enumerable});return i})(e({},"__esModule",{value:!0}),d)})();t.exports=i.default,"undefined"!=typeof window&&(i=i.default)},493390,e=>{"use strict";var t=e.i(247167),a=e.i(120786),i=e.i(92808),r=e.i(843476),s=e.i(271645),l=e.i(109327),n=e.i(233027),o=e.i(343794);let d=s.createContext({prefixes:{},breakpoints:["xxl","xl","lg","md","sm","xs"],minBreakpoint:"xs"}),{Consumer:c,Provider:h}=d;function u(e,t){let{prefixes:a}=(0,s.useContext)(d);return e||a[t]||t}function p(){let{breakpoints:e}=(0,s.useContext)(d);return e}function _(){let{minBreakpoint:e}=(0,s.useContext)(d);return e}let m=s.forwardRef((e,t)=>{var{bsPrefix:s,className:l,as:d="div"}=e,c=(0,n._)(e,["bsPrefix","className","as"]);let h=u(s,"row"),m=p(),f=_(),g="".concat(h,"-cols"),x=[];return m.forEach(e=>{let t,a=c[e];delete c[e],null!=a&&"object"==typeof a?{cols:t}=a:t=a,null!=t&&x.push("".concat(g).concat(e!==f?"-".concat(e):"","-").concat(t))}),(0,r.jsx)(d,(0,i._)((0,a._)({ref:t},c),{className:(0,o.default)(l,h,...x)}))});m.displayName="Row";let f=s.forwardRef((e,t)=>{let s=function(e){var{as:t,bsPrefix:r,className:s}=e,l=(0,n._)(e,["as","bsPrefix","className"]);r=u(r,"col");let d=p(),c=_(),h=[],m=[];return d.forEach(e=>{let t,a,i,s=l[e];delete l[e],"object"==typeof s&&null!=s?{span:t,offset:a,order:i}=s:t=s;let n=e!==c?"-".concat(e):"";t&&h.push(!0===t?"".concat(r).concat(n):"".concat(r).concat(n,"-").concat(t)),null!=i&&m.push("order".concat(n,"-").concat(i)),null!=a&&m.push("offset".concat(n,"-").concat(a))}),[(0,i._)((0,a._)({},l),{className:(0,o.default)(s,...h,...m)}),{as:t,bsPrefix:r,spans:h}]}(e),[{className:l},{as:d="div",bsPrefix:c,spans:h}]=s,m=(0,n._)(s[0],["className"]);return(0,r.jsx)(d,(0,i._)((0,a._)({},m),{ref:t,className:(0,o.default)(l,!h.length&&c)}))});f.displayName="Col";let g=s.forwardRef((e,t)=>{var{className:i,bsPrefix:s,as:l="div"}=e,d=(0,n._)(e,["className","bsPrefix","as"]);return s=u(s,"card-body"),(0,r.jsx)(l,(0,a._)({ref:t,className:(0,o.default)(i,s)},d))});g.displayName="CardBody";let x=s.forwardRef((e,t)=>{var{className:i,bsPrefix:s,as:l="div"}=e,d=(0,n._)(e,["className","bsPrefix","as"]);return s=u(s,"card-footer"),(0,r.jsx)(l,(0,a._)({ref:t,className:(0,o.default)(i,s)},d))});x.displayName="CardFooter";let b=s.createContext(null);b.displayName="CardHeaderContext";let v=s.forwardRef((e,t)=>{var{bsPrefix:l,className:d,as:c="div"}=e,h=(0,n._)(e,["bsPrefix","className","as"]);let p=u(l,"card-header"),_=(0,s.useMemo)(()=>({cardHeaderBsPrefix:p}),[p]);return(0,r.jsx)(b.Provider,{value:_,children:(0,r.jsx)(c,(0,i._)((0,a._)({ref:t},h),{className:(0,o.default)(d,p)}))})});v.displayName="CardHeader";let y=s.forwardRef((e,t)=>{var{bsPrefix:i,className:s,variant:l,as:d="img"}=e,c=(0,n._)(e,["bsPrefix","className","variant","as"]);let h=u(i,"card-img");return(0,r.jsx)(d,(0,a._)({ref:t,className:(0,o.default)(l?"".concat(h,"-").concat(l):h,s)},c))});y.displayName="CardImg";let j=s.forwardRef((e,t)=>{var{className:i,bsPrefix:s,as:l="div"}=e,d=(0,n._)(e,["className","bsPrefix","as"]);return s=u(s,"card-img-overlay"),(0,r.jsx)(l,(0,a._)({ref:t,className:(0,o.default)(i,s)},d))});j.displayName="CardImgOverlay";let N=s.forwardRef((e,t)=>{var{className:i,bsPrefix:s,as:l="a"}=e,d=(0,n._)(e,["className","bsPrefix","as"]);return s=u(s,"card-link"),(0,r.jsx)(l,(0,a._)({ref:t,className:(0,o.default)(i,s)},d))});N.displayName="CardLink";let w=e=>s.forwardRef((t,s)=>(0,r.jsx)("div",(0,i._)((0,a._)({},t),{ref:s,className:(0,o.default)(t.className,e)}))),C=w("h6"),U=s.forwardRef((e,t)=>{var{className:i,bsPrefix:s,as:l=C}=e,d=(0,n._)(e,["className","bsPrefix","as"]);return s=u(s,"card-subtitle"),(0,r.jsx)(l,(0,a._)({ref:t,className:(0,o.default)(i,s)},d))});U.displayName="CardSubtitle";let D=s.forwardRef((e,t)=>{var{className:i,bsPrefix:s,as:l="p"}=e,d=(0,n._)(e,["className","bsPrefix","as"]);return s=u(s,"card-text"),(0,r.jsx)(l,(0,a._)({ref:t,className:(0,o.default)(i,s)},d))});D.displayName="CardText";let I=w("h5"),P=s.forwardRef((e,t)=>{var{className:i,bsPrefix:s,as:l=I}=e,d=(0,n._)(e,["className","bsPrefix","as"]);return s=u(s,"card-title"),(0,r.jsx)(l,(0,a._)({ref:t,className:(0,o.default)(i,s)},d))});P.displayName="CardTitle";let k=s.forwardRef((e,t)=>{var{bsPrefix:s,className:l,bg:d,text:c,border:h,body:p=!1,children:_,as:m="div"}=e,f=(0,n._)(e,["bsPrefix","className","bg","text","border","body","children","as"]);let x=u(s,"card");return(0,r.jsx)(m,(0,i._)((0,a._)({ref:t},f),{className:(0,o.default)(l,x,d&&"bg-".concat(d),c&&"text-".concat(c),h&&"border-".concat(h)),children:p?(0,r.jsx)(g,{children:_}):_}))});k.displayName="Card";let O=Object.assign(k,{Img:y,Title:P,Subtitle:U,Body:g,Link:N,Text:D,Header:v,Footer:x,ImgOverlay:j}),S=["as","disabled"];function B(e){let{tagName:t,disabled:a,href:i,target:r,rel:s,role:l,onClick:n,tabIndex:o=0,type:d}=e;t||(t=null!=i||null!=r||null!=s?"a":"button");let c={tagName:t};if("button"===t)return[{type:d||"button",disabled:a},c];let h=e=>{var r;(!a&&("a"!==t||(r=i)&&"#"!==r.trim())||e.preventDefault(),a)?e.stopPropagation():null==n||n(e)};return"a"===t&&(i||(i="#"),a&&(i=void 0)),[{role:null!=l?l:"button",disabled:void 0,tabIndex:a?void 0:o,href:i,target:"a"===t?r:void 0,"aria-disabled":a||void 0,rel:"a"===t?s:void 0,onClick:h,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),h(e))}},c]}s.forwardRef((e,t)=>{let{as:a,disabled:i}=e,s=function(e,t){if(null==e)return{};var a={};for(var i in e)if(({}).hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;a[i]=e[i]}return a}(e,S),[l,{tagName:n}]=B(Object.assign({tagName:a,disabled:i},s));return(0,r.jsx)(n,Object.assign({},s,l,{ref:t}))}).displayName="Button";let E=s.forwardRef((e,t)=>{var{as:s,bsPrefix:l,variant:d="primary",size:c,active:h=!1,disabled:p=!1,className:_}=e,m=(0,n._)(e,["as","bsPrefix","variant","size","active","disabled","className"]);let f=u(l,"btn"),[g,{tagName:x}]=B((0,a._)({tagName:s,disabled:p},m));return(0,r.jsx)(x,(0,i._)((0,a._)({},g,m),{ref:t,disabled:p,className:(0,o.default)(_,f,h&&"active",d&&"".concat(f,"-").concat(d),c&&"".concat(f,"-").concat(c),m.href&&p&&"disabled")}))});E.displayName="Button";var A=e.i(618566),T=e.i(705766),L=e.i(166540);e.i(785269);var M=e.i(322831),F=e.i(307573),R=e.i(901381),q=e.i(753528),$=e.i(581949);e.s(["default",0,()=>{var e;let{t:n}=(0,M.useTranslation)(),o=(0,A.useRouter)(),[d,c]=(0,s.useState)(!1),[h,u]=(0,s.useState)({name:"",idCardNo:null,payerName:"",phoneNumber:null,payerEmail:"",numberOfSeats:1,ticketType:"One-way",seat:""}),{name:p,idCardNo:_,payerName:g,phoneNumber:x,payerEmail:b,numberOfSeats:v,ticketType:y,seat:j}=h;(0,s.useEffect)(()=>{"undefined"!=typeof document&&document.body.setAttribute("style","background: #f8f8f8!important;")},[]);let N=e=>t=>{u((0,i._)((0,a._)({},h),{[e]:t.target.value}))},{actions:w,state:C}=(0,F.useStateMachine)({updateBooking:R.updateBooking,updateAction:R.updateAction,updateUser:R.updateUser}),U=async e=>{var t,a,i,r,s,l,n;e.preventDefault(),c(!0);let d=null==(t=null==C?void 0:C.trip)?void 0:t.trip;if(!d){T.toast.error("No trip selected"),c(!1);return}try{if(null==(r=null==C?void 0:C.user)||null==(i=r.data)||null==(a=i.data)?void 0:a.email){let{data:e}=await $.default.post("api/v1/bookings/create-booking/".concat(d.id),h);(null==e?void 0:e.error)?T.toast.error(e.message):(w.updateBooking({booking:e.data}),D(),T.toast.success(e.message),c(!1))}else{let{data:e}=await $.default.post("api/v1/bookings/anon-booking/".concat(d.id),h);if(null==e?void 0:e.error)T.toast.error(e.message);else{w.updateBooking({booking:e.data});let t=null==e||null==(s=e.data)?void 0:s.id;o.push(t?"/ticket/".concat(t):"/ticket-summary"),T.toast.success(e.message),c(!1)}}}catch(e){$.default.isAxiosError(e)?T.toast.error((null==(n=e.response)||null==(l=n.data)?void 0:l.message)||"Failed to create booking"):T.toast.error("An unexpected error occurred"),c(!1)}},D=async()=>{var e,a,i;let r=new q.default({length:7,dictionary:"alphanum_upper"}),s={"Content-Type":"application/json",Authorization:"Basic 4d70631d-397c-4efd-929a-87fcd3a9d1622a8f415d-d9d2-4834-a573-b12c1375b94c","x-api-key":t.default.env.NEXT_PUBLIC_PAYUNIT_API_KEY||"sand_wjYGZXPZoSYMsV8p8jvlXjMCnK1bnW",mode:"test"},l=null==(e=null==C?void 0:C.trip)?void 0:e.trip,n={total_amount:(null==l?void 0:l.price)||100,currency:"XAF",transaction_id:r.rnd(),return_url:"".concat("http://localhost:3000","/api/v1/bookings/payunit-return")};try{let{data:e}=await $.default.post("https://app.payunit.net/api/gateway/initialize",n,{headers:s});(null==e?void 0:e.error)?T.toast.error(e.message):o.push("/ticket-summary")}catch(e){$.default.isAxiosError(e)?T.toast.error((null==(i=e.response)||null==(a=i.data)?void 0:a.message)||"Payment initialization failed"):T.toast.error("An unexpected error occurred")}},I=null==(e=null==C?void 0:C.trip)?void 0:e.trip;return(0,r.jsx)("div",{className:"container ticket-form",children:(0,r.jsxs)(m,{children:[(0,r.jsx)(f,{lg:6,children:(0,r.jsxs)("form",{children:[(0,r.jsx)(O,{children:(0,r.jsxs)(O.Body,{children:[(0,r.jsx)("h6",{children:"Enter Passenger Details"}),(0,r.jsxs)(m,{children:[(0,r.jsx)(f,{lg:6,children:(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{htmlFor:"name",children:n("name")}),(0,r.jsx)("input",{type:"text",name:"name",id:"name",required:!0,className:"form-control",onChange:N("name"),value:p})]})}),(0,r.jsx)(f,{lg:6,children:(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{htmlFor:"idCardNo",children:n("id_card")}),(0,r.jsx)("input",{type:"text",name:"idCardNo",id:"idCardNo",required:!0,className:"form-control",onChange:N("idCardNo"),value:_||""})]})})]})]})}),(0,r.jsx)(O,{children:(0,r.jsxs)(O.Body,{children:[(0,r.jsx)("h6",{children:n("seat")||"Seat"}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{htmlFor:"seat",children:n("seat")||"Seat"}),(0,r.jsxs)("select",{id:"seat",name:"seat",required:!0,className:"form-control",value:j,onChange:N("seat"),children:[(0,r.jsx)("option",{value:"",children:n("select")||"Select"}),Array.from({length:Number((null==I?void 0:I.seats)||0)},(e,t)=>String(t+1)).map(e=>(0,r.jsx)("option",{value:e,children:e},e))]})]})]})}),(0,r.jsx)(O,{children:(0,r.jsxs)(O.Body,{children:[(0,r.jsx)("h6",{children:"Details of Person Paying"}),(0,r.jsxs)(m,{children:[(0,r.jsx)(f,{lg:6,children:(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{htmlFor:"payerName",children:n("name")}),(0,r.jsx)("input",{type:"text",name:"payerName",id:"payerName",required:!0,className:"form-control",onChange:N("payerName"),value:g})]})}),(0,r.jsx)(f,{lg:6,children:(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{htmlFor:"payerEmail",children:n("email_address")}),(0,r.jsx)("input",{type:"email",name:"payerEmail",id:"payerEmail",required:!0,className:"form-control",onChange:N("payerEmail"),value:b})]})}),(0,r.jsx)(f,{lg:6,children:(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{htmlFor:"phoneNumber",children:n("phone")}),(0,r.jsx)("input",{type:"number",name:"phoneNumber",id:"phoneNumber",required:!0,className:"form-control",onChange:N("phoneNumber"),value:x||""})]})})]})]})}),(0,r.jsx)(O,{children:(0,r.jsxs)(O.Body,{children:[(0,r.jsx)("small",{children:"You will be redirected to related website to do this transaction"}),(0,r.jsx)(m,{className:"mt-5",children:(0,r.jsx)(f,{lg:12,children:d?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.SpinnerCircular,{})," ",(0,r.jsx)("p",{children:"Just a moment please buddy..."})]}):(0,r.jsx)(E,{className:"w-100",variant:"success",onClick:U,children:"MAKE PAYMENT NOW"})})})]})})]})}),(0,r.jsx)(f,{lg:6,className:"mt-3",children:I&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h6",{children:"Onward Trip Details"}),(0,r.jsx)("small",{children:I.agency_name||I.agencyName})]}),(0,r.jsx)(m,{children:(0,r.jsx)(f,{lg:6,children:(0,r.jsxs)(m,{children:[(0,r.jsx)(f,{children:(0,r.jsx)("small",{children:I.from_location||I.from})}),(0,r.jsx)(f,{children:(0,r.jsx)("span",{children:" To "})}),(0,r.jsx)(f,{children:(0,r.jsx)("small",{children:I.to_location||I.to})})]})})}),(0,r.jsxs)(m,{children:[(0,r.jsx)(f,{children:(0,r.jsx)("small",{children:I.journey_date||I.journeyDate})}),(0,r.jsx)(f,{children:(0,r.jsx)("small",{children:I.departure||I.departure_time})}),(0,r.jsx)(f,{children:(0,r.jsx)("small",{children:I.arrival?(0,L.default)(I.arrival).format("LT"):""})})]}),(0,r.jsx)("hr",{className:"mt-4"}),(0,r.jsx)(m,{children:(0,r.jsx)(f,{children:(0,r.jsx)("h6",{children:"Passenger Details"})})}),(0,r.jsxs)(m,{children:[(0,r.jsxs)(f,{children:[(0,r.jsx)("div",{children:(0,r.jsx)("small",{children:"Name"})}),(0,r.jsx)("div",{children:(0,r.jsx)("small",{children:p})})]}),(0,r.jsxs)(f,{children:[(0,r.jsx)("div",{children:(0,r.jsx)("small",{children:"ID Card"})}),(0,r.jsx)("div",{children:(0,r.jsx)("small",{children:_})})]}),(0,r.jsxs)(f,{children:[(0,r.jsx)("div",{children:(0,r.jsx)("small",{children:"Number Of Seats"})}),(0,r.jsx)("div",{children:(0,r.jsx)("small",{children:v})})]}),(0,r.jsxs)(f,{children:[(0,r.jsx)("div",{children:(0,r.jsx)("small",{children:"Type"})}),(0,r.jsx)("div",{children:(0,r.jsx)("small",{children:y})})]})]})]})})]})})}],493390)}]);