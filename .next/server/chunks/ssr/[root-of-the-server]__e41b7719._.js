module.exports=[489679,a=>a.a(async(b,c)=>{try{let b=await a.y("socket.io-client");a.n(b),c()}catch(a){c(a)}},!0),782599,a=>a.a(async(b,c)=>{try{var d=a.i(508171),e=a.i(261482),f=a.i(23150),g=a.i(76189),h=a.i(227073),i=a.i(480868),j=a.i(547750),k=a.i(820864),l=a.i(653160),m=a.i(926653),n=b([j]);[j]=n.then?(await n)():n,a.s(["default",0,({downloadTicket:a,working:b,modalConfirm:c,setModalConfirm:n,buttonText:o="Download"})=>{let{t:p}=(0,j.useTranslation)(),{state:q}=(0,k.useStateMachine)({updateBooking:l.updateBooking,updateAction:l.updateAction,updateUser:l.updateUser}),r=q?.trip?.trip,s=q?.booking?.booking?.data,t=Number(r?.price||0),u=r?.price?r.price/100*10>500?500:r.price/100*10:0,v=Number.isFinite(t)?t:0;return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)(e.Modal,{isOpen:c.modal_static,backdrop:"static",centered:!0,size:"md",children:[(0,d.jsx)(f.ModalHeader,{toggle:()=>n({modal_static:!1}),children:(0,d.jsxs)("h2",{style:{color:"green",fontWeight:"bold"},children:[p("book_success"),"!"]})}),(0,d.jsxs)(g.ModalBody,{children:[(0,d.jsx)("div",{className:"row",children:(0,d.jsxs)("div",{id:"ticket-info",className:"col-md-9 col-lg-6 col-xl-5 mx-auto",children:[(0,d.jsxs)("ul",{className:"",children:[(0,d.jsxs)("li",{children:[p("Agency"),": ",(0,d.jsx)("span",{children:r?.agency_name||r?.agencyName})]}),(0,d.jsxs)("li",{children:[p("name"),": ",(0,d.jsx)("span",{children:s?.name})]}),(0,d.jsxs)("li",{children:[p("seat"),": ",(0,d.jsx)("span",{children:s?.seat})]}),(0,d.jsxs)("li",{children:[p("ticket_number"),": ",(0,d.jsx)("span",{children:s?.ticket_number||s?.ticketNumber})]}),(0,d.jsxs)("li",{children:[p("to"),": ",(0,d.jsx)("span",{children:r?.to_location||r?.to})]}),(0,d.jsxs)("li",{children:[p("journey_date"),": ",(0,d.jsx)("span",{children:r?.journey_date||r?.journeyDate})]}),(0,d.jsxs)("li",{children:[p("time"),": ",(0,d.jsx)("span",{children:r?.departure||r?.departure_time})]}),(0,d.jsxs)("li",{children:[p("fare"),": ",(0,d.jsxs)("span",{children:[t," ","XAF"]})]}),(0,d.jsxs)("li",{children:[p("reservation_fee")||p("booking_fee"),": ",(0,d.jsxs)("span",{children:[u," ","XAF"]})]}),(0,d.jsxs)("li",{children:[p("discount")||"Discount",":"," ",(0,d.jsxs)("span",{style:{color:"green",fontWeight:700},children:["-",u," ","XAF"," (100%)"]})]}),(0,d.jsxs)("li",{children:[p("due_now")||"Due now",":"," ",(0,d.jsxs)("span",{style:{fontWeight:800},children:[0," ","XAF"]})]}),(0,d.jsxs)("li",{children:[p("pay_at_counter")||"Pay at counter",":"," ",(0,d.jsxs)("span",{style:{fontWeight:800},children:[v," ","XAF"]})]})]}),(0,d.jsxs)("div",{className:"alert alert-warning mt-3 mb-0",role:"alert",style:{fontSize:14},children:[(0,d.jsxs)("strong",{children:[p("important")||"Important",":"]})," ",p("arrive_one_hour_early")||"Please arrive at least 1 hour before the journey starts to complete payment and check-in."]})]})}),(0,d.jsxs)(h.ModalFooter,{children:[(0,d.jsx)("div",{className:"text-center",children:(0,d.jsxs)("p",{className:"summary-p",children:["Note: ",p("reservation_note")]})}),b?(0,d.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",padding:"20px"},children:(0,d.jsx)(m.SpinnerCircular,{color:"#bcc015",size:50,"aria-label":"Loading Spinner","data-testid":"loader"})}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(i.Button,{color:"light",onClick:()=>n({modal_static:!1}),children:p("cancel")}),(0,d.jsx)(i.Button,{type:"submit",onClick:a,color:"primary",children:o})]})]})]})]})})}]),c()}catch(a){c(a)}},!1),164876,a=>a.a(async(b,c)=>{try{var d=a.i(508171),e=a.i(127669),f=a.i(327711),g=a.i(865830),h=a.i(261482),i=a.i(23150),j=a.i(76189),k=a.i(227073),l=a.i(480868),m=a.i(547750),n=a.i(820864),o=a.i(653160),p=a.i(906197),q=a.i(926653),r=a.i(812967),s=a.i(475627),t=a.i(691098),u=a.i(239890),v=a.i(943431),w=a.i(711210),x=a.i(138609),y=a.i(734637),z=b([m,p,r,s]);[m,p,r,s]=z.then?(await z)():z,a.s(["default",0,({modal:a,getModal:b,booking:c,showSummary:z,isLoading:A,setIsLoading:B,buttonText:C="Continue"})=>{let{t:D}=(0,m.useTranslation)(),{register:E,reset:F,getValues:G,setValue:H,watch:I,handleSubmit:J,formState:{errors:K}}=(0,p.useForm)(),{state:L}=(0,n.useStateMachine)({updateBooking:o.updateBooking,updateAction:o.updateAction,updateUser:o.updateUser}),M=async()=>{if(B(!0),G("phoneNumber"),G("name"),G("idCardNo"),G("payerEmail"),!G("seat")){s.toast.error(D("seat_required")||"Please select a seat"),B(!1);return}b({modal_static:!1}),z()};(0,e.useEffect)(()=>{c&&F({data:c})},[c,F]);let N=L?.trip?.trip,[O,P]=(0,e.useState)([]),[Q,R]=(0,e.useState)(!1),S=(0,e.useMemo)(()=>{let a=Number(N?.seats);return Number.isFinite(a)&&a>0?a:0},[N?.seats]);(0,e.useEffect)(()=>{(async()=>{if(a.modal_static&&N?.id){R(!0);try{let{data:a}=await r.default.get(`api/v1/bookings/trip-seats/${N.id}`);a?.error?(s.toast.error(a?.message||"Failed to load seats"),P([])):P(a?.data?.takenSeats||[])}catch(a){P([])}finally{R(!1)}}})()},[a.modal_static,N?.id]);let T=I("seat"),U=(0,e.useMemo)(()=>{if(S<=0)return[];let a=Array.from({length:S},(a,b)=>String(b+1)),b=[];for(let c=0;c<a.length;c+=4)b.push({left:[a[c]??null,a[c+1]??null],right:[a[c+2]??null,a[c+3]??null]});return b},[S]),V=({seat:a})=>{if(!a)return(0,d.jsx)("div",{className:"ta-seat ta-seat--empty","aria-hidden":"true"});let b=O.includes(a),c=T===a;return(0,d.jsx)("button",{type:"button",className:`ta-seat ${b?"is-taken":"is-available"} ${c?"is-selected":""}`,disabled:b,onClick:()=>{H("seat",a,{shouldValidate:!0,shouldDirty:!0})},"aria-label":`Seat ${a}${b?" (taken)":c?" (selected)":""}`,children:a},a)};return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)(h.Modal,{isOpen:a.modal_static,backdrop:"static",centered:!0,size:"lg",contentClassName:"ta-modal",children:[(0,d.jsx)(i.ModalHeader,{className:"ta-modal__header",children:(0,d.jsxs)("div",{className:"ta-modal__headerInner",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"ta-modal__kicker",children:D("reservation")||"Reservation"}),(0,d.jsxs)("div",{className:"ta-modal__title",children:[(0,d.jsx)(v.MapPin,{size:18}),(0,d.jsx)("span",{children:N?.from_location||N?.from||"-"}),(0,d.jsx)("span",{className:"ta-modal__arrow",children:"→"}),(0,d.jsx)("span",{children:N?.to_location||N?.to||"-"})]})]}),(0,d.jsx)("button",{type:"button",className:"ta-modal__close",onClick:()=>b({modal_static:!1}),"aria-label":D("close")||"Close",children:(0,d.jsx)(y.X,{size:18})})]})}),(0,d.jsx)(j.ModalBody,{children:(0,d.jsxs)("form",{onSubmit:J(M),className:"p-2",children:[(0,d.jsxs)(f.Row,{children:[(0,d.jsxs)(g.Col,{lg:6,children:[(0,d.jsxs)("div",{className:"ta-field",children:[(0,d.jsx)("label",{htmlFor:"name",className:"ta-field__label",children:D("name")}),(0,d.jsxs)("div",{className:"ta-field__control",children:[(0,d.jsx)("span",{className:"ta-field__icon","aria-hidden":"true",children:(0,d.jsx)(x.User,{size:16})}),(0,d.jsx)("input",{type:"text",id:"name",className:"form-control ta-input",...E("name",{required:!0,minLength:2})})]})]}),K.name&&(0,d.jsx)("p",{style:{color:"red"},children:D("agency_branch_err")})]}),(0,d.jsxs)(g.Col,{lg:6,children:[(0,d.jsxs)("div",{className:"ta-field",children:[(0,d.jsx)("label",{htmlFor:"idCardNo",className:"ta-field__label",children:D("id_card")}),(0,d.jsxs)("div",{className:"ta-field__control",children:[(0,d.jsx)("span",{className:"ta-field__icon","aria-hidden":"true",children:(0,d.jsx)(t.CreditCard,{size:16})}),(0,d.jsx)("input",{type:"text",id:"idCardNo",className:"form-control ta-input",...E("idCardNo",{required:!0})})]})]}),K.idCardNo&&(0,d.jsx)("p",{style:{color:"red"},children:D("id_card_err")})]}),(0,d.jsxs)(g.Col,{lg:6,children:[(0,d.jsxs)("div",{className:"ta-field",children:[(0,d.jsx)("label",{htmlFor:"phoneNumber",className:"ta-field__label",children:D("phone")}),(0,d.jsxs)("div",{className:"ta-field__control",children:[(0,d.jsx)("span",{className:"ta-field__icon","aria-hidden":"true",children:(0,d.jsx)(w.Phone,{size:16})}),(0,d.jsx)("input",{type:"tel",inputMode:"numeric",id:"phoneNumber",className:"form-control ta-input",...E("phoneNumber",{required:!0,minLength:9,maxLength:12})})]})]}),K.phoneNumber&&(0,d.jsx)("p",{style:{color:"red"},children:D("phone_err")})]}),(0,d.jsxs)(g.Col,{lg:6,children:[(0,d.jsxs)("div",{className:"ta-field",children:[(0,d.jsx)("label",{htmlFor:"payerEmail",className:"ta-field__label",children:D("email_address")}),(0,d.jsxs)("div",{className:"ta-field__control",children:[(0,d.jsx)("span",{className:"ta-field__icon","aria-hidden":"true",children:(0,d.jsx)(u.Mail,{size:16})}),(0,d.jsx)("input",{type:"email",id:"payerEmail",className:"form-control ta-input",...E("payerEmail",{required:!0})})]})]}),K.payerEmail&&(0,d.jsx)("p",{style:{color:"red"},children:D("phone_err")})]})]}),(0,d.jsxs)("div",{className:"ta-seatmap mt-3",children:[(0,d.jsxs)("div",{className:"ta-seatmap__header",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"ta-seatmap__title",children:D("seat")||"Seat"}),(0,d.jsx)("div",{className:"ta-seatmap__subtitle",children:Q?D("loading")||"Loading...":D("select_seat")||"Select your seat"})]}),(0,d.jsxs)("div",{className:"ta-seatmap__legend",children:[(0,d.jsx)("span",{className:"ta-legend is-available",children:D("available")||"Available"}),(0,d.jsx)("span",{className:"ta-legend is-selected",children:D("selected")||"Selected"}),(0,d.jsx)("span",{className:"ta-legend is-taken",children:D("taken")||"Taken"})]})]}),(0,d.jsx)("input",{type:"hidden",...E("seat",{required:!0})}),K.seat?(0,d.jsx)("div",{className:"text-danger mt-1",children:D("seat_required")||"Please select a seat"}):null,S>0?(0,d.jsxs)("div",{className:"ta-seatmap__bus",role:"group","aria-label":D("seat_map")||"Seat map",children:[(0,d.jsx)("div",{className:"ta-seatmap__driver","aria-hidden":"true",children:D("driver")||"Driver"}),(0,d.jsx)("div",{className:"ta-seatmap__rows",children:U.map((a,b)=>(0,d.jsxs)("div",{className:"ta-seatmap__row",children:[(0,d.jsxs)("div",{className:"ta-seatmap__side",children:[(0,d.jsx)(V,{seat:a.left[0]}),(0,d.jsx)(V,{seat:a.left[1]})]}),(0,d.jsx)("div",{className:"ta-seatmap__aisle","aria-hidden":"true"}),(0,d.jsxs)("div",{className:"ta-seatmap__side",children:[(0,d.jsx)(V,{seat:a.right[0]}),(0,d.jsx)(V,{seat:a.right[1]})]})]},b))})]}):(0,d.jsx)("div",{className:"text-muted",children:D("no_seat_map")||"Seat map not available for this trip"})]}),(0,d.jsx)(k.ModalFooter,{children:A?(0,d.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",padding:"20px"},children:(0,d.jsx)(q.SpinnerCircular,{color:"#bcc015",size:50,"aria-label":"Loading Spinner","data-testid":"loader"})}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(l.Button,{color:"light",onClick:()=>b({modal_static:!1}),children:D("cancel")}),(0,d.jsx)(l.Button,{type:"submit",color:"primary",children:C})]})})]})})]})})}]),c()}catch(a){c(a)}},!1),69907,a=>a.a(async(b,c)=>{try{var d=a.i(508171),e=a.i(261482),f=a.i(23150),g=a.i(76189),h=a.i(227073),i=a.i(480868),j=a.i(547750),k=a.i(820864),l=a.i(653160),m=a.i(926653),n=b([j]);[j]=n.then?(await n)():n,a.s(["default",0,({createBooking:a,createCashBooking:b,working:c,modalSummary:n,setModalSummary:o,buttonText:p="Pay Now",cashButtonText:q="Pay Cash"})=>{let{t:r}=(0,j.useTranslation)(),{state:s}=(0,k.useStateMachine)({updateBooking:l.updateBooking,updateAction:l.updateAction,updateUser:l.updateUser}),t=s?.trip?.trip,u=Number(t?.price||0),v=t?.price?t.price/100*10>500?500:t.price/100*10:0,w=Number.isFinite(u)?u:0;return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)(e.Modal,{isOpen:n.modal_static,backdrop:"static",centered:!0,size:"md",children:[(0,d.jsx)(f.ModalHeader,{toggle:()=>o({modal_static:!1}),children:(0,d.jsx)("h3",{children:r("ticket_summary")})}),(0,d.jsxs)(g.ModalBody,{children:[(0,d.jsx)("div",{className:"row",children:(0,d.jsxs)("div",{className:"col-md-9 col-lg-6 col-xl-5 mx-auto",children:[(0,d.jsxs)("ul",{className:"",children:[(0,d.jsxs)("li",{children:[r("Agency"),": ",(0,d.jsx)("span",{children:t?.agency_name||t?.agencyName})]}),(0,d.jsxs)("li",{children:[r("from"),": ",(0,d.jsx)("span",{children:t?.from_location||t?.from})]}),(0,d.jsxs)("li",{children:[r("to"),": ",(0,d.jsx)("span",{children:t?.to_location||t?.to})]}),(0,d.jsxs)("li",{children:[r("journey_date"),": ",(0,d.jsx)("span",{children:t?.journey_date||t?.journeyDate})]}),(0,d.jsxs)("li",{children:[r("time"),": ",(0,d.jsx)("span",{children:t?.departure||t?.departure_time})]}),(0,d.jsxs)("li",{children:[r("fare"),": ",(0,d.jsxs)("span",{children:[u," ","XAF"]})]}),(0,d.jsxs)("li",{children:[r("reservation_fee")||r("booking_fee"),": ",(0,d.jsxs)("span",{children:[v," ","XAF"]})]}),(0,d.jsxs)("li",{children:[r("discount")||"Discount",":"," ",(0,d.jsxs)("span",{style:{color:"green",fontWeight:700},children:["-",v," ","XAF"," (100%)"]})]}),(0,d.jsxs)("li",{children:[r("due_now")||"Due now",":"," ",(0,d.jsxs)("span",{style:{fontWeight:800},children:[0," ","XAF"]})]}),(0,d.jsxs)("li",{children:[r("pay_at_counter")||"Pay at counter",":"," ",(0,d.jsxs)("span",{style:{fontWeight:800},children:[w," ","XAF"]})]})]}),(0,d.jsxs)("div",{className:"mt-3",children:[(0,d.jsxs)("div",{className:"alert alert-warning mb-2",role:"alert",style:{fontSize:14},children:[(0,d.jsxs)("strong",{children:[r("important")||"Important",":"]})," ",r("arrive_one_hour_early")||"Please arrive at least 1 hour before the journey starts to complete payment and check-in."]}),(0,d.jsx)("div",{className:"text-muted",style:{fontSize:14},children:r("cash_payment_note")||"Tickets are paid in cash at the counter. Your reservation fee is currently waived (100% discount)."})]})]})}),(0,d.jsxs)(h.ModalFooter,{children:[(0,d.jsx)("div",{className:"text-center",children:(0,d.jsxs)("p",{className:"summary-p",children:["Note: ",r("reservation_note")]})}),c?(0,d.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",padding:"20px"},children:(0,d.jsx)(m.SpinnerCircular,{color:"#bcc015",size:50,"aria-label":"Loading Spinner","data-testid":"loader"})}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(i.Button,{color:"light",onClick:()=>o({modal_static:!1}),children:r("cancel")}),(0,d.jsx)(i.Button,{type:"submit",onClick:()=>{b?b():a()},color:"primary",children:q||p||r("confirm_reservation")||"Confirm Reservation"})]})]})]})]})})}]),c()}catch(a){c(a)}},!1),859171,(a,b,c)=>{b.exports=a.x("html2canvas",()=>require("html2canvas"))},940741,(a,b,c)=>{b.exports=a.x("jspdf",()=>require("jspdf"))},942794,a=>a.a(async(b,c)=>{try{var d=a.i(508171),e=a.i(127669),f=a.i(547750),g=a.i(820864),h=a.i(653160),i=a.i(237502),j=a.i(480868),k=a.i(489679),l=a.i(260607),m=a.i(812967),n=a.i(475627),o=a.i(926653),p=a.i(782599),q=a.i(164876),r=a.i(69907),s=a.i(859171),t=a.i(940741),u=a.i(901257),v=a.i(761894),w=a.i(679069),x=a.i(385150),y=a.i(654714),z=a.i(25670),A=b([f,k,m,n,p,q,r,v,w]);[f,k,m,n,p,q,r,v,w]=A.then?(await A)():A;let B=process.env.NEXT_PUBLIC_SOCKET_URL||process.env.NEXT_PUBLIC_API_URL||"https://api.bookontransapp.com";a.s(["default",0,()=>{let{t:a}=(0,f.useTranslation)(),b=(0,z.useRouter)(),{actions:c,state:A}=(0,g.useStateMachine)({updateSearch:h.updateSearch,updateAction:h.updateAction,updateBooking:h.updateBooking}),[C,D]=(0,e.useState)([]),[E,F]=(0,e.useState)(!0),[G,H]=(0,e.useState)(null),[I,J]=(0,e.useState)(y.DEFAULT_TRIP_FILTERS),[K,L]=(0,e.useState)(!1),[M,N]=(0,e.useState)(!1),O=(0,e.useRef)(null),P=(0,e.useRef)(null),[Q,R]=(0,e.useState)({modal_static:!1}),[S,T]=(0,e.useState)({modal_static:!1}),[U,V]=(0,e.useState)({modal_static:!1}),W=A?.search,X="string"==typeof W?.journeyDate?W.journeyDate:W?.journeyDate?(0,l.default)(W.journeyDate).format("YYYY-MM-DD"):"",Y="string"==typeof W?.from?W.from:W?.from?.value||"",Z="string"==typeof W?.to?W.to:W?.to?.value||"",$="string"==typeof W?.departureTime?W.departureTime:W?.departureTime?(0,l.default)(W.departureTime).format("HH:mm"):"",_=W?.journeyDate?(0,l.default)(W.journeyDate).toDate():void 0,aa=W?.departureTime?(0,l.default)(W.departureTime,["HH:mm","hh:mm A"]).toDate():void 0,ab=(0,e.useCallback)(async()=>{try{H(null),F(!0);let{data:a}=await m.default.get("api/v1/trips/trip-search",{params:{from:Y,to:Z,journeyDate:X,departureTime:$}});if(a?.error)H(a.message||"Failed to fetch trips"),n.toast.error(a.message);else{let b=a.data??[];D(b)}}catch(a){if(m.default.isAxiosError(a)){let b=a.response?.data?.message||a.message||"Failed to fetch trips";H(b),n.toast.error(b)}else H("An unexpected error occurred"),n.toast.error("An unexpected error occurred")}finally{F(!1)}},[Y,Z,X,$]);(0,e.useEffect)(()=>{let a=(0,k.io)(B);return a.on("trip:update",()=>{ab()}),ab(),()=>{a.disconnect()}},[ab]);let ac=async a=>{if(N(!0),L(!0),!O.current){n.toast.error("No trip selected"),N(!1);return}let d=O.current,e={phone_number:null,number_of_seats:"1",ticket_type:"One-way",name:"",id_card_no:null,payer_email:null,trip_id:d.id,agency_name:d.agency_name,journey_date:d.journey_date,price:d.price,departure_city:d.from_location,arrival_city:d.to_location,departure_time:d.departure,seat:null,status:a?.paymentMethod==="CASH"?"CASH_PENDING":""};try{if(A?.user?.data?.data?.email){let{data:a}=await m.default.post(`api/v1/bookings/create-booking/${d.id}`,e);a?.error?(n.toast.error(a.message),N(!1)):a.data&&(c.updateBooking({booking:a.data}),N(!1),T({modal_static:!1}),V({modal_static:!1}),b.push(`/ticket/${a.data.id}`))}else{let{data:f}=await m.default.post(`api/v1/bookings/anon-booking/${d.id}`,e);f?.error?(n.toast.error(f.message),L(!1),N(!1)):f.data&&(P.current=f.data,c.updateBooking({booking:P.current}),N(!1),T({modal_static:!1}),V({modal_static:!1}),R({modal_static:!1}),ab(),b.push(`/ticket/${f.data.id}${(a?.paymentMethod,"")}`))}}catch(a){m.default.isAxiosError(a)?n.toast.error(a.response?.data?.message||"Failed to create booking"):n.toast.error("An unexpected error occurred"),N(!1),L(!1)}},ad=C.filter(a=>a.reserved!==a.seats),ae=(0,y.sortTrips)((0,y.applyTripFilters)(ad,I),I.sort),af=ad.length>0,ag=ae.length>0;return E?(0,d.jsx)(e.default.Fragment,{children:(0,d.jsx)("div",{className:"page-content",children:(0,d.jsx)(i.Container,{fluid:!0,className:"",children:(0,d.jsx)("div",{className:"loader-outer",children:(0,d.jsx)("div",{className:"loader-inner",children:(0,d.jsx)(o.SpinnerCircular,{color:"#bcc014",size:50})})})})})}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("section",{className:"trip-search mb-5",children:[(0,d.jsxs)("div",{className:"container-fluid",children:[(G||!af)&&(0,d.jsx)("div",{className:"row pt-4",children:(0,d.jsx)("div",{className:"col-lg-12",children:(0,d.jsxs)("div",{className:"alert alert-light border",children:[G?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("h5",{className:"mb-2",children:[a("Failed")," / ",a("error")||"Error"]}),(0,d.jsx)("p",{className:"mb-3",children:G})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h5",{className:"mb-2",children:a("no_bus")||"No buses found"}),(0,d.jsxs)("p",{className:"mb-3",children:[a("no_bus")||"No buses were found for your search."," ",Y&&Z?(0,d.jsxs)(d.Fragment,{children:["(",Y," → ",Z,")"]}):null]})]}),(0,d.jsx)("div",{className:"d-flex gap-2 flex-wrap",children:(0,d.jsx)(j.Button,{color:"primary",onClick:()=>ab(),children:a("retry")||"Retry"})}),(0,d.jsxs)("div",{className:"mt-4",children:[(0,d.jsx)("h6",{className:"mb-3",children:a("modify_search")||"Modify search"}),(0,d.jsx)(v.default,{text:"book",initialFrom:Y||void 0,initialTo:Z||void 0,initialJourneyDate:_,initialDepartureTime:aa}),(0,d.jsx)("div",{className:"mt-4",children:(0,d.jsx)(w.default,{})}),(0,d.jsx)("div",{className:"mt-3",children:(0,d.jsx)(u.default,{href:"/book",className:"btn btn-outline-secondary",children:a("back")||"Back"})})]})]})})}),(0,d.jsx)("div",{className:"row pt-5",children:(0,d.jsx)("div",{className:"col-lg-2",children:af?(0,d.jsxs)("h6",{children:[ag?ae.length:0," ",a("buses")," ",a("from")," ",Y," ",a("to")," ",Z]}):(0,d.jsxs)("h6",{children:[ad.length," ",a("no_bus")," ",a("from")," ",Y," ",a("to")," ",Z]})})})]}),(0,d.jsxs)("div",{className:"container-fluid",children:[af&&(0,d.jsx)(x.default,{trips:ad,filters:I,onChange:J}),!ag&&af?(0,d.jsx)("div",{className:"row mt-3",children:(0,d.jsx)("div",{className:"col-lg-12",children:(0,d.jsxs)("div",{className:"alert alert-light border",children:[(0,d.jsx)("h5",{className:"mb-2",children:"No trips match your filters"}),(0,d.jsx)("p",{className:"mb-0 text-muted",children:"Try widening your price/time window or resetting filters."})]})})}):null,(0,d.jsx)("div",{className:"row mt-3",children:(0,d.jsx)("div",{className:"col-lg-12",children:ae.map(b=>(0,d.jsx)("div",{className:"mb-3",children:(0,d.jsx)("div",{className:"card ta-trip-card",children:(0,d.jsxs)("div",{className:"card-body ta-trip-card__body",children:[(0,d.jsxs)("div",{className:"ta-trip-card__left",children:[(0,d.jsx)("div",{className:"ta-trip-card__logo",children:b.agency_logo?(0,d.jsx)("img",{src:b.agency_logo,alt:"agency logo",width:44,height:44}):(0,d.jsx)("span",{className:"fw-bold",children:String(b.agency_name||"T").slice(0,1)})}),(0,d.jsxs)("div",{className:"ta-trip-card__meta",children:[(0,d.jsxs)("div",{className:"ta-trip-card__top",children:[(0,d.jsx)("div",{className:"ta-trip-card__agency",children:b.agency_name}),(0,d.jsx)("span",{className:"badge rounded-pill text-bg-light",children:b.trip_type||"Standard"})]}),(0,d.jsxs)("div",{className:"ta-trip-card__route",children:[(0,d.jsx)("strong",{children:b.from_location})," ",(0,d.jsx)("span",{className:"text-muted",children:"→"})," ",(0,d.jsx)("strong",{children:b.to_location})]}),(0,d.jsxs)("div",{className:"ta-trip-card__sub",children:[(0,d.jsxs)("span",{children:[a("departure"),": ",String(b.departure||"")]}),(0,d.jsx)("span",{className:"ta-dot",children:"•"}),(0,d.jsxs)("span",{children:[a("available_seats"),": ",(0,y.availableSeats)(b)]})]})]})]}),(0,d.jsxs)("div",{className:"ta-trip-card__right",children:[(0,d.jsxs)("div",{className:"ta-trip-card__price",children:[(0,d.jsx)("div",{className:"ta-trip-card__price-label",children:a("price")}),(0,d.jsxs)("div",{className:"ta-trip-card__price-value",children:[b.price," XAF"]})]}),b.reserved!==b.seats?(0,d.jsx)(j.Button,{color:"primary",className:"ta-btn-primary",onClick:()=>{O.current=b,c.updateAction({trip:O.current}),R({modal_static:!0})},children:a("reserve_ticket")}):(0,d.jsx)(j.Button,{disabled:!0,className:"ta-btn-primary",children:a("sold_out")||"Sold Out"})]})]})})},b.id))})})]})]}),(0,d.jsx)(q.default,{isLoading:K,setIsLoading:L,getModal:R,modal:Q,booking:O.current||void 0,showSummary:()=>{L(!1),T({modal_static:!0})},buttonText:a("next")}),(0,d.jsx)(r.default,{createBooking:()=>{ac({paymentMethod:"PAY_NOW"})},createCashBooking:()=>{ac({paymentMethod:"CASH"})},working:M,modalSummary:S,setWorking:N,setModalSummary:T,buttonText:a("confirm_reservation")||"Confirm reservation",cashButtonText:a("confirm_reservation")||"Confirm reservation"}),(0,d.jsx)(p.default,{downloadTicket:()=>{let a=document.getElementById("ticket-info");a&&((0,s.default)(a,{logging:!0,useCORS:!0}).then(a=>{let b=a.toDataURL("image/png"),c=new t.default({format:"a4",unit:"mm"});c.addImage(b,"PNG",0,0,210,297),c.save("ticket.pdf")}),V({modal_static:!1}),N(!1))},working:M,modalConfirm:U,setModalConfirm:V,buttonText:a("download_ticket")})]})}]),c()}catch(a){c(a)}},!1),64881,a=>a.a(async(b,c)=>{try{var d=a.i(579168),e=a.i(627068),f=a.i(332759),g=a.i(539141),h=a.i(468695),i=a.i(942794),j=a.i(509193),k=b([h,i]);[h,i]=k.then?(await k)():k;let l=(0,f.hoist)(i,"default"),m=(0,f.hoist)(i,"getStaticProps"),n=(0,f.hoist)(i,"getStaticPaths"),o=(0,f.hoist)(i,"getServerSideProps"),p=(0,f.hoist)(i,"config"),q=(0,f.hoist)(i,"reportWebVitals"),r=(0,f.hoist)(i,"unstable_getStaticProps"),s=(0,f.hoist)(i,"unstable_getStaticPaths"),t=(0,f.hoist)(i,"unstable_getStaticParams"),u=(0,f.hoist)(i,"unstable_getServerProps"),v=(0,f.hoist)(i,"unstable_getServerSideProps"),w=new d.PagesRouteModule({definition:{kind:e.RouteKind.PAGES,page:"/Users/SearchResults",pathname:"/Users/SearchResults",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:h.default,Document:g.default},userland:i}),x=(0,j.getHandler)({srcPage:"/Users/SearchResults",config:p,userland:i,routeModule:w,getStaticPaths:n,getStaticProps:m,getServerSideProps:o});a.s(["config",0,p,"default",0,l,"getServerSideProps",0,o,"getStaticPaths",0,n,"getStaticProps",0,m,"handler",0,x,"reportWebVitals",0,q,"routeModule",0,w,"unstable_getServerProps",0,u,"unstable_getServerSideProps",0,v,"unstable_getStaticParams",0,t,"unstable_getStaticPaths",0,s,"unstable_getStaticProps",0,r]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=%5Broot-of-the-server%5D__e41b7719._.js.map