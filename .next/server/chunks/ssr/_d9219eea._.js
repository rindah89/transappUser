module.exports=[575241,a=>{"use strict";var b=a.i(127669);a.i(508171);let c=b.createContext({prefixes:{},breakpoints:["xxl","xl","lg","md","sm","xs"],minBreakpoint:"xs"}),{Consumer:d,Provider:e}=c;function f(a,d){let{prefixes:e}=(0,b.useContext)(c);return a||e[d]||d}function g(){let{breakpoints:a}=(0,b.useContext)(c);return a}function h(){let{minBreakpoint:a}=(0,b.useContext)(c);return a}a.s(["useBootstrapBreakpoints",()=>g,"useBootstrapMinBreakpoint",()=>h,"useBootstrapPrefix",()=>f])},950446,a=>{"use strict";var b=a.i(445106),c=a.i(127669),d=a.i(575241),e=a.i(508171);let f=c.forwardRef(({bsPrefix:a,className:c,as:f="div",...g},h)=>{let i=(0,d.useBootstrapPrefix)(a,"row"),j=(0,d.useBootstrapBreakpoints)(),k=(0,d.useBootstrapMinBreakpoint)(),l=`${i}-cols`,m=[];return j.forEach(a=>{let b,c=g[a];delete g[a],null!=c&&"object"==typeof c?{cols:b}=c:b=c;let d=a!==k?`-${a}`:"";null!=b&&m.push(`${l}${d}-${b}`)}),(0,e.jsx)(f,{ref:h,...g,className:(0,b.default)(c,i,...m)})});f.displayName="Row",a.s(["Row",0,f],950446)},324625,a=>{"use strict";var b=a.i(445106),c=a.i(127669),d=a.i(575241),e=a.i(508171);let f=c.forwardRef((a,c)=>{let[{className:f,...g},{as:h="div",bsPrefix:i,spans:j}]=function({as:a,bsPrefix:c,className:e,...f}){c=(0,d.useBootstrapPrefix)(c,"col");let g=(0,d.useBootstrapBreakpoints)(),h=(0,d.useBootstrapMinBreakpoint)(),i=[],j=[];return g.forEach(a=>{let b,d,e,g=f[a];delete f[a],"object"==typeof g&&null!=g?{span:b,offset:d,order:e}=g:b=g;let k=a!==h?`-${a}`:"";b&&i.push(!0===b?`${c}${k}`:`${c}${k}-${b}`),null!=e&&j.push(`order${k}-${e}`),null!=d&&j.push(`offset${k}-${d}`)}),[{...f,className:(0,b.default)(e,...i,...j)},{as:a,bsPrefix:c,spans:i}]}(a);return(0,e.jsx)(h,{...g,ref:c,className:(0,b.default)(f,!j.length&&i)})});f.displayName="Col",a.s(["Col",0,f],324625)},344169,a=>{"use strict";var b=a.i(445106),c=a.i(127669),d=a.i(575241),e=a.i(508171);let f=c.forwardRef(({className:a,bsPrefix:c,as:f="div",...g},h)=>(c=(0,d.useBootstrapPrefix)(c,"card-body"),(0,e.jsx)(f,{ref:h,className:(0,b.default)(a,c),...g})));f.displayName="CardBody";let g=c.forwardRef(({className:a,bsPrefix:c,as:f="div",...g},h)=>(c=(0,d.useBootstrapPrefix)(c,"card-footer"),(0,e.jsx)(f,{ref:h,className:(0,b.default)(a,c),...g})));g.displayName="CardFooter";let h=c.createContext(null);h.displayName="CardHeaderContext";let i=c.forwardRef(({bsPrefix:a,className:f,as:g="div",...i},j)=>{let k=(0,d.useBootstrapPrefix)(a,"card-header"),l=(0,c.useMemo)(()=>({cardHeaderBsPrefix:k}),[k]);return(0,e.jsx)(h.Provider,{value:l,children:(0,e.jsx)(g,{ref:j,...i,className:(0,b.default)(f,k)})})});i.displayName="CardHeader";let j=c.forwardRef(({bsPrefix:a,className:c,variant:f,as:g="img",...h},i)=>{let j=(0,d.useBootstrapPrefix)(a,"card-img");return(0,e.jsx)(g,{ref:i,className:(0,b.default)(f?`${j}-${f}`:j,c),...h})});j.displayName="CardImg";let k=c.forwardRef(({className:a,bsPrefix:c,as:f="div",...g},h)=>(c=(0,d.useBootstrapPrefix)(c,"card-img-overlay"),(0,e.jsx)(f,{ref:h,className:(0,b.default)(a,c),...g})));k.displayName="CardImgOverlay";let l=c.forwardRef(({className:a,bsPrefix:c,as:f="a",...g},h)=>(c=(0,d.useBootstrapPrefix)(c,"card-link"),(0,e.jsx)(f,{ref:h,className:(0,b.default)(a,c),...g})));l.displayName="CardLink";let m=a=>c.forwardRef((c,d)=>(0,e.jsx)("div",{...c,ref:d,className:(0,b.default)(c.className,a)})),n=m("h6"),o=c.forwardRef(({className:a,bsPrefix:c,as:f=n,...g},h)=>(c=(0,d.useBootstrapPrefix)(c,"card-subtitle"),(0,e.jsx)(f,{ref:h,className:(0,b.default)(a,c),...g})));o.displayName="CardSubtitle";let p=c.forwardRef(({className:a,bsPrefix:c,as:f="p",...g},h)=>(c=(0,d.useBootstrapPrefix)(c,"card-text"),(0,e.jsx)(f,{ref:h,className:(0,b.default)(a,c),...g})));p.displayName="CardText";let q=m("h5"),r=c.forwardRef(({className:a,bsPrefix:c,as:f=q,...g},h)=>(c=(0,d.useBootstrapPrefix)(c,"card-title"),(0,e.jsx)(f,{ref:h,className:(0,b.default)(a,c),...g})));r.displayName="CardTitle";let s=c.forwardRef(({bsPrefix:a,className:c,bg:g,text:h,border:i,body:j=!1,children:k,as:l="div",...m},n)=>{let o=(0,d.useBootstrapPrefix)(a,"card");return(0,e.jsx)(l,{ref:n,...m,className:(0,b.default)(c,o,g&&`bg-${g}`,h&&`text-${h}`,i&&`border-${i}`),children:j?(0,e.jsx)(f,{children:k}):k})});s.displayName="Card";let t=Object.assign(s,{Img:j,Title:r,Subtitle:o,Body:f,Link:l,Text:p,Header:i,Footer:g,ImgOverlay:k});a.s(["Card",0,t],344169)},754937,(a,b,c)=>{"use strict";c.__esModule=!0,c.default=void 0,c.isTrivialHref=h,c.useButtonProps=i;var d=function(a,b){if(a&&a.__esModule)return a;if(null===a||"object"!=typeof a&&"function"!=typeof a)return{default:a};var c=g(void 0);if(c&&c.has(a))return c.get(a);var d={__proto__:null},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if("default"!==f&&({}).hasOwnProperty.call(a,f)){var h=e?Object.getOwnPropertyDescriptor(a,f):null;h&&(h.get||h.set)?Object.defineProperty(d,f,h):d[f]=a[f]}return d.default=a,c&&c.set(a,d),d}(a.r(127669)),e=a.r(508171);let f=["as","disabled"];function g(a){if("function"!=typeof WeakMap)return null;var b=new WeakMap,c=new WeakMap;return(g=function(a){return a?c:b})(a)}function h(a){return!a||"#"===a.trim()}function i({tagName:a,disabled:b,href:c,target:d,rel:e,role:f,onClick:g,tabIndex:i=0,type:j}){a||(a=null!=c||null!=d||null!=e?"a":"button");let k={tagName:a};if("button"===a)return[{type:j||"button",disabled:b},k];let l=d=>{((b||"a"===a&&h(c))&&d.preventDefault(),b)?d.stopPropagation():null==g||g(d)};return"a"===a&&(c||(c="#"),b&&(c=void 0)),[{role:null!=f?f:"button",disabled:void 0,tabIndex:b?void 0:i,href:c,target:"a"===a?d:void 0,"aria-disabled":b||void 0,rel:"a"===a?e:void 0,onClick:l,onKeyDown:a=>{" "===a.key&&(a.preventDefault(),l(a))}},k]}let j=d.forwardRef((a,b)=>{let{as:c,disabled:d}=a,g=function(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(b.indexOf(d)>=0)continue;c[d]=a[d]}return c}(a,f),[h,{tagName:j}]=i(Object.assign({tagName:c,disabled:d},g));return(0,e.jsx)(j,Object.assign({},g,h,{ref:b}))});j.displayName="Button",c.default=j},272861,a=>{"use strict";var b=a.i(445106),c=a.i(127669),d=a.i(754937),e=a.i(575241),f=a.i(508171);let g=c.forwardRef(({as:a,bsPrefix:c,variant:g="primary",size:h,active:i=!1,disabled:j=!1,className:k,...l},m)=>{let n=(0,e.useBootstrapPrefix)(c,"btn"),[o,{tagName:p}]=(0,d.useButtonProps)({tagName:a,disabled:j,...l});return(0,f.jsx)(p,{...o,...l,ref:m,disabled:j,className:(0,b.default)(k,n,i&&"active",g&&`${n}-${g}`,h&&`${n}-${h}`,l.href&&j&&"disabled")})});g.displayName="Button",a.s(["Button",0,g],272861)},53093,a=>a.a(async(b,c)=>{try{var d=a.i(508171),e=a.i(127669),f=a.i(926653),g=a.i(950446),h=a.i(324625),i=a.i(344169),j=a.i(272861),k=a.i(25670),l=a.i(475627),m=a.i(260607),n=a.i(547750),o=a.i(820864),p=a.i(653160),q=a.i(328646),r=a.i(812967),s=b([l,n,r]);[l,n,r]=s.then?(await s)():s,a.s(["default",0,()=>{let{t:a}=(0,n.useTranslation)(),b=(0,k.useRouter)(),[c,s]=(0,e.useState)(!1),[t,u]=(0,e.useState)({name:"",idCardNo:null,payerName:"",phoneNumber:null,payerEmail:"",numberOfSeats:1,ticketType:"One-way",seat:""}),{name:v,idCardNo:w,payerName:x,phoneNumber:y,payerEmail:z,numberOfSeats:A,ticketType:B,seat:C}=t;(0,e.useEffect)(()=>{"undefined"!=typeof document&&document.body.setAttribute("style","background: #f8f8f8!important;")},[]);let D=a=>b=>{u({...t,[a]:b.target.value})},{actions:E,state:F}=(0,o.useStateMachine)({updateBooking:p.updateBooking,updateAction:p.updateAction,updateUser:p.updateUser}),G=async a=>{a.preventDefault(),s(!0);let c=F?.trip?.trip;if(!c){l.toast.error("No trip selected"),s(!1);return}try{if(F?.user?.data?.data?.email){let{data:a}=await r.default.post(`api/v1/bookings/create-booking/${c.id}`,t);a?.error?l.toast.error(a.message):(E.updateBooking({booking:a.data}),H(),l.toast.success(a.message),s(!1))}else{let{data:a}=await r.default.post(`api/v1/bookings/anon-booking/${c.id}`,t);if(a?.error)l.toast.error(a.message);else{E.updateBooking({booking:a.data});let c=a?.data?.id;b.push(c?`/ticket/${c}`:"/ticket-summary"),l.toast.success(a.message),s(!1)}}}catch(a){r.default.isAxiosError(a)?l.toast.error(a.response?.data?.message||"Failed to create booking"):l.toast.error("An unexpected error occurred"),s(!1)}},H=async()=>{let a=new q.default({length:7,dictionary:"alphanum_upper"}),c={"Content-Type":"application/json",Authorization:"Basic 4d70631d-397c-4efd-929a-87fcd3a9d1622a8f415d-d9d2-4834-a573-b12c1375b94c","x-api-key":process.env.NEXT_PUBLIC_PAYUNIT_API_KEY||"sand_wjYGZXPZoSYMsV8p8jvlXjMCnK1bnW",mode:"test"},d=F?.trip?.trip,e={total_amount:d?.price||100,currency:"XAF",transaction_id:a.rnd(),return_url:"http://localhost:3000/api/v1/bookings/payunit-return"};try{let{data:a}=await r.default.post("https://app.payunit.net/api/gateway/initialize",e,{headers:c});a?.error?l.toast.error(a.message):b.push("/ticket-summary")}catch(a){r.default.isAxiosError(a)?l.toast.error(a.response?.data?.message||"Payment initialization failed"):l.toast.error("An unexpected error occurred")}},I=F?.trip?.trip;return(0,d.jsx)("div",{className:"container ticket-form",children:(0,d.jsxs)(g.Row,{children:[(0,d.jsx)(h.Col,{lg:6,children:(0,d.jsxs)("form",{children:[(0,d.jsx)(i.Card,{children:(0,d.jsxs)(i.Card.Body,{children:[(0,d.jsx)("h6",{children:"Enter Passenger Details"}),(0,d.jsxs)(g.Row,{children:[(0,d.jsx)(h.Col,{lg:6,children:(0,d.jsxs)("div",{className:"form-group",children:[(0,d.jsx)("label",{htmlFor:"name",children:a("name")}),(0,d.jsx)("input",{type:"text",name:"name",id:"name",required:!0,className:"form-control",onChange:D("name"),value:v})]})}),(0,d.jsx)(h.Col,{lg:6,children:(0,d.jsxs)("div",{className:"form-group",children:[(0,d.jsx)("label",{htmlFor:"idCardNo",children:a("id_card")}),(0,d.jsx)("input",{type:"text",name:"idCardNo",id:"idCardNo",required:!0,className:"form-control",onChange:D("idCardNo"),value:w||""})]})})]})]})}),(0,d.jsx)(i.Card,{children:(0,d.jsxs)(i.Card.Body,{children:[(0,d.jsx)("h6",{children:a("seat")||"Seat"}),(0,d.jsxs)("div",{className:"form-group",children:[(0,d.jsx)("label",{htmlFor:"seat",children:a("seat")||"Seat"}),(0,d.jsxs)("select",{id:"seat",name:"seat",required:!0,className:"form-control",value:C,onChange:D("seat"),children:[(0,d.jsx)("option",{value:"",children:a("select")||"Select"}),Array.from({length:Number(I?.seats||0)},(a,b)=>String(b+1)).map(a=>(0,d.jsx)("option",{value:a,children:a},a))]})]})]})}),(0,d.jsx)(i.Card,{children:(0,d.jsxs)(i.Card.Body,{children:[(0,d.jsx)("h6",{children:"Details of Person Paying"}),(0,d.jsxs)(g.Row,{children:[(0,d.jsx)(h.Col,{lg:6,children:(0,d.jsxs)("div",{className:"form-group",children:[(0,d.jsx)("label",{htmlFor:"payerName",children:a("name")}),(0,d.jsx)("input",{type:"text",name:"payerName",id:"payerName",required:!0,className:"form-control",onChange:D("payerName"),value:x})]})}),(0,d.jsx)(h.Col,{lg:6,children:(0,d.jsxs)("div",{className:"form-group",children:[(0,d.jsx)("label",{htmlFor:"payerEmail",children:a("email_address")}),(0,d.jsx)("input",{type:"email",name:"payerEmail",id:"payerEmail",required:!0,className:"form-control",onChange:D("payerEmail"),value:z})]})}),(0,d.jsx)(h.Col,{lg:6,children:(0,d.jsxs)("div",{className:"form-group",children:[(0,d.jsx)("label",{htmlFor:"phoneNumber",children:a("phone")}),(0,d.jsx)("input",{type:"number",name:"phoneNumber",id:"phoneNumber",required:!0,className:"form-control",onChange:D("phoneNumber"),value:y||""})]})})]})]})}),(0,d.jsx)(i.Card,{children:(0,d.jsxs)(i.Card.Body,{children:[(0,d.jsx)("small",{children:"You will be redirected to related website to do this transaction"}),(0,d.jsx)(g.Row,{className:"mt-5",children:(0,d.jsx)(h.Col,{lg:12,children:c?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(f.SpinnerCircular,{})," ",(0,d.jsx)("p",{children:"Just a moment please buddy..."})]}):(0,d.jsx)(j.Button,{className:"w-100",variant:"success",onClick:G,children:"MAKE PAYMENT NOW"})})})]})})]})}),(0,d.jsx)(h.Col,{lg:6,className:"mt-3",children:I&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h6",{children:"Onward Trip Details"}),(0,d.jsx)("small",{children:I.agency_name||I.agencyName})]}),(0,d.jsx)(g.Row,{children:(0,d.jsx)(h.Col,{lg:6,children:(0,d.jsxs)(g.Row,{children:[(0,d.jsx)(h.Col,{children:(0,d.jsx)("small",{children:I.from_location||I.from})}),(0,d.jsx)(h.Col,{children:(0,d.jsx)("span",{children:" To "})}),(0,d.jsx)(h.Col,{children:(0,d.jsx)("small",{children:I.to_location||I.to})})]})})}),(0,d.jsxs)(g.Row,{children:[(0,d.jsx)(h.Col,{children:(0,d.jsx)("small",{children:I.journey_date||I.journeyDate})}),(0,d.jsx)(h.Col,{children:(0,d.jsx)("small",{children:I.departure||I.departure_time})}),(0,d.jsx)(h.Col,{children:(0,d.jsx)("small",{children:I.arrival?(0,m.default)(I.arrival).format("LT"):""})})]}),(0,d.jsx)("hr",{className:"mt-4"}),(0,d.jsx)(g.Row,{children:(0,d.jsx)(h.Col,{children:(0,d.jsx)("h6",{children:"Passenger Details"})})}),(0,d.jsxs)(g.Row,{children:[(0,d.jsxs)(h.Col,{children:[(0,d.jsx)("div",{children:(0,d.jsx)("small",{children:"Name"})}),(0,d.jsx)("div",{children:(0,d.jsx)("small",{children:v})})]}),(0,d.jsxs)(h.Col,{children:[(0,d.jsx)("div",{children:(0,d.jsx)("small",{children:"ID Card"})}),(0,d.jsx)("div",{children:(0,d.jsx)("small",{children:w})})]}),(0,d.jsxs)(h.Col,{children:[(0,d.jsx)("div",{children:(0,d.jsx)("small",{children:"Number Of Seats"})}),(0,d.jsx)("div",{children:(0,d.jsx)("small",{children:A})})]}),(0,d.jsxs)(h.Col,{children:[(0,d.jsx)("div",{children:(0,d.jsx)("small",{children:"Type"})}),(0,d.jsx)("div",{children:(0,d.jsx)("small",{children:B})})]})]})]})})]})})}]),c()}catch(a){c(a)}},!1),518758,a=>a.a(async(b,c)=>{try{var d=a.i(579168),e=a.i(627068),f=a.i(332759),g=a.i(539141),h=a.i(468695),i=a.i(53093),j=a.i(509193),k=b([h,i]);[h,i]=k.then?(await k)():k;let l=(0,f.hoist)(i,"default"),m=(0,f.hoist)(i,"getStaticProps"),n=(0,f.hoist)(i,"getStaticPaths"),o=(0,f.hoist)(i,"getServerSideProps"),p=(0,f.hoist)(i,"config"),q=(0,f.hoist)(i,"reportWebVitals"),r=(0,f.hoist)(i,"unstable_getStaticProps"),s=(0,f.hoist)(i,"unstable_getStaticPaths"),t=(0,f.hoist)(i,"unstable_getStaticParams"),u=(0,f.hoist)(i,"unstable_getServerProps"),v=(0,f.hoist)(i,"unstable_getServerSideProps"),w=new d.PagesRouteModule({definition:{kind:e.RouteKind.PAGES,page:"/Users/TicketForm",pathname:"/Users/TicketForm",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:h.default,Document:g.default},userland:i}),x=(0,j.getHandler)({srcPage:"/Users/TicketForm",config:p,userland:i,routeModule:w,getStaticPaths:n,getStaticProps:m,getServerSideProps:o});a.s(["config",0,p,"default",0,l,"getServerSideProps",0,o,"getStaticPaths",0,n,"getStaticProps",0,m,"handler",0,x,"reportWebVitals",0,q,"routeModule",0,w,"unstable_getServerProps",0,u,"unstable_getServerSideProps",0,v,"unstable_getStaticParams",0,t,"unstable_getStaticPaths",0,s,"unstable_getStaticProps",0,r]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=_d9219eea._.js.map