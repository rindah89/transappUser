module.exports=[177156,a=>{"use strict";let b=(0,a.i(170106).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);a.s(["Eye",()=>b],177156)},334967,a=>{"use strict";var b=a.i(572131),c=a.i(341212),d=a.i(828525),e=a.i(89233),f=["className","cssModule","fluid","tag"];function g(){return(g=Object.assign.bind()).apply(this,arguments)}function h(a){var c=a.className,h=a.cssModule,i=a.fluid,j=a.tag,k=function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,f),l="container";!0===i?l="container-fluid":i&&(l="container-".concat(i));var m=(0,e.mapToCssModules)((0,d.default)(c,l),h);return b.default.createElement(void 0===j?"div":j,g({},k,{className:m}))}h.propTypes={tag:e.tagPropType,fluid:c.default.oneOfType([c.default.bool,c.default.string]),className:c.default.string,cssModule:c.default.object},a.s(["Container",0,h],334967)},105579,a=>{"use strict";var b,c=a.i(572131),d=function(){return(d=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)};function e(a,b){var c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols)for(var e=0,d=Object.getOwnPropertySymbols(a);e<d.length;e++)0>b.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(a,d[e])&&(c[d[e]]=a[d[e]]);return c}var f=d(d({},{speed:100,still:!1,thickness:100}),{secondaryColor:"rgba(0,0,0,0.44)"});!function(a,b){void 0===b&&(b={});var c=b.insertAt;if(a&&"undefined"!=typeof document){var d=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css","top"===c&&d.firstChild?d.insertBefore(e,d.firstChild):d.appendChild(e),e.styleSheet?e.styleSheet.cssText=a:e.appendChild(document.createTextNode(a))}}("@keyframes spinners-react-circular{0%{stroke-dashoffset:306}50%{stroke-dasharray:40,134}to{stroke-dasharray:1,174;stroke-dashoffset:132}}");var g=function(a){var b=a.secondaryColor,f=a.speed,g=a.still,h=a.thickness,i=e(a,["secondaryColor","speed","still","thickness"]),j=h/100*4;return c.default.createElement("svg",d({fill:"none"},i,{viewBox:"0 0 66 66"}),c.default.createElement("circle",{cx:"33",cy:"33",fill:"none",r:"28",stroke:b,strokeWidth:j}),c.default.createElement("circle",{cx:"33",cy:"33",fill:"none",r:"28",stroke:"currentColor",strokeDasharray:"1, 174",strokeDashoffset:"306",strokeLinecap:"round",strokeWidth:j,style:g?{}:{animation:"spinners-react-circular "+140/f+"s linear infinite"}}))};g.defaultProps=f;var h=((b=function(a){var b=a.color,f=a.enabled,h=a.size,i=a.style,j=e(a,["color","enabled","size","style"]),k=d(d({},j),{style:d({color:b,overflow:"visible",width:parseFloat(h.toString()).toString()===h.toString()?h+"px":h.toString()},i)});return f?c.default.createElement(g,d({},k)):null}).defaultProps={color:"#38ad48",enabled:!0,size:50,style:{}},b);a.s(["SpinnerCircular",()=>h],105579)},960702,641710,a=>{"use strict";var b=a.i(170106);let c=(0,b.default)("calendar-days",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);a.s(["CalendarDays",()=>c],960702);let d=(0,b.default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);a.s(["Clock",()=>d],641710)},284505,862722,a=>{"use strict";var b=a.i(170106);let c=(0,b.default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);a.s(["Download",()=>c],284505);let d=(0,b.default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);a.s(["XCircle",()=>d],862722)},417454,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(334967),e=a.i(83490),f=a.i(105579);a.i(802407);var g=a.i(778134),h=a.i(406704),i=a.i(238246),j=a.i(960702),k=a.i(641710),l=a.i(284505),m=a.i(177156),n=a.i(862722);a.s(["default",0,()=>{let{t:a}=(0,g.useTranslation)(),[o,p]=(0,c.useState)([]),[q,r]=(0,c.useState)(!0),[s,t]=(0,c.useState)(null),u=(0,c.useCallback)(async()=>{try{let{data:a}=await e.default.get("api/v1/bookings/user-bookings");a?.error?(h.toast.error(a.message),r(!1)):a.data&&(p(a.data),r(!1))}catch(a){e.default.isAxiosError(a)?h.toast.error(a.message||"Failed to fetch bookings"):h.toast.error("An unexpected error occurred"),r(!1)}},[]),v=async a=>{t(a);try{let{data:b}=await e.default.post(`api/v1/bookings/cancel/${a}`);b?.error?h.toast.error(b?.message||"Failed to cancel booking"):(h.toast.success(b?.message||"Booking cancelled"),await u())}catch(a){e.default.isAxiosError(a)?h.toast.error(a.response?.data?.message||a.message||"Failed to cancel booking"):h.toast.error("An unexpected error occurred")}finally{t(null)}};return((0,c.useEffect)(()=>{"undefined"!=typeof document&&document.body.setAttribute("style","background: #f6f7fb!important;"),u()},[u]),q)?(0,b.jsx)(c.default.Fragment,{children:(0,b.jsx)("div",{className:"page-content",children:(0,b.jsx)(d.Container,{fluid:!0,className:"",children:(0,b.jsx)("div",{className:"loader-outer",children:(0,b.jsx)("div",{className:"loader-inner",children:(0,b.jsx)(f.SpinnerCircular,{color:"#bcc014",size:30})})})})})}):(0,b.jsx)(b.Fragment,{children:(0,b.jsx)("section",{className:"ta-bookings",children:(0,b.jsxs)("div",{className:"container",children:[(0,b.jsx)("div",{className:"ta-bookings__header",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"ta-bookings__title",children:a("my_bookings")||"My bookings"}),(0,b.jsx)("p",{className:"ta-bookings__subtitle",children:a("my_bookings_subtitle")||"View, download, or cancel your tickets."})]})}),0===o.length?(0,b.jsx)("div",{className:"ta-empty",children:(0,b.jsx)("p",{className:"mb-0",children:a("no_bookings")||"No bookings found"})}):(0,b.jsx)("div",{className:"ta-bookings__list",children:o.map(c=>{let d=s===c.id,e=(c.status||"-").toString(),f=e.toLowerCase().includes("cancel")?"is-danger":e.toLowerCase().includes("confirm")||e.toLowerCase().includes("paid")?"is-success":e.toLowerCase().includes("pending")?"is-warning":"is-neutral";return(0,b.jsxs)("article",{className:"ta-ticket-card",children:[(0,b.jsxs)("div",{className:"ta-ticket-card__top",children:[(0,b.jsxs)("div",{className:"ta-ticket-card__route",children:[(0,b.jsxs)("div",{className:"ta-ticket-card__cities",children:[(0,b.jsx)("span",{className:"ta-ticket-card__city",children:c.departure_city}),(0,b.jsx)("span",{className:"ta-ticket-card__arrow",children:"→"}),(0,b.jsx)("span",{className:"ta-ticket-card__city",children:c.arrival_city})]}),(0,b.jsx)("div",{className:"ta-ticket-card__agency",children:c.agency_name}),(0,b.jsx)("div",{className:"ta-ticket-card__meta",children:(0,b.jsxs)("span",{className:"ta-pill",children:[(0,b.jsx)("span",{className:"ta-pill__label",children:a("ticket_number")||"Number"}),(0,b.jsx)("span",{className:"ta-pill__value",children:c.ticket_number})]})})]}),(0,b.jsx)("div",{className:"ta-ticket-card__status",children:(0,b.jsxs)("span",{className:`ta-status ${f}`,children:[a("status")||"Status",": ",e]})})]}),(0,b.jsxs)("div",{className:"ta-ticket-card__grid",children:[(0,b.jsxs)("div",{className:"ta-kv",children:[(0,b.jsxs)("div",{className:"ta-kv__k",children:[(0,b.jsx)(j.CalendarDays,{size:16}),(0,b.jsx)("span",{children:a("journey_date")||"Date"})]}),(0,b.jsx)("div",{className:"ta-kv__v",children:c.journey_date})]}),(0,b.jsxs)("div",{className:"ta-kv",children:[(0,b.jsxs)("div",{className:"ta-kv__k",children:[(0,b.jsx)(k.Clock,{size:16}),(0,b.jsx)("span",{children:a("departure_time")||a("time")||"Time"})]}),(0,b.jsx)("div",{className:"ta-kv__v",children:c.departure_time})]}),(0,b.jsxs)("div",{className:"ta-kv",children:[(0,b.jsx)("div",{className:"ta-kv__k",children:(0,b.jsx)("span",{children:a("seat")||"Seat"})}),(0,b.jsx)("div",{className:"ta-kv__v",children:c.seat||"-"})]}),(0,b.jsxs)("div",{className:"ta-kv ta-kv--right",children:[(0,b.jsx)("div",{className:"ta-kv__k",children:(0,b.jsx)("span",{children:a("price")||"Price"})}),(0,b.jsxs)("div",{className:"ta-kv__v ta-kv__v--price",children:[c.price," XAF"]})]})]}),(0,b.jsxs)("div",{className:"ta-ticket-card__actions",children:[(0,b.jsxs)(i.default,{className:"btn btn-sm btn-outline-primary ta-btn",href:`/ticket/${c.id}`,children:[(0,b.jsx)(m.Eye,{size:16}),(0,b.jsx)("span",{children:a("view")||"View"})]}),(0,b.jsxs)(i.default,{className:"btn btn-sm btn-outline-secondary ta-btn",href:`/ticket/${c.id}?print=1`,children:[(0,b.jsx)(l.Download,{size:16}),(0,b.jsx)("span",{children:a("download")||"Download"})]}),(0,b.jsxs)("button",{type:"button",className:"btn btn-sm btn-outline-danger ta-btn",disabled:d,"aria-busy":d,onClick:()=>v(c.id),children:[(0,b.jsx)(n.XCircle,{size:16}),(0,b.jsx)("span",{children:d?a("loading")||"Canceling…":a("Cancel")||"Cancel"})]})]})]},c.id)})})]})})})}])}];

//# sourceMappingURL=_23941556._.js.map