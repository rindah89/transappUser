{"version":3,"sources":["../../../../node_modules/next/src/shared/lib/utils/warn-once.ts","../../../../node_modules/next/src/client/use-merged-ref.ts","../../../../src/assets/images/transapp-logo.svg.mjs%20%28structured%20image%20object%20with%20data%20url%29","../../../../src/pages/Users/DeleteAccount.tsx"],"sourcesContent":["let warnOnce = (_: string) => {}\nif (process.env.NODE_ENV !== 'production') {\n  const warnings = new Set<string>()\n  warnOnce = (msg: string) => {\n    if (!warnings.has(msg)) {\n      console.warn(msg)\n    }\n    warnings.add(msg)\n  }\n}\n\nexport { warnOnce }\n","import { useCallback, useRef, type Ref } from 'react'\n\n// This is a compatibility hook to support React 18 and 19 refs.\n// In 19, a cleanup function from refs may be returned.\n// In 18, returning a cleanup function creates a warning.\n// Since we take userspace refs, we don't know ahead of time if a cleanup function will be returned.\n// This implements cleanup functions with the old behavior in 18.\n// We know refs are always called alternating with `null` and then `T`.\n// So a call with `null` means we need to call the previous cleanup functions.\nexport function useMergedRef<TElement>(\n  refA: Ref<TElement>,\n  refB: Ref<TElement>\n): Ref<TElement> {\n  const cleanupA = useRef<(() => void) | null>(null)\n  const cleanupB = useRef<(() => void) | null>(null)\n\n  // NOTE: In theory, we could skip the wrapping if only one of the refs is non-null.\n  // (this happens often if the user doesn't pass a ref to Link/Form/Image)\n  // But this can cause us to leak a cleanup-ref into user code (previously via `<Link legacyBehavior>`),\n  // and the user might pass that ref into ref-merging library that doesn't support cleanup refs\n  // (because it hasn't been updated for React 19)\n  // which can then cause things to blow up, because a cleanup-returning ref gets called with `null`.\n  // So in practice, it's safer to be defensive and always wrap the ref, even on React 19.\n  return useCallback(\n    (current: TElement | null): void => {\n      if (current === null) {\n        const cleanupFnA = cleanupA.current\n        if (cleanupFnA) {\n          cleanupA.current = null\n          cleanupFnA()\n        }\n        const cleanupFnB = cleanupB.current\n        if (cleanupFnB) {\n          cleanupB.current = null\n          cleanupFnB()\n        }\n      } else {\n        if (refA) {\n          cleanupA.current = applyRef(refA, current)\n        }\n        if (refB) {\n          cleanupB.current = applyRef(refB, current)\n        }\n      }\n    },\n    [refA, refB]\n  )\n}\n\nfunction applyRef<TElement>(\n  refA: NonNullable<Ref<TElement>>,\n  current: TElement\n) {\n  if (typeof refA === 'function') {\n    const cleanup = refA(current)\n    if (typeof cleanup === 'function') {\n      return cleanup\n    } else {\n      return () => refA(null)\n    }\n  } else {\n    refA.current = current\n    return () => {\n      refA.current = null\n    }\n  }\n}\n","import src from \"IMAGE\";\nexport default { src, width: 113, height: 48, blurWidth: 0, blurHeight: 0};\n","'use client'\n\nimport React from \"react\";\nimport axios from \"axios\";\nimport Image from \"next/image\";\nimport logo from \"../../assets/images/transapp-logo.svg\";\nimport { useTranslation } from \"react-i18next\";\nimport toast from \"react-hot-toast\";\nimport { useForm } from \"react-hook-form\";\n\ninterface DeleteFormData {\n  email: string;\n}\n\nconst DeleteAccount: React.FC = () => {\n  const { t } = useTranslation();\n  const {\n    handleSubmit,\n    formState: { errors },\n    register,\n    reset,\n  } = useForm<DeleteFormData>();\n\n  const onSubmitRemoveAccount = async ({ email }: DeleteFormData): Promise<void> => {\n    try {\n      const { data } = await axios.post<{ error: boolean; message: string }>(`api/v1/users/user-delete-account`, {\n        email,\n      });\n      if (data.error) {\n        toast.error(data.message || 'Error occurred');\n      } else {\n        reset({ email: \"\" });\n        toast.success(data.message);\n      }\n    } catch (error: unknown) {\n      if (axios.isAxiosError(error)) {\n        toast.error(error.response?.data?.message || 'Failed to delete account');\n      } else {\n        toast.error('An unexpected error occurred');\n      }\n    }\n  };\n\n  return (\n    <React.Fragment>\n      <div\n        className=\"min-vh-100 d-flex flex-column opacity-mask\"\n        data-opacity-mask=\"rgba(0, 0, 0, 0.4)\"\n      >\n        <div className=\"my-auto text-center pt-5\">\n          <h4>Enter the email address you used to create an account on Transapp.</h4>\n          <h4>The following will be removed immediately from our system</h4>\n          <ul>\n            <li className=\"del-box\">Name</li>\n            <li className=\"del-box\">Email</li>\n            <li className=\"del-box\">Password</li>\n          </ul>\n        </div>\n        <div className=\"container my-auto\">\n          <div className=\"row\">\n            <div className=\"col-md-9 col-lg-7 col-xl-5 mx-auto my-4\">\n              <div className=\"panel header_2 center\">\n                <figure>\n                  <a href=\"#0\">\n                    <Image src={logo} width={86} height={80} alt=\"TransApp Logo\" />\n                  </a>\n                </figure>\n\n                <form\n                  className=\"input_style_1\"\n                  onSubmit={handleSubmit(onSubmitRemoveAccount)}\n                >\n                  <div className=\"form-group\">\n                    <label htmlFor=\"email_address\">{t(\"email_address\")}</label>\n                    <input\n                      type=\"email\"\n                      id=\"email_address\"\n                      className=\"form-control\"\n                      {...register(\"email\", { required: true })}\n                    />\n                    {errors.email && (\n                      <p style={{ color: \"red\" }}>{t(\"email_err\")}</p>\n                    )}\n                  </div>\n\n                  <button type=\"submit\" className=\"btn_1 full-width\">\n                    {t(\"submit\")}\n                  </button>\n                </form>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </React.Fragment>\n  );\n};\n\nexport default DeleteAccount;\n"],"names":["warnOnce","_","process","env","NODE_ENV","warnings","Set","msg","has","console","warn","add","useMergedRef","refA","refB","cleanupA","useRef","cleanupB","useCallback","current","cleanupFnA","cleanupFnB","applyRef","cleanup"],"mappings":"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","ignoreList":[0,1]}