module.exports=[334967,a=>{"use strict";var b=a.i(572131),c=a.i(341212),d=a.i(828525),e=a.i(89233),f=["className","cssModule","fluid","tag"];function g(){return(g=Object.assign.bind()).apply(this,arguments)}function h(a){var c=a.className,h=a.cssModule,i=a.fluid,j=a.tag,k=function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,f),l="container";!0===i?l="container-fluid":i&&(l="container-".concat(i));var m=(0,e.mapToCssModules)((0,d.default)(c,l),h);return b.default.createElement(void 0===j?"div":j,g({},k,{className:m}))}h.propTypes={tag:e.tagPropType,fluid:c.default.oneOfType([c.default.bool,c.default.string]),className:c.default.string,cssModule:c.default.object},a.s(["Container",0,h],334967)},105579,a=>{"use strict";var b,c=a.i(572131),d=function(){return(d=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)};function e(a,b){var c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols)for(var e=0,d=Object.getOwnPropertySymbols(a);e<d.length;e++)0>b.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(a,d[e])&&(c[d[e]]=a[d[e]]);return c}var f=d(d({},{speed:100,still:!1,thickness:100}),{secondaryColor:"rgba(0,0,0,0.44)"});!function(a,b){void 0===b&&(b={});var c=b.insertAt;if(a&&"undefined"!=typeof document){var d=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css","top"===c&&d.firstChild?d.insertBefore(e,d.firstChild):d.appendChild(e),e.styleSheet?e.styleSheet.cssText=a:e.appendChild(document.createTextNode(a))}}("@keyframes spinners-react-circular{0%{stroke-dashoffset:306}50%{stroke-dasharray:40,134}to{stroke-dasharray:1,174;stroke-dashoffset:132}}");var g=function(a){var b=a.secondaryColor,f=a.speed,g=a.still,h=a.thickness,i=e(a,["secondaryColor","speed","still","thickness"]),j=h/100*4;return c.default.createElement("svg",d({fill:"none"},i,{viewBox:"0 0 66 66"}),c.default.createElement("circle",{cx:"33",cy:"33",fill:"none",r:"28",stroke:b,strokeWidth:j}),c.default.createElement("circle",{cx:"33",cy:"33",fill:"none",r:"28",stroke:"currentColor",strokeDasharray:"1, 174",strokeDashoffset:"306",strokeLinecap:"round",strokeWidth:j,style:g?{}:{animation:"spinners-react-circular "+140/f+"s linear infinite"}}))};g.defaultProps=f;var h=((b=function(a){var b=a.color,f=a.enabled,h=a.size,i=a.style,j=e(a,["color","enabled","size","style"]),k=d(d({},j),{style:d({color:b,overflow:"visible",width:parseFloat(h.toString()).toString()===h.toString()?h+"px":h.toString()},i)});return f?c.default.createElement(g,d({},k)):null}).defaultProps={color:"#38ad48",enabled:!0,size:50,style:{}},b);a.s(["SpinnerCircular",()=>h],105579)},960702,641710,a=>{"use strict";var b=a.i(170106);let c=(0,b.default)("calendar-days",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);a.s(["CalendarDays",()=>c],960702);let d=(0,b.default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);a.s(["Clock",()=>d],641710)},546842,a=>{"use strict";let b=(0,a.i(170106).default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);a.s(["User",()=>b],546842)},284505,862722,a=>{"use strict";var b=a.i(170106);let c=(0,b.default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);a.s(["Download",()=>c],284505);let d=(0,b.default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);a.s(["XCircle",()=>d],862722)},855487,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(50944),e=a.i(83490),f=a.i(334967),g=a.i(105579),h=a.i(406704);a.i(802407);var i=a.i(778134),j=a.i(238246),k=a.i(170106);let l=(0,k.default)("building-2",[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]]);var m=a.i(960702),n=a.i(641710),o=a.i(284505);let p=(0,k.default)("printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);var q=a.i(546842),r=a.i(862722);a.s(["default",0,()=>{let{t:a}=(0,i.useTranslation)(),k=(0,d.useRouter)(),s=(0,d.useParams)(),t=(0,d.useSearchParams)(),u=(0,c.useMemo)(()=>Number(s?.id),[s?.id]),v=t?.get("print")==="1",[w,x]=(0,c.useState)(!0),[y,z]=(0,c.useState)(null);(0,c.useEffect)(()=>{"undefined"!=typeof document&&document.body.setAttribute("style","background: #f6f7fb!important;")},[]),(0,c.useEffect)(()=>{(async()=>{if(!Number.isFinite(u))return x(!1);try{let{data:a}=await e.default.get(`/api/v1/bookings/booking/${u}`);a?.error?(h.toast.error(a.message||"Failed to load ticket"),z(null)):z(a.data||null)}catch(a){e.default.isAxiosError(a)?h.toast.error(a.response?.data?.message||a.message||"Failed to load ticket"):h.toast.error("An unexpected error occurred"),z(null)}finally{x(!1)}})()},[u]),(0,c.useEffect)(()=>{v&&!w&&y&&setTimeout(()=>window.print(),200)},[v,w,y]);let A=async()=>{if(y)try{let{data:a}=await e.default.post(`/api/v1/bookings/cancel/${y.id}`);a?.error?h.toast.error(a?.message||"Failed to cancel"):(h.toast.success(a?.message||"Cancelled"),k.refresh())}catch(a){e.default.isAxiosError(a)?h.toast.error(a.response?.data?.message||a.message||"Failed to cancel"):h.toast.error("An unexpected error occurred")}};if(w)return(0,b.jsx)("div",{className:"page-content",children:(0,b.jsx)(f.Container,{fluid:!0,children:(0,b.jsx)("div",{className:"loader-outer",children:(0,b.jsx)("div",{className:"loader-inner",children:(0,b.jsx)(g.SpinnerCircular,{color:"#bcc014",size:30})})})})});if(!y)return(0,b.jsx)("div",{className:"page-content",children:(0,b.jsx)(f.Container,{fluid:!1,children:(0,b.jsx)("div",{className:"ta-ticket",children:(0,b.jsxs)("div",{className:"ta-empty",children:[(0,b.jsx)("p",{className:"mb-0",children:a("no_booking_data")||"No ticket found."}),(0,b.jsx)("div",{className:"mt-3 d-flex gap-2 flex-wrap ta-no-print",children:(0,b.jsx)(j.default,{className:"btn btn-sm btn-outline-secondary ta-btn",href:"/user-bookings",children:a("back")||"Back to bookings"})})]})})})});let B=y.ticket_number||`#${y.id}`,C=y.agency_name||"TransApp",D=y.agency_logo||null,E=y.status||"-";return(0,b.jsx)("div",{className:"page-content",children:(0,b.jsx)(f.Container,{fluid:!1,children:(0,b.jsxs)("div",{className:"ta-ticket",children:[(0,b.jsx)("div",{className:"ta-ticket__header ta-no-print",children:(0,b.jsx)(j.default,{className:"btn btn-sm btn-outline-secondary ta-btn",href:"/user-bookings",children:a("back")||"Back"})}),(0,b.jsxs)("article",{className:"ta-boarding-pass",id:"ticket-info",children:[(0,b.jsxs)("header",{className:"ta-boarding-pass__header",children:[(0,b.jsxs)("div",{className:"ta-boarding-pass__brand",children:[(0,b.jsxs)("div",{className:"ta-boarding-pass__agency",children:[D?(0,b.jsx)("img",{src:D,alt:C,width:24,height:24,style:{borderRadius:"4px",marginRight:"8px"}}):(0,b.jsx)(l,{size:16}),(0,b.jsx)("span",{children:C})]}),(0,b.jsx)("div",{className:"ta-boarding-pass__title",children:a("boarding_pass")||"Boarding pass"})]}),(0,b.jsxs)("div",{className:"ta-boarding-pass__barcode",children:[(0,b.jsx)("div",{className:"ta-boarding-pass__barcodeLabel",children:a("ticket_number")||"Ticket number"}),(0,b.jsx)("div",{className:"ta-boarding-pass__barcodeValue",children:B})]})]}),(0,b.jsxs)("section",{className:"ta-boarding-pass__route",children:[(0,b.jsxs)("div",{className:"ta-boarding-pass__routeCol",children:[(0,b.jsx)("div",{className:"ta-boarding-pass__routeLabel",children:a("from")||"From"}),(0,b.jsx)("div",{className:"ta-boarding-pass__routeCity",children:y.departure_city})]}),(0,b.jsx)("div",{className:"ta-boarding-pass__routeMid","aria-hidden":"true",children:(0,b.jsx)("span",{className:"ta-boarding-pass__routeLine"})}),(0,b.jsxs)("div",{className:"ta-boarding-pass__routeCol ta-boarding-pass__routeCol--right",children:[(0,b.jsx)("div",{className:"ta-boarding-pass__routeLabel",children:a("to")||"To"}),(0,b.jsx)("div",{className:"ta-boarding-pass__routeCity",children:y.arrival_city})]})]}),(0,b.jsxs)("div",{className:"ta-perf","aria-hidden":"true",children:[(0,b.jsx)("span",{className:"ta-perf__cut ta-perf__cut--left"}),(0,b.jsx)("span",{className:"ta-perf__line"}),(0,b.jsx)("span",{className:"ta-perf__cut ta-perf__cut--right"})]}),(0,b.jsxs)("section",{className:"ta-boarding-pass__details",children:[(0,b.jsxs)("div",{className:"ta-kv",children:[(0,b.jsxs)("div",{className:"ta-kv__k",children:[(0,b.jsx)(q.User,{size:16}),(0,b.jsx)("span",{children:a("passenger")||"Passenger"})]}),(0,b.jsx)("div",{className:"ta-kv__v",children:y.name||"-"})]}),(0,b.jsxs)("div",{className:"ta-kv",children:[(0,b.jsxs)("div",{className:"ta-kv__k",children:[(0,b.jsx)(m.CalendarDays,{size:16}),(0,b.jsx)("span",{children:a("journey_date")||"Date"})]}),(0,b.jsx)("div",{className:"ta-kv__v",children:y.journey_date})]}),(0,b.jsxs)("div",{className:"ta-kv",children:[(0,b.jsxs)("div",{className:"ta-kv__k",children:[(0,b.jsx)(n.Clock,{size:16}),(0,b.jsx)("span",{children:a("time")||"Time"})]}),(0,b.jsx)("div",{className:"ta-kv__v",children:y.departure_time})]}),(0,b.jsxs)("div",{className:"ta-kv",children:[(0,b.jsx)("div",{className:"ta-kv__k",children:(0,b.jsx)("span",{children:a("seat")||"Seat"})}),(0,b.jsx)("div",{className:"ta-kv__v",children:y.seat||"-"})]}),(0,b.jsxs)("div",{className:"ta-kv",children:[(0,b.jsx)("div",{className:"ta-kv__k",children:(0,b.jsx)("span",{children:a("status")||"Status"})}),(0,b.jsx)("div",{className:"ta-kv__v",children:(0,b.jsx)("span",{className:"ta-status is-neutral",children:E})})]}),(0,b.jsxs)("div",{className:"ta-kv ta-kv--right",children:[(0,b.jsx)("div",{className:"ta-kv__k",children:(0,b.jsx)("span",{children:a("price")||"Price"})}),(0,b.jsxs)("div",{className:"ta-kv__v ta-kv__v--price",children:[y.price," XAF"]})]})]}),(0,b.jsxs)("footer",{className:"ta-boarding-pass__actions ta-no-print",children:[(0,b.jsxs)("button",{type:"button",className:"btn btn-sm btn-primary ta-btn",onClick:()=>window.print(),children:[(0,b.jsx)(p,{size:16}),(0,b.jsx)("span",{children:a("print")||"Print"})]}),(0,b.jsxs)(j.default,{className:"btn btn-sm btn-outline-secondary ta-btn",href:`/ticket/${y.id}?print=1`,children:[(0,b.jsx)(o.Download,{size:16}),(0,b.jsx)("span",{children:a("download")||"Download"})]}),(0,b.jsxs)("button",{type:"button",className:"btn btn-sm btn-outline-danger ta-btn",onClick:A,children:[(0,b.jsx)(r.XCircle,{size:16}),(0,b.jsx)("span",{children:a("Cancel")||"Cancel"})]})]})]})]})})})}],855487)}];

//# sourceMappingURL=_f94cca91._.js.map