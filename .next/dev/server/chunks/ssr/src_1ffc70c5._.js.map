{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/remyngwanyam/Desktop/transapp/transapp-user-master/src/assets/images/client-2.png.mjs%20%28structured%20image%20object%20with%20data%20url%29"],"sourcesContent":["import src from \"IMAGE\";\nexport default { src, width: 90, height: 90, blurWidth: 8, blurHeight: 8, blurDataURL: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAIAAABLbSncAAAAMElEQVR42qXNuwkAIBRD0bf/WkHywaEUOxEbPe0NpPpFvQZJtkkm2UJbAMzF58dpAJnnmIYPWUN+AAAAAElFTkSuQmCC\"};\n"],"names":[],"mappings":";;;;AAAA;;uCACe;IAAE,KAAA,2JAAG;IAAE,OAAO;IAAI,QAAQ;IAAI,WAAW;IAAG,YAAY;IAAG,aAAa;AAAoK"}},
    {"offset": {"line": 25, "column": 0}, "map": {"version":3,"sources":["file:///Users/remyngwanyam/Desktop/transapp/transapp-user-master/src/components/Modals/UserBookingModal.tsx"],"sourcesContent":["'use client'\n\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport {\n  Row,\n  Col,\n  Modal,\n  ModalHeader,\n  ModalBody,\n  ModalFooter,\n  Button,\n} from \"reactstrap\";\nimport { toast } from \"react-hot-toast\";\nimport { useTranslation } from \"react-i18next\";\nimport { useStateMachine } from \"little-state-machine\";\nimport {\n  updateBooking,\n  updateAction,\n  updateUser,\n} from \"../../utils/updateActions\";\nimport ShortUniqueId from \"short-unique-id\";\nimport { useForm } from \"react-hook-form\";\nimport axios from \"axios\";\nimport { SpinnerCircular } from 'spinners-react';\nimport type { Trip } from \"../../interfaces/trips.interface\";\nimport { useRouter } from \"next/navigation\";\nimport { CreditCard, Mail, MapPin, Phone, User, X } from \"lucide-react\";\n\ninterface UserBookingModalProps {\n  modal: { modal_static: boolean };\n  getModal: (value: { modal_static: boolean }) => void;\n  booking?: Trip;\n  buttonText?: string;\n}\n\ninterface BookingFormData {\n  name: string;\n  idCardNo: string;\n  phoneNumber: string;\n  payerEmail: string;\n  seat: string;\n}\n\nconst UserBookingModal: React.FC<UserBookingModalProps> = ({\n  modal,\n  getModal,\n  booking,\n  buttonText = \"Pay Now\",\n}) => {\n  const { t } = useTranslation();\n  const router = useRouter();\n  const {\n    register,\n    reset,\n    getValues,\n    setValue,\n    watch,\n    handleSubmit,\n    formState: { errors },\n  } = useForm<BookingFormData>();\n\n  const [loading, setLoading] = useState<boolean>(false);\n  const { state } = useStateMachine({\n    updateBooking,\n    updateAction,\n    updateUser,\n  });\n  const stateAny = state as any;\n  // `updateAction({ trip: tripObj })` stores the Trip directly at `state.trip` (not `state.trip.trip`)\n  const selectedTrip: Trip | undefined = (stateAny?.trip?.trip as Trip | undefined) ?? (stateAny?.trip as Trip | undefined);\n\n  const uid = new ShortUniqueId({ length: 10, dictionary: \"alphanum_upper\" });\n  const transaction_id = uid.rnd();\n\n  useEffect(() => {\n    if (booking) {\n      reset({\n        data: booking,\n      } as any);\n    }\n  }, [booking, reset]);\n\n  const makePaymentOnPayunit = async (): Promise<void> => {\n    setLoading(true);\n    const phone = getValues(\"phoneNumber\");\n    const name = getValues('name');\n    const idCard = getValues('idCardNo');\n    const payerEmail = getValues('payerEmail');\n    const seat = getValues('seat');\n\n    if (!seat) {\n      toast.error(t('seat_required') || 'Please select a seat');\n      setLoading(false);\n      return;\n    }\n\n    if (typeof window !== 'undefined') {\n      localStorage.setItem(\"phone\", phone);\n      localStorage.setItem(\"phoneNumber\", phone);\n      localStorage.setItem(\"name\", name);\n      localStorage.setItem(\"idCard\", idCard);\n      localStorage.setItem(\"email\", payerEmail);\n      localStorage.setItem(\"seat\", seat);\n      localStorage.setItem(\"transactionID\", transaction_id);\n    }\n\n    const tripForPayment = selectedTrip;\n    const booked = {\n      total_amount: tripForPayment?.price || 100,\n      currency: \"XAF\",\n      transaction_id: transaction_id,\n      return_url: `${process.env.NEXT_PUBLIC_APP_URL || 'https://transapp-user.herokuapp.com'}/payunit-return/:transaction_id/:transaction_amount/:transaction_gateway/:transaction_status/:purchaseRef/:currency`,\n    };\n\n    const createBookingFallback = async (): Promise<void> => {\n      if (!tripForPayment?.id) {\n        toast.error('No trip selected');\n        return;\n      }\n\n      const bookingPayload = {\n        phone_number: phone ? Number(phone) : null,\n        number_of_seats: \"1\",\n        ticket_type: \"One-way\",\n        name: name || '',\n        id_card_no: idCard || null,\n        payer_email: payerEmail || null,\n        seat: seat,\n        trip_id: tripForPayment.id,\n        agency_name: tripForPayment.agency_name,\n        journey_date: tripForPayment.journey_date,\n        price: tripForPayment.price,\n        departure_city: tripForPayment.from_location,\n        arrival_city: tripForPayment.to_location,\n        departure_time: tripForPayment.departure,\n      };\n\n      // Logged-in users create a real booking (server validates auth via bearer token / cookies)\n      const { data } = await axios.post<{ error: boolean; message: string; data?: any }>(\n        `api/v1/bookings/create-booking/${tripForPayment.id}`,\n        bookingPayload\n      );\n\n      if ((data as any)?.error) {\n        toast.error((data as any)?.message || 'Booking failed');\n        return;\n      }\n\n      toast.success((data as any)?.message || 'Booking created (dev mode)');\n      getModal({ modal_static: false });\n      const bookingId = (data as any)?.data?.id;\n      if (bookingId) {\n        router.push(`/ticket/${bookingId}`);\n      }\n    };\n\n    try {\n      // IMPORTANT: Call our server-side proxy to avoid browser CORS issues with PayUnit.\n      const { data } = await axios.post(`api/v1/payunit/initialize`, booked);\n      if (data?.error) {\n        toast.error(data.message);\n        setLoading(false);\n      } else {\n        if (data.status === \"SUCCESS\" && typeof window !== 'undefined') {\n          window.location.href = data.data.transaction_url;\n        }\n      }\n    } catch (error: unknown) {\n      if (axios.isAxiosError(error)) {\n        const msg = (error.response?.data as any)?.message || 'Payment initialization failed';\n        // In local dev, PayUnit often fails due to credentials / environment; fall back to booking creation\n        // so you can still test the booking pipeline end-to-end.\n        if (process.env.NODE_ENV !== 'production') {\n          toast.error(msg + ' — creating booking directly (dev fallback).');\n          try {\n            await createBookingFallback();\n          } catch (e: unknown) {\n            toast.error((e as any)?.message || 'Booking fallback failed');\n          } finally {\n            setLoading(false);\n          }\n          return;\n        }\n        toast.error(msg);\n      } else {\n        toast.error('An unexpected error occurred');\n      }\n      setLoading(false);\n    }\n  };\n\n  const tripForDisplay = selectedTrip;\n\n  const [takenSeats, setTakenSeats] = useState<string[]>([]);\n  const [loadingSeats, setLoadingSeats] = useState<boolean>(false);\n  const seatCount = useMemo(() => {\n    const n = Number(tripForDisplay?.seats);\n    return Number.isFinite(n) && n > 0 ? n : 0;\n  }, [tripForDisplay?.seats]);\n\n  useEffect(() => {\n    const load = async (): Promise<void> => {\n      if (!modal.modal_static) return;\n      if (!tripForDisplay?.id) return;\n      setLoadingSeats(true);\n      try {\n        const { data } = await axios.get<{ error: boolean; message: string; data?: { takenSeats: string[] } }>(\n          `api/v1/bookings/trip-seats/${tripForDisplay.id}`\n        );\n        if ((data as any)?.error) {\n          setTakenSeats([]);\n        } else {\n          setTakenSeats((data as any)?.data?.takenSeats || []);\n        }\n      } catch {\n        setTakenSeats([]);\n      } finally {\n        setLoadingSeats(false);\n      }\n    };\n    load();\n  }, [modal.modal_static, tripForDisplay?.id]);\n\n  const pickSeat = (seat: string): void => {\n    setValue('seat', seat, { shouldValidate: true, shouldDirty: true });\n  };\n\n  const selectedSeat = watch('seat');\n  const seatRows = useMemo(() => {\n    if (seatCount <= 0) return [];\n    const seats = Array.from({ length: seatCount }, (_, i) => String(i + 1));\n    const rows: Array<{ left: [string | null, string | null]; right: [string | null, string | null] }> = [];\n    for (let i = 0; i < seats.length; i += 4) {\n      rows.push({\n        left: [seats[i] ?? null, seats[i + 1] ?? null],\n        right: [seats[i + 2] ?? null, seats[i + 3] ?? null],\n      });\n    }\n    return rows;\n  }, [seatCount]);\n\n  const SeatButton = ({ seat }: { seat: string | null }) => {\n    if (!seat) return <div className=\"ta-seat ta-seat--empty\" aria-hidden=\"true\" />;\n    const isTaken = takenSeats.includes(seat);\n    const isSelected = selectedSeat === seat;\n    return (\n      <button\n        key={seat}\n        type=\"button\"\n        className={`ta-seat ${isTaken ? 'is-taken' : 'is-available'} ${isSelected ? 'is-selected' : ''}`}\n        disabled={isTaken}\n        onClick={() => pickSeat(seat)}\n        aria-label={`Seat ${seat}${isTaken ? ' (taken)' : isSelected ? ' (selected)' : ''}`}\n      >\n        {seat}\n      </button>\n    );\n  };\n\n  return (\n    <>\n      <Modal\n        isOpen={modal.modal_static}\n        backdrop=\"static\"\n        centered\n        size=\"lg\"\n        contentClassName=\"ta-modal\"\n      >\n        <ModalHeader className=\"ta-modal__header\">\n          <div className=\"ta-modal__headerInner\">\n            <div>\n              <div className=\"ta-modal__kicker\">{t('booking_details') || 'Booking details'}</div>\n              <div className=\"ta-modal__title\">\n                <MapPin size={18} />\n                <span>{tripForDisplay?.from_location || tripForDisplay?.from || '-'}</span>\n                <span className=\"ta-modal__arrow\">→</span>\n                <span>{tripForDisplay?.to_location || tripForDisplay?.to || '-'}</span>\n              </div>\n            </div>\n            <button\n              type=\"button\"\n              className=\"ta-modal__close\"\n              onClick={() => getModal({ modal_static: false })}\n              aria-label={t('close') || 'Close'}\n            >\n              <X size={18} />\n            </button>\n          </div>\n        </ModalHeader>\n        <ModalBody>\n          <form onSubmit={handleSubmit(makePaymentOnPayunit)}>\n            <Row>\n              <Col lg={6}>\n                <div className=\"ta-field\">\n                  <label htmlFor=\"name\" className=\"ta-field__label\">{t(\"name\")}</label>\n                  <div className=\"ta-field__control\">\n                    <span className=\"ta-field__icon\" aria-hidden=\"true\"><User size={16} /></span>\n                    <input\n                      type=\"text\"\n                      id=\"name\"\n                      className=\"form-control ta-input\"\n                      {...register(\"name\", { required: true, minLength: 2 })}\n                    />\n                  </div>\n                </div>\n                {errors.name && (\n                  <p style={{ color: \"red\" }}>{t(\"agency_branch_err\")}</p>\n                )}\n              </Col>\n              <Col lg={6}>\n                <div className=\"ta-field\">\n                  <label htmlFor=\"idCardNo\" className=\"ta-field__label\">{t(\"id_card\")}</label>\n                  <div className=\"ta-field__control\">\n                    <span className=\"ta-field__icon\" aria-hidden=\"true\"><CreditCard size={16} /></span>\n                    <input\n                      type=\"text\"\n                      id=\"idCardNo\"\n                      className=\"form-control ta-input\"\n                      {...register(\"idCardNo\", { required: true })}\n                    />\n                  </div>\n                </div>\n                {errors.idCardNo && (\n                  <p style={{ color: \"red\" }}>{t(\"id_card_err\")}</p>\n                )}\n              </Col>\n\n              <Col lg={6}>\n                <div className=\"ta-field\">\n                  <label htmlFor=\"phoneNumber\" className=\"ta-field__label\">{t(\"phone\")}</label>\n                  <div className=\"ta-field__control\">\n                    <span className=\"ta-field__icon\" aria-hidden=\"true\"><Phone size={16} /></span>\n                    <input\n                      type=\"tel\"\n                      inputMode=\"numeric\"\n                      id=\"phoneNumber\"\n                      placeholder={t('valid_momo_number') || \"Valid money transfer number\"}\n                      className=\"form-control ta-input\"\n                      {...register(\"phoneNumber\", { required: true, minLength: 9, maxLength: 12 })}\n                    />\n                  </div>\n                </div>\n                {errors.phoneNumber && (\n                  <p style={{ color: \"red\" }}>{t(\"phone_err\")}</p>\n                )}\n              </Col>\n\n              <Col lg={6}>\n                <div className=\"ta-field\">\n                  <label htmlFor=\"payerEmail\" className=\"ta-field__label\">{t(\"email_address\")}</label>\n                  <div className=\"ta-field__control\">\n                    <span className=\"ta-field__icon\" aria-hidden=\"true\"><Mail size={16} /></span>\n                    <input\n                      type=\"email\"\n                      id=\"payerEmail\"\n                      className=\"form-control ta-input\"\n                      {...register(\"payerEmail\", { required: true })}\n                    />\n                  </div>\n                </div>\n                {errors.payerEmail && (\n                  <p style={{ color: \"red\" }}>{t(\"phone_err\")}</p>\n                )}\n              </Col>\n            </Row>\n\n            <div className=\"ta-seatmap mt-3\">\n              <div className=\"ta-seatmap__header\">\n                <div>\n                  <div className=\"ta-seatmap__title\">{t('seat') || 'Seat'}</div>\n                  <div className=\"ta-seatmap__subtitle\">\n                    {loadingSeats ? (t('loading') || 'Loading...') : (t('select_seat') || 'Select your seat')}\n                  </div>\n                </div>\n                <div className=\"ta-seatmap__legend\">\n                  <span className=\"ta-legend is-available\">{t('available') || 'Available'}</span>\n                  <span className=\"ta-legend is-selected\">{t('selected') || 'Selected'}</span>\n                  <span className=\"ta-legend is-taken\">{t('taken') || 'Taken'}</span>\n                </div>\n              </div>\n\n              <input type=\"hidden\" {...register(\"seat\", { required: true })} />\n              {errors.seat ? (\n                <div className=\"text-danger mt-1\">{t('seat_required') || 'Please select a seat'}</div>\n              ) : null}\n\n              {seatCount > 0 ? (\n                <div className=\"ta-seatmap__bus\" role=\"group\" aria-label={t('seat_map') || 'Seat map'}>\n                  <div className=\"ta-seatmap__driver\" aria-hidden=\"true\">{t('driver') || 'Driver'}</div>\n                  <div className=\"ta-seatmap__rows\">\n                    {seatRows.map((row, idx) => (\n                      <div key={idx} className=\"ta-seatmap__row\">\n                        <div className=\"ta-seatmap__side\">\n                          <SeatButton seat={row.left[0]} />\n                          <SeatButton seat={row.left[1]} />\n                        </div>\n                        <div className=\"ta-seatmap__aisle\" aria-hidden=\"true\" />\n                        <div className=\"ta-seatmap__side\">\n                          <SeatButton seat={row.right[0]} />\n                          <SeatButton seat={row.right[1]} />\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              ) : (\n                <div className=\"text-muted\">{t('no_seat_map') || 'Seat map not available for this trip'}</div>\n              )}\n            </div>\n\n            <ModalFooter>\n              {loading ? (\n                <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', padding: '20px' }}>\n                  <SpinnerCircular\n                    color=\"#bcc015\"\n                    size={50}\n                    aria-label=\"Loading Spinner\"\n                    data-testid=\"loader\"\n                  />\n                </div>\n              ) : (\n                <>\n                  <Button\n                    color=\"light\"\n                    onClick={() => getModal({ modal_static: false })}\n                  >\n                    {t(\"cancel\")}\n                  </Button>\n                  <Button type=\"submit\" color=\"primary\">\n                    {buttonText}\n                  </Button>\n                </>\n              )}\n            </ModalFooter>\n          </form>\n        </ModalBody>\n      </Modal>\n    </>\n  );\n};\n\nexport default UserBookingModal;\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AACA;AAAA;AACA;AACA;AAKA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AA1BA;;;;;;;;;;;;;;AA2CA,MAAM,mBAAoD,CAAC,EACzD,KAAK,EACL,QAAQ,EACR,OAAO,EACP,aAAa,SAAS,EACvB;IACC,MAAM,EAAE,CAAC,EAAE,GAAG,IAAA,kLAAc;IAC5B,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,EACJ,QAAQ,EACR,KAAK,EACL,SAAS,EACT,QAAQ,EACR,KAAK,EACL,YAAY,EACZ,WAAW,EAAE,MAAM,EAAE,EACtB,GAAG,IAAA,yKAAO;IAEX,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAU;IAChD,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,qJAAe,EAAC;QAChC,eAAA,8IAAa;QACb,cAAA,6IAAY;QACZ,YAAA,2IAAU;IACZ;IACA,MAAM,WAAW;IACjB,qGAAqG;IACrG,MAAM,eAAiC,AAAC,UAAU,MAAM,QAA8B,UAAU;IAEhG,MAAM,MAAM,IAAI,iLAAa,CAAC;QAAE,QAAQ;QAAI,YAAY;IAAiB;IACzE,MAAM,iBAAiB,IAAI,GAAG;IAE9B,IAAA,kNAAS,EAAC;QACR,IAAI,SAAS;YACX,MAAM;gBACJ,MAAM;YACR;QACF;IACF,GAAG;QAAC;QAAS;KAAM;IAEnB,MAAM,uBAAuB;QAC3B,WAAW;QACX,MAAM,QAAQ,UAAU;QACxB,MAAM,OAAO,UAAU;QACvB,MAAM,SAAS,UAAU;QACzB,MAAM,aAAa,UAAU;QAC7B,MAAM,OAAO,UAAU;QAEvB,IAAI,CAAC,MAAM;YACT,gKAAK,CAAC,KAAK,CAAC,EAAE,oBAAoB;YAClC,WAAW;YACX;QACF;QAEA;;QAUA,MAAM,iBAAiB;QACvB,MAAM,SAAS;YACb,cAAc,gBAAgB,SAAS;YACvC,UAAU;YACV,gBAAgB;YAChB,YAAY,GAAG,6DAAmC,sCAAsC,mHAAmH,CAAC;QAC9M;QAEA,MAAM,wBAAwB;YAC5B,IAAI,CAAC,gBAAgB,IAAI;gBACvB,gKAAK,CAAC,KAAK,CAAC;gBACZ;YACF;YAEA,MAAM,iBAAiB;gBACrB,cAAc,QAAQ,OAAO,SAAS;gBACtC,iBAAiB;gBACjB,aAAa;gBACb,MAAM,QAAQ;gBACd,YAAY,UAAU;gBACtB,aAAa,cAAc;gBAC3B,MAAM;gBACN,SAAS,eAAe,EAAE;gBAC1B,aAAa,eAAe,WAAW;gBACvC,cAAc,eAAe,YAAY;gBACzC,OAAO,eAAe,KAAK;gBAC3B,gBAAgB,eAAe,aAAa;gBAC5C,cAAc,eAAe,WAAW;gBACxC,gBAAgB,eAAe,SAAS;YAC1C;YAEA,2FAA2F;YAC3F,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,gJAAK,CAAC,IAAI,CAC/B,CAAC,+BAA+B,EAAE,eAAe,EAAE,EAAE,EACrD;YAGF,IAAK,MAAc,OAAO;gBACxB,gKAAK,CAAC,KAAK,CAAC,AAAC,MAAc,WAAW;gBACtC;YACF;YAEA,gKAAK,CAAC,OAAO,CAAC,AAAC,MAAc,WAAW;YACxC,SAAS;gBAAE,cAAc;YAAM;YAC/B,MAAM,YAAa,MAAc,MAAM;YACvC,IAAI,WAAW;gBACb,OAAO,IAAI,CAAC,CAAC,QAAQ,EAAE,WAAW;YACpC;QACF;QAEA,IAAI;YACF,mFAAmF;YACnF,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,gJAAK,CAAC,IAAI,CAAC,CAAC,yBAAyB,CAAC,EAAE;YAC/D,IAAI,MAAM,OAAO;gBACf,gKAAK,CAAC,KAAK,CAAC,KAAK,OAAO;gBACxB,WAAW;YACb,OAAO;gBACL;;YAGF;QACF,EAAE,OAAO,OAAgB;YACvB,IAAI,gJAAK,CAAC,YAAY,CAAC,QAAQ;gBAC7B,MAAM,MAAM,AAAC,MAAM,QAAQ,EAAE,MAAc,WAAW;gBACtD,oGAAoG;gBACpG,yDAAyD;gBACzD,wCAA2C;oBACzC,gKAAK,CAAC,KAAK,CAAC,MAAM;oBAClB,IAAI;wBACF,MAAM;oBACR,EAAE,OAAO,GAAY;wBACnB,gKAAK,CAAC,KAAK,CAAC,AAAC,GAAW,WAAW;oBACrC,SAAU;wBACR,WAAW;oBACb;oBACA;gBACF;;;YAEF,OAAO;gBACL,gKAAK,CAAC,KAAK,CAAC;YACd;YACA,WAAW;QACb;IACF;IAEA,MAAM,iBAAiB;IAEvB,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAW,EAAE;IACzD,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAU;IAC1D,MAAM,YAAY,IAAA,gNAAO,EAAC;QACxB,MAAM,IAAI,OAAO,gBAAgB;QACjC,OAAO,OAAO,QAAQ,CAAC,MAAM,IAAI,IAAI,IAAI;IAC3C,GAAG;QAAC,gBAAgB;KAAM;IAE1B,IAAA,kNAAS,EAAC;QACR,MAAM,OAAO;YACX,IAAI,CAAC,MAAM,YAAY,EAAE;YACzB,IAAI,CAAC,gBAAgB,IAAI;YACzB,gBAAgB;YAChB,IAAI;gBACF,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,gJAAK,CAAC,GAAG,CAC9B,CAAC,2BAA2B,EAAE,eAAe,EAAE,EAAE;gBAEnD,IAAK,MAAc,OAAO;oBACxB,cAAc,EAAE;gBAClB,OAAO;oBACL,cAAc,AAAC,MAAc,MAAM,cAAc,EAAE;gBACrD;YACF,EAAE,OAAM;gBACN,cAAc,EAAE;YAClB,SAAU;gBACR,gBAAgB;YAClB;QACF;QACA;IACF,GAAG;QAAC,MAAM,YAAY;QAAE,gBAAgB;KAAG;IAE3C,MAAM,WAAW,CAAC;QAChB,SAAS,QAAQ,MAAM;YAAE,gBAAgB;YAAM,aAAa;QAAK;IACnE;IAEA,MAAM,eAAe,MAAM;IAC3B,MAAM,WAAW,IAAA,gNAAO,EAAC;QACvB,IAAI,aAAa,GAAG,OAAO,EAAE;QAC7B,MAAM,QAAQ,MAAM,IAAI,CAAC;YAAE,QAAQ;QAAU,GAAG,CAAC,GAAG,IAAM,OAAO,IAAI;QACrE,MAAM,OAA+F,EAAE;QACvG,IAAK,IAAI,IAAI,GAAG,IAAI,MAAM,MAAM,EAAE,KAAK,EAAG;YACxC,KAAK,IAAI,CAAC;gBACR,MAAM;oBAAC,KAAK,CAAC,EAAE,IAAI;oBAAM,KAAK,CAAC,IAAI,EAAE,IAAI;iBAAK;gBAC9C,OAAO;oBAAC,KAAK,CAAC,IAAI,EAAE,IAAI;oBAAM,KAAK,CAAC,IAAI,EAAE,IAAI;iBAAK;YACrD;QACF;QACA,OAAO;IACT,GAAG;QAAC;KAAU;IAEd,MAAM,aAAa,CAAC,EAAE,IAAI,EAA2B;QACnD,IAAI,CAAC,MAAM,qBAAO,8OAAC;YAAI,WAAU;YAAyB,eAAY;;;;;;QACtE,MAAM,UAAU,WAAW,QAAQ,CAAC;QACpC,MAAM,aAAa,iBAAiB;QACpC,qBACE,8OAAC;YAEC,MAAK;YACL,WAAW,CAAC,QAAQ,EAAE,UAAU,aAAa,eAAe,CAAC,EAAE,aAAa,gBAAgB,IAAI;YAChG,UAAU;YACV,SAAS,IAAM,SAAS;YACxB,cAAY,CAAC,KAAK,EAAE,OAAO,UAAU,aAAa,aAAa,gBAAgB,IAAI;sBAElF;WAPI;;;;;IAUX;IAEA,qBACE;kBACE,cAAA,8OAAC,uLAAK;YACJ,QAAQ,MAAM,YAAY;YAC1B,UAAS;YACT,QAAQ;YACR,MAAK;YACL,kBAAiB;;8BAEjB,8OAAC,yMAAW;oBAAC,WAAU;8BACrB,cAAA,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;;kDACC,8OAAC;wCAAI,WAAU;kDAAoB,EAAE,sBAAsB;;;;;;kDAC3D,8OAAC;wCAAI,WAAU;;0DACb,8OAAC,oNAAM;gDAAC,MAAM;;;;;;0DACd,8OAAC;0DAAM,gBAAgB,iBAAiB,gBAAgB,QAAQ;;;;;;0DAChE,8OAAC;gDAAK,WAAU;0DAAkB;;;;;;0DAClC,8OAAC;0DAAM,gBAAgB,eAAe,gBAAgB,MAAM;;;;;;;;;;;;;;;;;;0CAGhE,8OAAC;gCACC,MAAK;gCACL,WAAU;gCACV,SAAS,IAAM,SAAS;wCAAE,cAAc;oCAAM;gCAC9C,cAAY,EAAE,YAAY;0CAE1B,cAAA,8OAAC,iMAAC;oCAAC,MAAM;;;;;;;;;;;;;;;;;;;;;;8BAIf,8OAAC,mMAAS;8BACR,cAAA,8OAAC;wBAAK,UAAU,aAAa;;0CAC3B,8OAAC,iLAAG;;kDACF,8OAAC,iLAAG;wCAAC,IAAI;;0DACP,8OAAC;gDAAI,WAAU;;kEACb,8OAAC;wDAAM,SAAQ;wDAAO,WAAU;kEAAmB,EAAE;;;;;;kEACrD,8OAAC;wDAAI,WAAU;;0EACb,8OAAC;gEAAK,WAAU;gEAAiB,eAAY;0EAAO,cAAA,8OAAC,0MAAI;oEAAC,MAAM;;;;;;;;;;;0EAChE,8OAAC;gEACC,MAAK;gEACL,IAAG;gEACH,WAAU;gEACT,GAAG,SAAS,QAAQ;oEAAE,UAAU;oEAAM,WAAW;gEAAE,EAAE;;;;;;;;;;;;;;;;;;4CAI3D,OAAO,IAAI,kBACV,8OAAC;gDAAE,OAAO;oDAAE,OAAO;gDAAM;0DAAI,EAAE;;;;;;;;;;;;kDAGnC,8OAAC,iLAAG;wCAAC,IAAI;;0DACP,8OAAC;gDAAI,WAAU;;kEACb,8OAAC;wDAAM,SAAQ;wDAAW,WAAU;kEAAmB,EAAE;;;;;;kEACzD,8OAAC;wDAAI,WAAU;;0EACb,8OAAC;gEAAK,WAAU;gEAAiB,eAAY;0EAAO,cAAA,8OAAC,gOAAU;oEAAC,MAAM;;;;;;;;;;;0EACtE,8OAAC;gEACC,MAAK;gEACL,IAAG;gEACH,WAAU;gEACT,GAAG,SAAS,YAAY;oEAAE,UAAU;gEAAK,EAAE;;;;;;;;;;;;;;;;;;4CAIjD,OAAO,QAAQ,kBACd,8OAAC;gDAAE,OAAO;oDAAE,OAAO;gDAAM;0DAAI,EAAE;;;;;;;;;;;;kDAInC,8OAAC,iLAAG;wCAAC,IAAI;;0DACP,8OAAC;gDAAI,WAAU;;kEACb,8OAAC;wDAAM,SAAQ;wDAAc,WAAU;kEAAmB,EAAE;;;;;;kEAC5D,8OAAC;wDAAI,WAAU;;0EACb,8OAAC;gEAAK,WAAU;gEAAiB,eAAY;0EAAO,cAAA,8OAAC,6MAAK;oEAAC,MAAM;;;;;;;;;;;0EACjE,8OAAC;gEACC,MAAK;gEACL,WAAU;gEACV,IAAG;gEACH,aAAa,EAAE,wBAAwB;gEACvC,WAAU;gEACT,GAAG,SAAS,eAAe;oEAAE,UAAU;oEAAM,WAAW;oEAAG,WAAW;gEAAG,EAAE;;;;;;;;;;;;;;;;;;4CAIjF,OAAO,WAAW,kBACjB,8OAAC;gDAAE,OAAO;oDAAE,OAAO;gDAAM;0DAAI,EAAE;;;;;;;;;;;;kDAInC,8OAAC,iLAAG;wCAAC,IAAI;;0DACP,8OAAC;gDAAI,WAAU;;kEACb,8OAAC;wDAAM,SAAQ;wDAAa,WAAU;kEAAmB,EAAE;;;;;;kEAC3D,8OAAC;wDAAI,WAAU;;0EACb,8OAAC;gEAAK,WAAU;gEAAiB,eAAY;0EAAO,cAAA,8OAAC,0MAAI;oEAAC,MAAM;;;;;;;;;;;0EAChE,8OAAC;gEACC,MAAK;gEACL,IAAG;gEACH,WAAU;gEACT,GAAG,SAAS,cAAc;oEAAE,UAAU;gEAAK,EAAE;;;;;;;;;;;;;;;;;;4CAInD,OAAO,UAAU,kBAChB,8OAAC;gDAAE,OAAO;oDAAE,OAAO;gDAAM;0DAAI,EAAE;;;;;;;;;;;;;;;;;;0CAKrC,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;;kEACC,8OAAC;wDAAI,WAAU;kEAAqB,EAAE,WAAW;;;;;;kEACjD,8OAAC;wDAAI,WAAU;kEACZ,eAAgB,EAAE,cAAc,eAAiB,EAAE,kBAAkB;;;;;;;;;;;;0DAG1E,8OAAC;gDAAI,WAAU;;kEACb,8OAAC;wDAAK,WAAU;kEAA0B,EAAE,gBAAgB;;;;;;kEAC5D,8OAAC;wDAAK,WAAU;kEAAyB,EAAE,eAAe;;;;;;kEAC1D,8OAAC;wDAAK,WAAU;kEAAsB,EAAE,YAAY;;;;;;;;;;;;;;;;;;kDAIxD,8OAAC;wCAAM,MAAK;wCAAU,GAAG,SAAS,QAAQ;4CAAE,UAAU;wCAAK,EAAE;;;;;;oCAC5D,OAAO,IAAI,iBACV,8OAAC;wCAAI,WAAU;kDAAoB,EAAE,oBAAoB;;;;;mFACvD;oCAEH,YAAY,kBACX,8OAAC;wCAAI,WAAU;wCAAkB,MAAK;wCAAQ,cAAY,EAAE,eAAe;;0DACzE,8OAAC;gDAAI,WAAU;gDAAqB,eAAY;0DAAQ,EAAE,aAAa;;;;;;0DACvE,8OAAC;gDAAI,WAAU;0DACZ,SAAS,GAAG,CAAC,CAAC,KAAK,oBAClB,8OAAC;wDAAc,WAAU;;0EACvB,8OAAC;gEAAI,WAAU;;kFACb,8OAAC;wEAAW,MAAM,IAAI,IAAI,CAAC,EAAE;;;;;;kFAC7B,8OAAC;wEAAW,MAAM,IAAI,IAAI,CAAC,EAAE;;;;;;;;;;;;0EAE/B,8OAAC;gEAAI,WAAU;gEAAoB,eAAY;;;;;;0EAC/C,8OAAC;gEAAI,WAAU;;kFACb,8OAAC;wEAAW,MAAM,IAAI,KAAK,CAAC,EAAE;;;;;;kFAC9B,8OAAC;wEAAW,MAAM,IAAI,KAAK,CAAC,EAAE;;;;;;;;;;;;;uDARxB;;;;;;;;;;;;;;;iGAehB,8OAAC;wCAAI,WAAU;kDAAc,EAAE,kBAAkB;;;;;;;;;;;;0CAIrD,8OAAC,yMAAW;0CACT,wBACC,8OAAC;oCAAI,OAAO;wCAAE,SAAS;wCAAQ,gBAAgB;wCAAU,YAAY;wCAAU,SAAS;oCAAO;8CAC7F,cAAA,8OAAC,qLAAe;wCACd,OAAM;wCACN,MAAM;wCACN,cAAW;wCACX,eAAY;;;;;;;;;;6FAIhB;;sDACE,8OAAC,0LAAM;4CACL,OAAM;4CACN,SAAS,IAAM,SAAS;oDAAE,cAAc;gDAAM;sDAE7C,EAAE;;;;;;sDAEL,8OAAC,0LAAM;4CAAC,MAAK;4CAAS,OAAM;sDACzB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUrB;uCAEe"}},
    {"offset": {"line": 943, "column": 0}, "map": {"version":3,"sources":["file:///Users/remyngwanyam/Desktop/transapp/transapp-user-master/src/components/Common/Search.tsx"],"sourcesContent":["'use client'\n\nimport React, { useState, useEffect } from \"react\";\nimport { Button } from \"reactstrap\";\nimport { fr } from \"date-fns/locale/fr\";\nimport { enGB as en } from \"date-fns/locale/en-GB\";\nimport { ptBR } from \"date-fns/locale/pt-BR\";\nimport { useStateMachine } from \"little-state-machine\";\nimport { updateSearch, SearchState } from \"../../utils/updateActions\";\nimport { useRouter } from \"next/navigation\";\nimport axios from \"axios\";\nimport { toast } from \"react-hot-toast\";\nimport DatePicker from \"react-datepicker\";\nimport { useTranslation } from \"react-i18next\";\nimport moment from \"moment\";\nimport Select, { StylesConfig } from 'react-select';\nimport { useForm } from \"react-hook-form\";\nimport type { Trip } from \"../../interfaces/trips.interface\";\nimport { CalendarDays, Clock, MapPin, Search as SearchIcon } from 'lucide-react';\n\ninterface SearchProps {\n  from?: string;\n  initialFrom?: string;\n  initialTo?: string;\n  initialJourneyDate?: Date;\n  initialDepartureTime?: Date;\n  text?: string;\n  setData?: (data: Trip[]) => void;\n}\n\ninterface TownOption {\n  label: string;\n  value: string;\n}\n\ninterface SearchFormData {\n  from?: string;\n  to?: string;\n  journeyDate?: Date;\n}\n\nconst towns: TownOption[] = [\n  { label: 'Bafoussam', value: 'Bafoussam' },\n  { label: 'Bamenda', value: 'Bamenda' },\n  { label: 'Buea', value: 'Buea' },\n  { label: 'Douala', value: 'Douala' },\n  { label: 'Dschang', value: 'Dschang' },\n  { label: 'Edea', value: 'Edea' },\n  { label: 'Garoua', value: 'Garoua' },\n  { label: 'Kribi', value: 'kribi' },\n  { label: 'Kumba', value: 'Kumba' },\n  { label: 'Limbe', value: 'Limbe' },\n  { label: 'Maroua', value: 'Maroua' },\n  { label: 'Nkongsamba', value: 'Nkongsamba' },\n  { label: 'Yaounde', value: 'Yaounde' },\n];\n\nconst Search: React.FC<SearchProps> = ({\n  from,\n  initialFrom,\n  initialTo,\n  initialJourneyDate,\n  initialDepartureTime,\n  text,\n  setData,\n}) => {\n  const { t } = useTranslation();\n  const router = useRouter();\n  const [startDate, setStartDate] = useState<Date>(initialJourneyDate ?? new Date());\n  // Default to the top of the current hour so it matches our seeded trip times (HH:mm with :00).\n  const [depDate, setDepDate] = useState<Date>(initialDepartureTime ?? moment().startOf('hour').toDate());\n\n  const initialFromValue = initialFrom ?? from;\n  const [toCity, setToCity] = useState<TownOption | null>(\n    towns.find(t => t.value === (initialTo ?? 'Douala')) || null\n  );\n  const [selectedOption, setSelectedOption] = useState<TownOption | null>(\n    towns.find(t => t.value === (initialFromValue ?? 'Yaounde')) || null\n  );\n  const [language, setLanguage] = useState<string>('eng');\n\n  const {\n    getValues,\n    handleSubmit,\n  } = useForm<SearchFormData>();\n\n  const { actions } = useStateMachine({ updateSearch });\n\n  useEffect(() => {\n    if (typeof window !== 'undefined') {\n      const key = localStorage.getItem('i18nextLng');\n      setLanguage(key || 'eng');\n    }\n  }, []);\n\n  const formData: SearchState = {\n    from: selectedOption?.value,\n    to: toCity?.value,\n    journeyDate: moment(startDate).format('YYYY-MM-DD'),\n    departureTime: moment(depDate).format('HH:mm'),\n  };\n\n  const searchTrip = async (): Promise<void> => {\n    actions.updateSearch(formData);\n    if (!formData.from || !formData.to || !formData.journeyDate || !formData.departureTime) {\n      toast.error('All fields are required');\n      return;\n    }\n    router.push(\"/trip-search\");\n  };\n\n  const searchAnotherTrip = async (): Promise<void> => {\n    actions.updateSearch(formData);\n    const fromValue = getValues(\"from\");\n    const toValue = getValues(\"to\");\n    const dateValue = getValues(\"journeyDate\");\n    \n    try {\n      const { data } = await axios.get<{ error: boolean; message: string; data?: Trip[] }>(`api/v1/trips/trip-search`, {\n        params: { from: fromValue, to: toValue, journeyDate: dateValue }\n      });\n      if (data?.error) {\n        toast.error(data.message);\n      } else if (data.data && setData) {\n        setData(data.data);\n      }\n    } catch (err: unknown) {\n      if (axios.isAxiosError(err)) {\n        toast.error(err.message || 'Search failed');\n      } else {\n        toast.error('An unexpected error occurred');\n      }\n    }\n  };\n\n  // Keep react-select styles minimal; the visual design is handled in CSS via classNamePrefix.\n  const customStyles: StylesConfig<TownOption, false> = {\n    option: (defaultStyles) => ({ ...(defaultStyles as any) }),\n    control: (defaultStyles) => ({ ...(defaultStyles as any) }),\n    singleValue: (defaultStyles) => ({ ...(defaultStyles as any) }),\n  };\n\n  return (\n    <form\n      className=\"ta-search-form\"\n      onSubmit={text === 'book' ? handleSubmit(searchTrip) : handleSubmit(searchAnotherTrip)}\n    >\n      <div className=\"ta-search-form__header\">\n        <div className=\"ta-search-form__title\">{t('search') || 'Search'}</div>\n        <div className=\"ta-search-form__hint\">{t('find_trip_hint') || 'Pick your route, date, and time.'}</div>\n      </div>\n\n      <div className=\"ta-search-form__grid\">\n        <div className=\"ta-field\">\n          <label className=\"ta-field__label\">{t('from')}</label>\n          <div className=\"ta-field__control\">\n            <span className=\"ta-field__icon\" aria-hidden=\"true\"><MapPin size={16} /></span>\n            <Select<TownOption, false>\n              className=\"ta-select\"\n              classNamePrefix=\"ta-select\"\n              options={towns}\n              onChange={(option) => setSelectedOption(option)}\n              placeholder={selectedOption?.label}\n              styles={customStyles}\n              isSearchable\n              defaultValue={initialFromValue ? towns.find(t => t.value === initialFromValue) : selectedOption}\n              value={selectedOption}\n            />\n          </div>\n        </div>\n\n        <div className=\"ta-field\">\n          <label className=\"ta-field__label\">{t('to')}</label>\n          <div className=\"ta-field__control\">\n            <span className=\"ta-field__icon\" aria-hidden=\"true\"><MapPin size={16} /></span>\n            <Select<TownOption, false>\n              className=\"ta-select\"\n              classNamePrefix=\"ta-select\"\n              options={towns}\n              onChange={(option) => setToCity(option)}\n              placeholder={toCity?.label}\n              styles={customStyles}\n              isSearchable\n              defaultValue={toCity}\n              value={toCity}\n            />\n          </div>\n        </div>\n\n        <div className=\"ta-field\">\n          <label className=\"ta-field__label\">{t('journey_date')}</label>\n          <div className=\"ta-field__control\">\n            <span className=\"ta-field__icon\" aria-hidden=\"true\"><CalendarDays size={16} /></span>\n            <DatePicker\n              selected={startDate}\n              onChange={(date: Date | null) => date && setStartDate(date)}\n              minDate={moment().toDate()}\n              locale={language === 'fr' ? fr : en}\n              placeholderText={moment(startDate).format('MM-DD-YYYY')}\n              className=\"form-control ta-input\"\n            />\n          </div>\n        </div>\n\n        <div className=\"ta-field\">\n          <label className=\"ta-field__label\">{t('time')}</label>\n          <div className=\"ta-field__control\">\n            <span className=\"ta-field__icon\" aria-hidden=\"true\"><Clock size={16} /></span>\n            <DatePicker\n              selected={depDate}\n              onChange={(date: Date | null) => date && setDepDate(date)}\n              minDate={moment().toDate()}\n              placeholderText={moment(depDate).format('HH:mm')}\n              showTimeSelect\n              showTimeSelectOnly\n              timeIntervals={60}\n              timeCaption=\"Time\"\n              locale={ptBR}\n              dateFormat=\"p\"\n              timeFormat=\"p\"\n              className=\"form-control ta-input\"\n            />\n          </div>\n        </div>\n      </div>\n\n      <div className=\"ta-search-form__actions\">\n        <Button type=\"submit\" color=\"primary\" className=\"w-100 ta-search-btn\">\n          <SearchIcon size={18} />\n          <span>{text === 'book' ? (t('search') || 'Search') : (t('modify_search') || 'Modify search')}</span>\n        </Button>\n      </div>\n    </form>\n  );\n};\n\nexport default Search;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1416, "column": 0}, "map": {"version":3,"sources":["file:///Users/remyngwanyam/Desktop/transapp/transapp-user-master/src/components/Common/PopularRoutes.tsx"],"sourcesContent":["/* eslint-disable react/no-unescaped-entities */\n'use client'\n\nimport { useMemo } from 'react';\nimport { useRouter } from 'next/navigation';\nimport moment from 'moment';\nimport { useTranslation } from 'react-i18next';\nimport { useStateMachine } from 'little-state-machine';\nimport { updateSearch, type SearchState } from '../../utils/updateActions';\n\nexport type PopularRoute = {\n  from: string;\n  to: string;\n  label?: string;\n};\n\nconst DEFAULT_ROUTES: PopularRoute[] = [\n  { from: 'Yaounde', to: 'Douala' },\n  { from: 'Douala', to: 'Yaounde' },\n  { from: 'Bafoussam', to: 'Douala' },\n  { from: 'Douala', to: 'Bafoussam' },\n  { from: 'Buea', to: 'Douala' },\n  { from: 'Douala', to: 'Buea' },\n  { from: 'Bamenda', to: 'Douala' },\n  { from: 'Douala', to: 'Bamenda' },\n];\n\nexport default function PopularRoutes({\n  routes,\n  title,\n  onSelect,\n}: {\n  routes?: PopularRoute[];\n  title?: string;\n  onSelect?: (route: PopularRoute) => void;\n}) {\n  const { t } = useTranslation();\n  const router = useRouter();\n  const { actions } = useStateMachine({ updateSearch });\n\n  const items = useMemo(() => routes ?? DEFAULT_ROUTES, [routes]);\n\n  const handleSelect = (route: PopularRoute) => {\n    const payload: SearchState = {\n      from: route.from,\n      to: route.to,\n      journeyDate: moment().format('YYYY-MM-DD'),\n      // default to next whole hour (gives a better chance of results vs \"now\")\n      departureTime: moment().add(1, 'hour').startOf('hour').format('HH:mm'),\n    };\n    actions.updateSearch(payload);\n    onSelect?.(route);\n    router.push('/trip-search');\n  };\n\n  return (\n    <div className=\"ta-popular-routes\">\n      <div className=\"ta-popular-routes__header\">\n        <h6 className=\"ta-popular-routes__title\">\n          {title || t('popular_routes') || 'Popular routes'}\n        </h6>\n      </div>\n      <div className=\"ta-popular-routes__chips\" role=\"list\">\n        {items.map((r) => (\n          <button\n            key={`${r.from}-${r.to}`}\n            type=\"button\"\n            className=\"ta-chip\"\n            onClick={() => handleSelect(r)}\n            role=\"listitem\"\n          >\n            {r.label || `${r.from} → ${r.to}`}\n          </button>\n        ))}\n      </div>\n    </div>\n  );\n}\n\n\n"],"names":[],"mappings":"AAAA,8CAA8C;;;;;AAG9C;AACA;AACA;AACA;AAAA;AACA;AACA;AAPA;;;;;;;;AAeA,MAAM,iBAAiC;IACrC;QAAE,MAAM;QAAW,IAAI;IAAS;IAChC;QAAE,MAAM;QAAU,IAAI;IAAU;IAChC;QAAE,MAAM;QAAa,IAAI;IAAS;IAClC;QAAE,MAAM;QAAU,IAAI;IAAY;IAClC;QAAE,MAAM;QAAQ,IAAI;IAAS;IAC7B;QAAE,MAAM;QAAU,IAAI;IAAO;IAC7B;QAAE,MAAM;QAAW,IAAI;IAAS;IAChC;QAAE,MAAM;QAAU,IAAI;IAAU;CACjC;AAEc,SAAS,cAAc,EACpC,MAAM,EACN,KAAK,EACL,QAAQ,EAKT;IACC,MAAM,EAAE,CAAC,EAAE,GAAG,IAAA,kLAAc;IAC5B,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,EAAE,OAAO,EAAE,GAAG,IAAA,qJAAe,EAAC;QAAE,cAAA,6IAAY;IAAC;IAEnD,MAAM,QAAQ,IAAA,gNAAO,EAAC,IAAM,UAAU,gBAAgB;QAAC;KAAO;IAE9D,MAAM,eAAe,CAAC;QACpB,MAAM,UAAuB;YAC3B,MAAM,MAAM,IAAI;YAChB,IAAI,MAAM,EAAE;YACZ,aAAa,IAAA,2IAAM,IAAG,MAAM,CAAC;YAC7B,yEAAyE;YACzE,eAAe,IAAA,2IAAM,IAAG,GAAG,CAAC,GAAG,QAAQ,OAAO,CAAC,QAAQ,MAAM,CAAC;QAChE;QACA,QAAQ,YAAY,CAAC;QACrB,WAAW;QACX,OAAO,IAAI,CAAC;IACd;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAG,WAAU;8BACX,SAAS,EAAE,qBAAqB;;;;;;;;;;;0BAGrC,8OAAC;gBAAI,WAAU;gBAA2B,MAAK;0BAC5C,MAAM,GAAG,CAAC,CAAC,kBACV,8OAAC;wBAEC,MAAK;wBACL,WAAU;wBACV,SAAS,IAAM,aAAa;wBAC5B,MAAK;kCAEJ,EAAE,KAAK,IAAI,GAAG,EAAE,IAAI,CAAC,GAAG,EAAE,EAAE,EAAE,EAAE;uBAN5B,GAAG,EAAE,IAAI,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE;;;;;;;;;;;;;;;;AAYpC"}},
    {"offset": {"line": 1539, "column": 0}, "map": {"version":3,"sources":["file:///Users/remyngwanyam/Desktop/transapp/transapp-user-master/src/utils/tripFilters.ts"],"sourcesContent":["import moment from 'moment';\nimport type { Trip } from '../interfaces/trips.interface';\n\nexport type TripSort =\n  | 'recommended'\n  | 'price_low'\n  | 'price_high'\n  | 'departure_early'\n  | 'departure_late'\n  | 'seats_high';\n\nexport type TripFilters = {\n  agency: string; // '' = all\n  type: string; // '' = all\n  maxPrice: number | null;\n  minSeats: number | null;\n  timeStart: string; // \"HH:mm\" or ''\n  timeEnd: string; // \"HH:mm\" or ''\n  sort: TripSort;\n};\n\nexport const DEFAULT_TRIP_FILTERS: TripFilters = {\n  agency: '',\n  type: '',\n  maxPrice: null,\n  minSeats: null,\n  timeStart: '',\n  timeEnd: '',\n  sort: 'recommended',\n};\n\nexport function parsePrice(value: unknown): number | null {\n  if (value == null) return null;\n  if (typeof value === 'number' && Number.isFinite(value)) return value;\n  const s = String(value);\n  const digits = s.replace(/[^\\d]/g, '');\n  if (!digits) return null;\n  const n = Number(digits);\n  return Number.isFinite(n) ? n : null;\n}\n\nexport function availableSeats(trip: Trip): number {\n  const seats = Number(trip.seats ?? 0);\n  const reserved = Number(trip.reserved ?? 0);\n  return Math.max(0, seats - reserved);\n}\n\nexport function departureMinutes(trip: Trip): number | null {\n  const raw = (trip.departure ?? '') as unknown;\n  const s = String(raw || '').trim();\n  if (!s) return null;\n\n  const m = moment(s, ['HH:mm', 'HH:mm a', 'hh:mm A', 'H:mm', 'h:mm A'], true);\n  if (!m.isValid()) return null;\n  return m.hours() * 60 + m.minutes();\n}\n\nfunction withinTimeWindow(trip: Trip, start: string, end: string): boolean {\n  if (!start && !end) return true;\n  const mins = departureMinutes(trip);\n  if (mins == null) return true;\n\n  const startM = start ? moment(start, 'HH:mm', true) : null;\n  const endM = end ? moment(end, 'HH:mm', true) : null;\n  const startMin = startM?.isValid() ? startM.hours() * 60 + startM.minutes() : null;\n  const endMin = endM?.isValid() ? endM.hours() * 60 + endM.minutes() : null;\n\n  if (startMin != null && mins < startMin) return false;\n  if (endMin != null && mins > endMin) return false;\n  return true;\n}\n\nexport function applyTripFilters(trips: Trip[], filters: TripFilters): Trip[] {\n  return trips.filter((trip) => {\n    if (filters.agency && String(trip.agency_name || '') !== filters.agency) return false;\n    if (filters.type && String(trip.trip_type || '') !== filters.type) return false;\n\n    if (filters.maxPrice != null) {\n      const p = parsePrice(trip.price);\n      if (p != null && p > filters.maxPrice) return false;\n    }\n\n    if (filters.minSeats != null) {\n      if (availableSeats(trip) < filters.minSeats) return false;\n    }\n\n    if (!withinTimeWindow(trip, filters.timeStart, filters.timeEnd)) return false;\n\n    return true;\n  });\n}\n\nexport function sortTrips(trips: Trip[], sort: TripSort): Trip[] {\n  const arr = [...trips];\n  switch (sort) {\n    case 'price_low':\n      return arr.sort((a, b) => (parsePrice(a.price) ?? Number.MAX_SAFE_INTEGER) - (parsePrice(b.price) ?? Number.MAX_SAFE_INTEGER));\n    case 'price_high':\n      return arr.sort((a, b) => (parsePrice(b.price) ?? 0) - (parsePrice(a.price) ?? 0));\n    case 'departure_early':\n      return arr.sort((a, b) => (departureMinutes(a) ?? 0) - (departureMinutes(b) ?? 0));\n    case 'departure_late':\n      return arr.sort((a, b) => (departureMinutes(b) ?? 0) - (departureMinutes(a) ?? 0));\n    case 'seats_high':\n      return arr.sort((a, b) => availableSeats(b) - availableSeats(a));\n    case 'recommended':\n    default:\n      return arr;\n  }\n}\n\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1643, "column": 0}, "map": {"version":3,"sources":["file:///Users/remyngwanyam/Desktop/transapp/transapp-user-master/src/components/Trips/TripFiltersBar.tsx"],"sourcesContent":["'use client'\n\nimport { useMemo } from 'react';\nimport type { Trip } from '../../interfaces/trips.interface';\nimport { DEFAULT_TRIP_FILTERS, type TripFilters, type TripSort, parsePrice } from '../../utils/tripFilters';\n\nfunction uniq(values: string[]): string[] {\n  return Array.from(new Set(values.filter(Boolean))).sort((a, b) => a.localeCompare(b));\n}\n\nexport default function TripFiltersBar({\n  trips,\n  filters,\n  onChange,\n}: {\n  trips: Trip[];\n  filters: TripFilters;\n  onChange: (next: TripFilters) => void;\n}) {\n  const agencies = useMemo(() => uniq(trips.map((t) => String(t.agency_name || ''))), [trips]);\n  const types = useMemo(() => uniq(trips.map((t) => String(t.trip_type || ''))), [trips]);\n\n  const maxPriceHint = useMemo(() => {\n    const prices = trips.map((t) => parsePrice(t.price)).filter((n): n is number => typeof n === 'number');\n    if (!prices.length) return null;\n    return Math.max(...prices);\n  }, [trips]);\n\n  const set = (patch: Partial<TripFilters>) => onChange({ ...filters, ...patch });\n\n  const reset = () => onChange({ ...DEFAULT_TRIP_FILTERS });\n\n  return (\n    <div className=\"ta-filterbar\">\n      <div className=\"ta-filterbar__row\">\n        <div className=\"ta-filterbar__group\">\n          <label className=\"ta-filterbar__label\">Sort</label>\n          <select\n            className=\"form-select ta-filterbar__control\"\n            value={filters.sort}\n            onChange={(e) => set({ sort: e.target.value as TripSort })}\n          >\n            <option value=\"recommended\">Recommended</option>\n            <option value=\"price_low\">Price: low → high</option>\n            <option value=\"price_high\">Price: high → low</option>\n            <option value=\"departure_early\">Departure: earliest</option>\n            <option value=\"departure_late\">Departure: latest</option>\n            <option value=\"seats_high\">Seats: most available</option>\n          </select>\n        </div>\n\n        <div className=\"ta-filterbar__group\">\n          <label className=\"ta-filterbar__label\">Agency</label>\n          <select\n            className=\"form-select ta-filterbar__control\"\n            value={filters.agency}\n            onChange={(e) => set({ agency: e.target.value })}\n          >\n            <option value=\"\">All</option>\n            {agencies.map((a) => (\n              <option key={a} value={a}>\n                {a}\n              </option>\n            ))}\n          </select>\n        </div>\n\n        <div className=\"ta-filterbar__group\">\n          <label className=\"ta-filterbar__label\">Type</label>\n          <select\n            className=\"form-select ta-filterbar__control\"\n            value={filters.type}\n            onChange={(e) => set({ type: e.target.value })}\n          >\n            <option value=\"\">All</option>\n            {types.map((t) => (\n              <option key={t} value={t}>\n                {t}\n              </option>\n            ))}\n          </select>\n        </div>\n\n        <div className=\"ta-filterbar__group\">\n          <label className=\"ta-filterbar__label\">Max price (XAF)</label>\n          <input\n            className=\"form-control ta-filterbar__control\"\n            inputMode=\"numeric\"\n            placeholder={maxPriceHint ? `e.g. ${maxPriceHint}` : 'e.g. 5000'}\n            value={filters.maxPrice ?? ''}\n            onChange={(e) => set({ maxPrice: e.target.value ? Number(e.target.value) : null })}\n          />\n        </div>\n\n        <div className=\"ta-filterbar__group\">\n          <label className=\"ta-filterbar__label\">Min seats</label>\n          <input\n            className=\"form-control ta-filterbar__control\"\n            inputMode=\"numeric\"\n            placeholder=\"e.g. 2\"\n            value={filters.minSeats ?? ''}\n            onChange={(e) => set({ minSeats: e.target.value ? Number(e.target.value) : null })}\n          />\n        </div>\n\n        <div className=\"ta-filterbar__group\">\n          <label className=\"ta-filterbar__label\">Time</label>\n          <div className=\"ta-filterbar__time\">\n            <input\n              type=\"time\"\n              className=\"form-control ta-filterbar__control\"\n              value={filters.timeStart}\n              onChange={(e) => set({ timeStart: e.target.value })}\n            />\n            <span className=\"ta-filterbar__time-sep\">–</span>\n            <input\n              type=\"time\"\n              className=\"form-control ta-filterbar__control\"\n              value={filters.timeEnd}\n              onChange={(e) => set({ timeEnd: e.target.value })}\n            />\n          </div>\n        </div>\n\n        <div className=\"ta-filterbar__actions\">\n          <button type=\"button\" className=\"btn ta-btn-outline\" onClick={reset}>\n            Reset\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2004, "column": 0}, "map": {"version":3,"sources":["file:///Users/remyngwanyam/Desktop/transapp/transapp-user-master/src/components/Trips/TripFiltersResponsive.tsx"],"sourcesContent":["'use client'\n\nimport { useMemo, useState } from 'react';\nimport { Button, Modal, ModalBody, ModalFooter, ModalHeader } from 'reactstrap';\nimport type { Trip } from '../../interfaces/trips.interface';\nimport type { TripFilters } from '../../utils/tripFilters';\nimport TripFiltersBar from './TripFiltersBar';\n\nfunction activeFiltersCount(filters: TripFilters): number {\n  let n = 0;\n  if (filters.agency) n += 1;\n  if (filters.type) n += 1;\n  if (filters.maxPrice != null) n += 1;\n  if (filters.minSeats != null) n += 1;\n  if (filters.timeStart) n += 1;\n  if (filters.timeEnd) n += 1;\n  return n;\n}\n\nexport default function TripFiltersResponsive({\n  trips,\n  filters,\n  onChange,\n}: {\n  trips: Trip[];\n  filters: TripFilters;\n  onChange: (next: TripFilters) => void;\n}) {\n  const [open, setOpen] = useState(false);\n  const count = useMemo(() => activeFiltersCount(filters), [filters]);\n\n  return (\n    <>\n      {/* Desktop: sticky filter bar */}\n      <div className=\"d-none d-lg-block\">\n        <TripFiltersBar trips={trips} filters={filters} onChange={onChange} />\n      </div>\n\n      {/* Mobile: button + bottom sheet */}\n      <div className=\"d-lg-none ta-filterbar-mobile\">\n        <Button\n          type=\"button\"\n          className=\"ta-btn-outline\"\n          onClick={() => setOpen(true)}\n        >\n          Filters{count ? ` (${count})` : ''}\n        </Button>\n      </div>\n\n      <Modal\n        isOpen={open}\n        toggle={() => setOpen(false)}\n        centered\n        className=\"ta-sheet\"\n        contentClassName=\"ta-sheet__content\"\n      >\n        <ModalHeader toggle={() => setOpen(false)}>Filters</ModalHeader>\n        <ModalBody>\n          <TripFiltersBar trips={trips} filters={filters} onChange={onChange} />\n        </ModalBody>\n        <ModalFooter className=\"ta-sheet__footer\">\n          <Button type=\"button\" className=\"ta-btn-outline\" onClick={() => setOpen(false)}>\n            Close\n          </Button>\n          <Button type=\"button\" className=\"ta-btn-primary\" onClick={() => setOpen(false)}>\n            Apply\n          </Button>\n        </ModalFooter>\n      </Modal>\n    </>\n  );\n}\n\n\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAGA;AANA;;;;;AAQA,SAAS,mBAAmB,OAAoB;IAC9C,IAAI,IAAI;IACR,IAAI,QAAQ,MAAM,EAAE,KAAK;IACzB,IAAI,QAAQ,IAAI,EAAE,KAAK;IACvB,IAAI,QAAQ,QAAQ,IAAI,MAAM,KAAK;IACnC,IAAI,QAAQ,QAAQ,IAAI,MAAM,KAAK;IACnC,IAAI,QAAQ,SAAS,EAAE,KAAK;IAC5B,IAAI,QAAQ,OAAO,EAAE,KAAK;IAC1B,OAAO;AACT;AAEe,SAAS,sBAAsB,EAC5C,KAAK,EACL,OAAO,EACP,QAAQ,EAKT;IACC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC;IACjC,MAAM,QAAQ,IAAA,gNAAO,EAAC,IAAM,mBAAmB,UAAU;QAAC;KAAQ;IAElE,qBACE;;0BAEE,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC,wJAAc;oBAAC,OAAO;oBAAO,SAAS;oBAAS,UAAU;;;;;;;;;;;0BAI5D,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC,0LAAM;oBACL,MAAK;oBACL,WAAU;oBACV,SAAS,IAAM,QAAQ;;wBACxB;wBACS,QAAQ,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC,GAAG;;;;;;;;;;;;0BAIpC,8OAAC,uLAAK;gBACJ,QAAQ;gBACR,QAAQ,IAAM,QAAQ;gBACtB,QAAQ;gBACR,WAAU;gBACV,kBAAiB;;kCAEjB,8OAAC,yMAAW;wBAAC,QAAQ,IAAM,QAAQ;kCAAQ;;;;;;kCAC3C,8OAAC,mMAAS;kCACR,cAAA,8OAAC,wJAAc;4BAAC,OAAO;4BAAO,SAAS;4BAAS,UAAU;;;;;;;;;;;kCAE5D,8OAAC,yMAAW;wBAAC,WAAU;;0CACrB,8OAAC,0LAAM;gCAAC,MAAK;gCAAS,WAAU;gCAAiB,SAAS,IAAM,QAAQ;0CAAQ;;;;;;0CAGhF,8OAAC,0LAAM;gCAAC,MAAK;gCAAS,WAAU;gCAAiB,SAAS,IAAM,QAAQ;0CAAQ;;;;;;;;;;;;;;;;;;;;AAO1F"}},
    {"offset": {"line": 2146, "column": 0}, "map": {"version":3,"sources":["file:///Users/remyngwanyam/Desktop/transapp/transapp-user-master/src/pages/Users/TripSearch.tsx"],"sourcesContent":["'use client'\n\nimport React, { useEffect, useState, useRef, useCallback } from 'react';\nimport { useStateMachine } from \"little-state-machine\";\nimport { updateSearch, updateAction, SearchState } from \"../../utils/updateActions\";\nimport { Card, Row, Col, CardBody, Container, Button, Modal, ModalHeader, ModalBody, ModalFooter } from \"reactstrap\";\nimport moment from \"moment\";\nimport axios from 'axios';\nimport { SpinnerCircular } from 'spinners-react';\nimport Image from 'next/image';\nimport logo from \"../../assets/images/client-2.png\";\nimport { useTranslation } from 'react-i18next';\nimport { toast } from 'react-hot-toast';\nimport UserBookingModal from '../../components/Modals/UserBookingModal';\nimport type { Trip } from '../../interfaces/trips.interface';\nimport Link from 'next/link';\nimport Search from '../../components/Common/Search';\nimport PopularRoutes from '../../components/Common/PopularRoutes';\nimport TripFiltersResponsive from '../../components/Trips/TripFiltersResponsive';\nimport { DEFAULT_TRIP_FILTERS, applyTripFilters, sortTrips, availableSeats } from '../../utils/tripFilters';\n\nconst TripSearch: React.FC = () => {\n  const { t } = useTranslation();\n  const [isVisible, setIsVisible] = useState<boolean>(false);\n  const [success, setSuccess] = useState<boolean>(false);\n  const [ticket, setTicket] = useState<string>('');\n  const [seat, setSeat] = useState<string | null>(null);\n  const { actions, state } = useStateMachine({ updateSearch, updateAction });\n\n  const [data, setData] = useState<Trip[]>([]);\n  const [loading, setLoading] = useState<boolean>(true);\n  const [errorMessage, setErrorMessage] = useState<string | null>(null);\n  const [filters, setFilters] = useState(DEFAULT_TRIP_FILTERS);\n  const tripRef = useRef<Trip | null>(null);\n  const [modal, setModal] = useState<{ modal_static: boolean }>({ modal_static: false });\n  const [modalSuccess, setModalSuccess] = useState<{ modal_static: boolean }>({ modal_static: false });\n  const [modalFailure, setModalFailure] = useState<{ modal_static: boolean }>({ modal_static: false });\n\n  const searchState = (state?.search as any) as SearchState;\n  // Backend stores `journey_date` as `YYYY-MM-DD` (see `public.trips.journey_date`), so query params\n  // must match that format or searches return 0 results.\n  const journeyDate =\n    typeof searchState?.journeyDate === 'string'\n      ? searchState.journeyDate\n      : searchState?.journeyDate\n        ? moment(searchState.journeyDate).format('YYYY-MM-DD')\n        : '';\n  const from = typeof searchState?.from === 'string' ? searchState.from : (searchState?.from as any)?.value || '';\n  const to = typeof searchState?.to === 'string' ? searchState.to : (searchState?.to as any)?.value || '';\n  // Backend stores `departure` as `HH:mm` (24h, no AM/PM)\n  const departureTime =\n    typeof searchState?.departureTime === 'string'\n      ? searchState.departureTime\n      : searchState?.departureTime\n        ? moment(searchState.departureTime).format('HH:mm')\n        : '';\n\n  const initialJourneyDate = searchState?.journeyDate ? moment(searchState.journeyDate).toDate() : undefined;\n  const initialDepartureTime = searchState?.departureTime\n    ? moment(searchState.departureTime, ['HH:mm', 'hh:mm A']).toDate()\n    : undefined;\n\n  function hideFailureModal(): void {\n    setIsVisible(false);\n    setModalFailure({ modal_static: false });\n  }\n\n  const showModal = (): void => {\n    setModal({ modal_static: true });\n  };\n\n  const hideSuccessModal = (): void => {\n    setSuccess(false);\n    setModalSuccess({ modal_static: false });\n    setTicket('');\n    setSeat(null);\n  };\n\n  const getCurrentTrip = (trip: Trip): void => {\n    tripRef.current = trip;\n    actions.updateAction({ trip: tripRef.current });\n    showModal();\n  };\n\n  const fetchTrips = useCallback(async (): Promise<void> => {\n    try {\n      setErrorMessage(null);\n      setLoading(true);\n      const { data } = await axios.get<{ error: boolean; message: string; data?: Trip[] }>(`api/v1/trips/trip-search`, {\n        params: { from, to, journeyDate, departureTime }\n      });\n      if (data?.error) {\n        setErrorMessage(data.message || 'Failed to fetch trips');\n        toast.error(data.message);\n      } else {\n        const trips = data.data ?? [];\n        setData(trips);\n      }\n    } catch (err: unknown) {\n      if (axios.isAxiosError(err)) {\n        const msg = err.response?.data?.message || err.message || 'Failed to fetch trips';\n        setErrorMessage(msg);\n        toast.error(msg);\n      } else {\n        setErrorMessage('An unexpected error occurred');\n        toast.error('An unexpected error occurred');\n      }\n    } finally {\n      setLoading(false);\n    }\n  }, [from, to, journeyDate, departureTime]);\n\n  useEffect(() => {\n    if (typeof document !== 'undefined') {\n      document.body.setAttribute('style', 'background: #f1f5f7!important;');\n    }\n    fetchTrips();\n  }, [fetchTrips]);\n\n  const filterNoSeatsAvailable = data.filter((trip: Trip) => {\n    return trip.reserved !== trip.seats;\n  });\n\n  const filteredTrips = sortTrips(applyTripFilters(filterNoSeatsAvailable, filters), filters.sort);\n  const hasResults = filterNoSeatsAvailable.length > 0;\n  const hasFilteredResults = filteredTrips.length > 0;\n\n  if (loading) {\n    return (\n      <React.Fragment>\n        <div className=\"page-content\">\n          <Container fluid className=\"\">\n            <div className=\"loader-outer\">\n              <div className=\"loader-inner\">\n                <SpinnerCircular color=\"#bcc014\" size={50} />\n              </div>\n            </div>\n          </Container>\n        </div>\n      </React.Fragment>\n    );\n  }\n\n  return (\n    <>\n      <section className=\"trip-search mb-5\">\n        <div className=\"container\">\n          {!loading && (errorMessage || !hasResults) && (\n            <div className=\"row pt-5 mb-4\">\n              <div className=\"col-lg-12\">\n                <Card>\n                  <CardBody>\n                    {errorMessage ? (\n                      <>\n                        <h4 className=\"mb-2\">{t('Failed')} / {t('error') || 'Error'}</h4>\n                        <p className=\"mb-3\">\n                          {errorMessage}\n                        </p>\n                      </>\n                    ) : (\n                      <>\n                        <h4 className=\"mb-2\">{t('no_bus') || 'No buses found'}</h4>\n                        <p className=\"mb-3\">\n                          {t('no_bus') || 'No buses were found for your search.'} {from && to ? (\n                            <>({from} → {to})</>\n                          ) : null}\n                        </p>\n                      </>\n                    )}\n                    <div className=\"d-flex gap-2 flex-wrap\">\n                      <Button color=\"primary\" onClick={() => fetchTrips()}>\n                        {t('retry') || 'Retry'}\n                      </Button>\n                    </div>\n\n                    <div className=\"mt-4\">\n                      <h6 className=\"mb-3\">{t('modify_search') || 'Modify search'}</h6>\n                      <Search\n                        text=\"book\"\n                        initialFrom={from || undefined}\n                        initialTo={to || undefined}\n                        initialJourneyDate={initialJourneyDate}\n                        initialDepartureTime={initialDepartureTime}\n                      />\n                      <div className=\"mt-4\">\n                        <PopularRoutes />\n                      </div>\n                      <div className=\"mt-3\">\n                        <Link href=\"/book\" className=\"btn btn-outline-secondary\">\n                          {t('back') || 'Back'}\n                        </Link>\n                      </div>\n                    </div>\n                  </CardBody>\n                </Card>\n              </div>\n            </div>\n          )}\n\n          <div className=\"row pt-5 mb-4\">\n            <div className=\"col-lg-12\">\n              {hasResults ? (\n                <h6>\n                  {hasFilteredResults ? filteredTrips.length : 0} {t('buses')} {t('from')} {from} {t('to')} {to}\n                </h6>\n              ) : (\n                <h6>{filterNoSeatsAvailable.length} {t('no_bus')} {t('from')} {from} {t('to')} {to}</h6>\n              )}\n            </div>\n          </div>\n\n          {hasResults && (\n            <TripFiltersResponsive trips={filterNoSeatsAvailable} filters={filters} onChange={setFilters} />\n          )}\n\n          <div className=\"row\">\n            <div className=\"col-lg-12\">\n              {!hasFilteredResults && hasResults ? (\n                <Card>\n                  <CardBody>\n                    <h5 className=\"mb-2\">No trips match your filters</h5>\n                    <p className=\"mb-0 text-muted\">Try widening your price/time window or resetting filters.</p>\n                  </CardBody>\n                </Card>\n              ) : null}\n\n              {filteredTrips.map((trip: Trip) => (\n                <Card key={trip.id} className=\"ta-trip-card\">\n                  <CardBody className=\"ta-trip-card__body\">\n                    <div className=\"ta-trip-card__left\">\n                      <div className=\"ta-trip-card__logo\">\n                        {trip.agency_logo ? (\n                          <Image src={trip.agency_logo} alt=\"agency logo\" width={44} height={44} />\n                        ) : (\n                          <Image src={logo} alt=\"logo\" width={44} height={44} />\n                        )}\n                      </div>\n                      <div className=\"ta-trip-card__meta\">\n                        <div className=\"ta-trip-card__top\">\n                          <div className=\"ta-trip-card__agency\">{trip.agency_name}</div>\n                          <span className=\"badge rounded-pill text-bg-light\">\n                            {trip.trip_type || 'Standard'}\n                          </span>\n                        </div>\n                        <div className=\"ta-trip-card__route\">\n                          <strong>{trip.from_location}</strong> <span className=\"text-muted\">→</span>{' '}\n                          <strong>{trip.to_location}</strong>\n                        </div>\n                        <div className=\"ta-trip-card__sub\">\n                          <span>{t('departure')}: {String(trip.departure || '')}</span>\n                          <span className=\"ta-dot\">•</span>\n                          <span>{t('available_seats')}: {availableSeats(trip)}</span>\n                        </div>\n                      </div>\n                    </div>\n\n                    <div className=\"ta-trip-card__right\">\n                      <div className=\"ta-trip-card__price\">\n                        <div className=\"ta-trip-card__price-label\">{t('price')}</div>\n                        <div className=\"ta-trip-card__price-value\">{trip.price} XAF</div>\n                      </div>\n                      {trip.reserved !== trip.seats ? (\n                        <Button\n                          color=\"primary\"\n                          className=\"ta-btn-primary\"\n                          onClick={() => getCurrentTrip(trip)}\n                        >\n                          {t('get_ticket')}\n                        </Button>\n                      ) : (\n                        <Button disabled className=\"ta-btn-primary\">\n                          {t('sold_out') || 'Sold Out'}\n                        </Button>\n                      )}\n                    </div>\n                  </CardBody>\n                </Card>\n              ))}\n            </div>\n          </div>\n\n          <UserBookingModal\n            getModal={setModal}\n            modal={modal}\n            booking={tripRef.current || undefined}\n            buttonText={t(\"buy\")}\n          />\n          {success && (\n            <Modal isOpen={modalSuccess.modal_static} toggle={hideSuccessModal} centered size=\"sm\">\n              <ModalHeader toggle={hideSuccessModal}>{t('Success')}!</ModalHeader>\n              <ModalBody>\n                <Row>\n                  <Col lg={12}>\n                    <p className=\"text-center\">{t('ticket_num')} {ticket}</p>\n                    <p className=\"text-center\">{t('seat')}: {seat}</p>\n                  </Col>\n                </Row>\n              </ModalBody>\n              <ModalFooter>\n                <Button color=\"primary\" onClick={hideSuccessModal}>OK</Button>\n              </ModalFooter>\n            </Modal>\n          )}\n          {isVisible && (\n            <Modal isOpen={modalFailure.modal_static} toggle={hideFailureModal} centered size=\"sm\">\n              <ModalHeader toggle={hideFailureModal}>{t('Failed')}!</ModalHeader>\n              <ModalBody>\n                <Row>\n                  <Col lg={12}>\n                    <p className=\"text-center\">{t('failed_booking')}</p>\n                  </Col>\n                </Row>\n              </ModalBody>\n              <ModalFooter>\n                <Button color=\"primary\" onClick={hideFailureModal}>OK</Button>\n              </ModalFooter>\n            </Modal>\n          )}\n        </div>\n      </section>\n    </>\n  );\n};\n\nexport default TripSearch;\n"],"names":[],"mappings":"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"}}]
}