{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@supabase/realtime-js/dist/module/lib/websocket-factory.js","sources":["file:///Users/remyngwanyam/Desktop/transapp/transapp-user-master/node_modules/%40supabase/realtime-js/src/lib/websocket-factory.ts"],"sourcesContent":["export interface WebSocketLike {\n  readonly CONNECTING: number\n  readonly OPEN: number\n  readonly CLOSING: number\n  readonly CLOSED: number\n  readonly readyState: number\n  readonly url: string\n  readonly protocol: string\n\n  /**\n   * Closes the socket, optionally providing a close code and reason.\n   */\n  close(code?: number, reason?: string): void\n  /**\n   * Sends data through the socket using the underlying implementation.\n   */\n  send(data: string | ArrayBufferLike | Blob | ArrayBufferView): void\n\n  onopen: ((this: any, ev: Event) => any) | null\n  onmessage: ((this: any, ev: MessageEvent) => any) | null\n  onclose: ((this: any, ev: CloseEvent) => any) | null\n  onerror: ((this: any, ev: Event) => any) | null\n\n  /**\n   * Registers an event listener on the socket (compatible with browser WebSocket API).\n   */\n  addEventListener(type: string, listener: EventListener): void\n  /**\n   * Removes a previously registered event listener.\n   */\n  removeEventListener(type: string, listener: EventListener): void\n\n  // Add additional properties that may exist on WebSocket implementations\n  binaryType?: string\n  bufferedAmount?: number\n  extensions?: string\n  dispatchEvent?: (event: Event) => boolean\n}\n\nexport interface WebSocketEnvironment {\n  type: 'native' | 'ws' | 'cloudflare' | 'unsupported'\n  constructor?: any\n  error?: string\n  workaround?: string\n}\n\n/**\n * Utilities for creating WebSocket instances across runtimes.\n */\nexport class WebSocketFactory {\n  /**\n   * Static-only utility â€“ prevent instantiation.\n   */\n  private constructor() {}\n  private static detectEnvironment(): WebSocketEnvironment {\n    if (typeof WebSocket !== 'undefined') {\n      return { type: 'native', constructor: WebSocket }\n    }\n\n    if (typeof globalThis !== 'undefined' && typeof (globalThis as any).WebSocket !== 'undefined') {\n      return { type: 'native', constructor: (globalThis as any).WebSocket }\n    }\n\n    if (typeof global !== 'undefined' && typeof (global as any).WebSocket !== 'undefined') {\n      return { type: 'native', constructor: (global as any).WebSocket }\n    }\n\n    if (\n      typeof globalThis !== 'undefined' &&\n      typeof (globalThis as any).WebSocketPair !== 'undefined' &&\n      typeof globalThis.WebSocket === 'undefined'\n    ) {\n      return {\n        type: 'cloudflare',\n        error:\n          'Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.',\n        workaround:\n          'Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime.',\n      }\n    }\n\n    if (\n      (typeof globalThis !== 'undefined' && (globalThis as any).EdgeRuntime) ||\n      (typeof navigator !== 'undefined' && navigator.userAgent?.includes('Vercel-Edge'))\n    ) {\n      return {\n        type: 'unsupported',\n        error:\n          'Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.',\n        workaround:\n          'Use serverless functions or a different deployment target for WebSocket functionality.',\n      }\n    }\n\n    if (typeof process !== 'undefined') {\n      // Use dynamic property access to avoid Next.js Edge Runtime static analysis warnings\n      const processVersions = (process as any)['versions']\n      if (processVersions && processVersions['node']) {\n        // Remove 'v' prefix if present and parse the major version\n        const versionString = processVersions['node']\n        const nodeVersion = parseInt(versionString.replace(/^v/, '').split('.')[0])\n\n        // Node.js 22+ should have native WebSocket\n        if (nodeVersion >= 22) {\n          // Check if native WebSocket is available (should be in Node.js 22+)\n          if (typeof globalThis.WebSocket !== 'undefined') {\n            return { type: 'native', constructor: globalThis.WebSocket }\n          }\n          // If not available, user needs to provide it\n          return {\n            type: 'unsupported',\n            error: `Node.js ${nodeVersion} detected but native WebSocket not found.`,\n            workaround: 'Provide a WebSocket implementation via the transport option.',\n          }\n        }\n\n        // Node.js < 22 doesn't have native WebSocket\n        return {\n          type: 'unsupported',\n          error: `Node.js ${nodeVersion} detected without native WebSocket support.`,\n          workaround:\n            'For Node.js < 22, install \"ws\" package and provide it via the transport option:\\n' +\n            'import ws from \"ws\"\\n' +\n            'new RealtimeClient(url, { transport: ws })',\n        }\n      }\n    }\n\n    return {\n      type: 'unsupported',\n      error: 'Unknown JavaScript runtime without WebSocket support.',\n      workaround:\n        \"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation.\",\n    }\n  }\n\n  /**\n   * Returns the best available WebSocket constructor for the current runtime.\n   *\n   * @example\n   * ```ts\n   * const WS = WebSocketFactory.getWebSocketConstructor()\n   * const socket = new WS('wss://realtime.supabase.co/socket')\n   * ```\n   */\n  public static getWebSocketConstructor(): typeof WebSocket {\n    const env = this.detectEnvironment()\n    if (env.constructor) {\n      return env.constructor\n    }\n    let errorMessage = env.error || 'WebSocket not supported in this environment.'\n    if (env.workaround) {\n      errorMessage += `\\n\\nSuggested solution: ${env.workaround}`\n    }\n    throw new Error(errorMessage)\n  }\n\n  /**\n   * Creates a WebSocket using the detected constructor.\n   *\n   * @example\n   * ```ts\n   * const socket = WebSocketFactory.createWebSocket('wss://realtime.supabase.co/socket')\n   * ```\n   */\n  public static createWebSocket(url: string | URL, protocols?: string | string[]): WebSocketLike {\n    const WS = this.getWebSocketConstructor()\n    return new WS(url, protocols)\n  }\n\n  /**\n   * Detects whether the runtime can establish WebSocket connections.\n   *\n   * @example\n   * ```ts\n   * if (!WebSocketFactory.isWebSocketSupported()) {\n   *   console.warn('Falling back to long polling')\n   * }\n   * ```\n   */\n  public static isWebSocketSupported(): boolean {\n    try {\n      const env = this.detectEnvironment()\n      return env.type === 'native' || env.type === 'ws'\n    } catch {\n      return false\n    }\n  }\n}\n\nexport default WebSocketFactory\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 162, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@supabase/realtime-js/dist/module/lib/version.js","sources":["file:///Users/remyngwanyam/Desktop/transapp/transapp-user-master/node_modules/%40supabase/realtime-js/src/lib/version.ts"],"sourcesContent":["// Generated automatically during releases by scripts/update-version-files.ts\n// This file provides runtime access to the package version for:\n// - HTTP request headers (e.g., X-Client-Info header for API requests)\n// - Debugging and support (identifying which version is running)\n// - Telemetry and logging (version reporting in errors/analytics)\n// - Ensuring build artifacts match the published package version\nexport const version = '2.87.1'\n"],"names":[],"mappings":"AAAA,6EAA6E;AAC7E,gEAAgE;AAChE,uEAAuE;AACvE,iEAAiE;AACjE,kEAAkE;AAClE,iEAAiE;;;;;AAC1D,IAAM,OAAO,GAAG,QAAQ,CAAA"}},
    {"offset": {"line": 177, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@supabase/realtime-js/dist/module/lib/constants.js","sources":["file:///Users/remyngwanyam/Desktop/transapp/transapp-user-master/node_modules/%40supabase/realtime-js/src/lib/constants.ts"],"sourcesContent":["import { version } from './version'\n\nexport const DEFAULT_VERSION = `realtime-js/${version}`\n\nexport const VSN_1_0_0: string = '1.0.0'\nexport const VSN_2_0_0: string = '2.0.0'\nexport const DEFAULT_VSN: string = VSN_1_0_0\n\nexport const VERSION = version\n\nexport const DEFAULT_TIMEOUT = 10000\n\nexport const WS_CLOSE_NORMAL = 1000\nexport const MAX_PUSH_BUFFER_SIZE = 100\n\nexport enum SOCKET_STATES {\n  connecting = 0,\n  open = 1,\n  closing = 2,\n  closed = 3,\n}\n\nexport enum CHANNEL_STATES {\n  closed = 'closed',\n  errored = 'errored',\n  joined = 'joined',\n  joining = 'joining',\n  leaving = 'leaving',\n}\n\nexport enum CHANNEL_EVENTS {\n  close = 'phx_close',\n  error = 'phx_error',\n  join = 'phx_join',\n  reply = 'phx_reply',\n  leave = 'phx_leave',\n  access_token = 'access_token',\n}\n\nexport enum TRANSPORTS {\n  websocket = 'websocket',\n}\n\nexport enum CONNECTION_STATE {\n  Connecting = 'connecting',\n  Open = 'open',\n  Closing = 'closing',\n  Closed = 'closed',\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAO,EAAE,OAAO,EAAE,MAAM,WAAW,CAAA;;AAE5B,IAAM,eAAe,GAAG,eAAsB,CAAE,CAAA,KAAT,8LAAO;AAE9C,IAAM,SAAS,GAAW,OAAO,CAAA;AACjC,IAAM,SAAS,GAAW,OAAO,CAAA;AACjC,IAAM,WAAW,GAAW,SAAS,CAAA;AAErC,IAAM,OAAO,GAAG,8LAAO,CAAA;AAEvB,IAAM,eAAe,GAAG,KAAK,CAAA;AAE7B,IAAM,eAAe,GAAG,IAAI,CAAA;AAC5B,IAAM,oBAAoB,GAAG,GAAG,CAAA;AAEvC,IAAY,aAKX;AALD,CAAA,SAAY,aAAa;IACvB,aAAA,CAAA,aAAA,CAAA,aAAA,GAAA,EAAA,GAAA,YAAc,CAAA;IACd,aAAA,CAAA,aAAA,CAAA,OAAA,GAAA,EAAA,GAAA,MAAQ,CAAA;IACR,aAAA,CAAA,aAAA,CAAA,UAAA,GAAA,EAAA,GAAA,SAAW,CAAA;IACX,aAAA,CAAA,aAAA,CAAA,SAAA,GAAA,EAAA,GAAA,QAAU,CAAA;AACZ,CAAC,EALW,aAAa,IAAA,CAAb,aAAa,GAAA,CAAA,CAAA,GAKxB;AAED,IAAY,cAMX;AAND,CAAA,SAAY,cAAc;IACxB,cAAA,CAAA,SAAA,GAAA,QAAiB,CAAA;IACjB,cAAA,CAAA,UAAA,GAAA,SAAmB,CAAA;IACnB,cAAA,CAAA,SAAA,GAAA,QAAiB,CAAA;IACjB,cAAA,CAAA,UAAA,GAAA,SAAmB,CAAA;IACnB,cAAA,CAAA,UAAA,GAAA,SAAmB,CAAA;AACrB,CAAC,EANW,cAAc,IAAA,CAAd,cAAc,GAAA,CAAA,CAAA,GAMzB;AAED,IAAY,cAOX;AAPD,CAAA,SAAY,cAAc;IACxB,cAAA,CAAA,QAAA,GAAA,WAAmB,CAAA;IACnB,cAAA,CAAA,QAAA,GAAA,WAAmB,CAAA;IACnB,cAAA,CAAA,OAAA,GAAA,UAAiB,CAAA;IACjB,cAAA,CAAA,QAAA,GAAA,WAAmB,CAAA;IACnB,cAAA,CAAA,QAAA,GAAA,WAAmB,CAAA;IACnB,cAAA,CAAA,eAAA,GAAA,cAA6B,CAAA;AAC/B,CAAC,EAPW,cAAc,IAAA,CAAd,cAAc,GAAA,CAAA,CAAA,GAOzB;AAED,IAAY,UAEX;AAFD,CAAA,SAAY,UAAU;IACpB,UAAA,CAAA,YAAA,GAAA,WAAuB,CAAA;AACzB,CAAC,EAFW,UAAU,IAAA,CAAV,UAAU,GAAA,CAAA,CAAA,GAErB;AAED,IAAY,gBAKX;AALD,CAAA,SAAY,gBAAgB;IAC1B,gBAAA,CAAA,aAAA,GAAA,YAAyB,CAAA;IACzB,gBAAA,CAAA,OAAA,GAAA,MAAa,CAAA;IACb,gBAAA,CAAA,UAAA,GAAA,SAAmB,CAAA;IACnB,gBAAA,CAAA,SAAA,GAAA,QAAiB,CAAA;AACnB,CAAC,EALW,gBAAgB,IAAA,CAAhB,gBAAgB,GAAA,CAAA,CAAA,GAK3B"}},
    {"offset": {"line": 254, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@supabase/realtime-js/dist/module/lib/serializer.js","sources":["file:///Users/remyngwanyam/Desktop/transapp/transapp-user-master/node_modules/%40supabase/realtime-js/src/lib/serializer.ts"],"sourcesContent":["// This file draws heavily from https://github.com/phoenixframework/phoenix/commit/cf098e9cf7a44ee6479d31d911a97d3c7430c6fe\n// License: https://github.com/phoenixframework/phoenix/blob/master/LICENSE.md\nexport type Msg<T> = {\n  join_ref?: string | null\n  ref?: string | null\n  topic: string\n  event: string\n  payload: T\n}\n\nexport default class Serializer {\n  HEADER_LENGTH = 1\n  USER_BROADCAST_PUSH_META_LENGTH = 6\n  KINDS = { userBroadcastPush: 3, userBroadcast: 4 }\n  BINARY_ENCODING = 0\n  JSON_ENCODING = 1\n  BROADCAST_EVENT = 'broadcast'\n\n  allowedMetadataKeys: string[] = []\n\n  constructor(allowedMetadataKeys?: string[] | null) {\n    this.allowedMetadataKeys = allowedMetadataKeys ?? []\n  }\n\n  encode(msg: Msg<{ [key: string]: any }>, callback: (result: ArrayBuffer | string) => any) {\n    if (\n      msg.event === this.BROADCAST_EVENT &&\n      !(msg.payload instanceof ArrayBuffer) &&\n      typeof msg.payload.event === 'string'\n    ) {\n      return callback(\n        this._binaryEncodeUserBroadcastPush(msg as Msg<{ event: string } & { [key: string]: any }>)\n      )\n    }\n\n    let payload = [msg.join_ref, msg.ref, msg.topic, msg.event, msg.payload]\n    return callback(JSON.stringify(payload))\n  }\n\n  private _binaryEncodeUserBroadcastPush(message: Msg<{ event: string } & { [key: string]: any }>) {\n    if (this._isArrayBuffer(message.payload?.payload)) {\n      return this._encodeBinaryUserBroadcastPush(message)\n    } else {\n      return this._encodeJsonUserBroadcastPush(message)\n    }\n  }\n\n  private _encodeBinaryUserBroadcastPush(message: Msg<{ event: string } & { [key: string]: any }>) {\n    const userPayload = message.payload?.payload ?? new ArrayBuffer(0)\n    return this._encodeUserBroadcastPush(message, this.BINARY_ENCODING, userPayload)\n  }\n\n  private _encodeJsonUserBroadcastPush(message: Msg<{ event: string } & { [key: string]: any }>) {\n    const userPayload = message.payload?.payload ?? {}\n    const encoder = new TextEncoder()\n    const encodedUserPayload = encoder.encode(JSON.stringify(userPayload)).buffer\n    return this._encodeUserBroadcastPush(message, this.JSON_ENCODING, encodedUserPayload)\n  }\n\n  private _encodeUserBroadcastPush(\n    message: Msg<{ event: string } & { [key: string]: any }>,\n    encodingType: number,\n    encodedPayload: ArrayBuffer\n  ) {\n    const topic = message.topic\n    const ref = message.ref ?? ''\n    const joinRef = message.join_ref ?? ''\n    const userEvent = message.payload.event\n\n    // Filter metadata based on allowed keys\n    const rest = this.allowedMetadataKeys\n      ? this._pick(message.payload, this.allowedMetadataKeys)\n      : {}\n\n    const metadata = Object.keys(rest).length === 0 ? '' : JSON.stringify(rest)\n\n    // Validate lengths don't exceed uint8 max value (255)\n    if (joinRef.length > 255) {\n      throw new Error(`joinRef length ${joinRef.length} exceeds maximum of 255`)\n    }\n    if (ref.length > 255) {\n      throw new Error(`ref length ${ref.length} exceeds maximum of 255`)\n    }\n    if (topic.length > 255) {\n      throw new Error(`topic length ${topic.length} exceeds maximum of 255`)\n    }\n    if (userEvent.length > 255) {\n      throw new Error(`userEvent length ${userEvent.length} exceeds maximum of 255`)\n    }\n    if (metadata.length > 255) {\n      throw new Error(`metadata length ${metadata.length} exceeds maximum of 255`)\n    }\n\n    const metaLength =\n      this.USER_BROADCAST_PUSH_META_LENGTH +\n      joinRef.length +\n      ref.length +\n      topic.length +\n      userEvent.length +\n      metadata.length\n\n    const header = new ArrayBuffer(this.HEADER_LENGTH + metaLength)\n    let view = new DataView(header)\n    let offset = 0\n\n    view.setUint8(offset++, this.KINDS.userBroadcastPush) // kind\n    view.setUint8(offset++, joinRef.length)\n    view.setUint8(offset++, ref.length)\n    view.setUint8(offset++, topic.length)\n    view.setUint8(offset++, userEvent.length)\n    view.setUint8(offset++, metadata.length)\n    view.setUint8(offset++, encodingType)\n    Array.from(joinRef, (char) => view.setUint8(offset++, char.charCodeAt(0)))\n    Array.from(ref, (char) => view.setUint8(offset++, char.charCodeAt(0)))\n    Array.from(topic, (char) => view.setUint8(offset++, char.charCodeAt(0)))\n    Array.from(userEvent, (char) => view.setUint8(offset++, char.charCodeAt(0)))\n    Array.from(metadata, (char) => view.setUint8(offset++, char.charCodeAt(0)))\n\n    var combined = new Uint8Array(header.byteLength + encodedPayload.byteLength)\n    combined.set(new Uint8Array(header), 0)\n    combined.set(new Uint8Array(encodedPayload), header.byteLength)\n\n    return combined.buffer\n  }\n\n  decode(rawPayload: ArrayBuffer | string, callback: Function) {\n    if (this._isArrayBuffer(rawPayload)) {\n      let result = this._binaryDecode(rawPayload as ArrayBuffer)\n      return callback(result)\n    }\n\n    if (typeof rawPayload === 'string') {\n      const jsonPayload = JSON.parse(rawPayload)\n      const [join_ref, ref, topic, event, payload] = jsonPayload\n      return callback({ join_ref, ref, topic, event, payload })\n    }\n\n    return callback({})\n  }\n\n  private _binaryDecode(buffer: ArrayBuffer) {\n    const view = new DataView(buffer)\n    const kind = view.getUint8(0)\n    const decoder = new TextDecoder()\n    switch (kind) {\n      case this.KINDS.userBroadcast:\n        return this._decodeUserBroadcast(buffer, view, decoder)\n    }\n  }\n\n  private _decodeUserBroadcast(\n    buffer: ArrayBuffer,\n    view: DataView,\n    decoder: TextDecoder\n  ): {\n    join_ref: null\n    ref: null\n    topic: string\n    event: string\n    payload: { [key: string]: any }\n  } {\n    const topicSize = view.getUint8(1)\n    const userEventSize = view.getUint8(2)\n    const metadataSize = view.getUint8(3)\n    const payloadEncoding = view.getUint8(4)\n\n    let offset = this.HEADER_LENGTH + 4\n    const topic = decoder.decode(buffer.slice(offset, offset + topicSize))\n    offset = offset + topicSize\n    const userEvent = decoder.decode(buffer.slice(offset, offset + userEventSize))\n    offset = offset + userEventSize\n    const metadata = decoder.decode(buffer.slice(offset, offset + metadataSize))\n    offset = offset + metadataSize\n\n    const payload = buffer.slice(offset, buffer.byteLength)\n    const parsedPayload =\n      payloadEncoding === this.JSON_ENCODING ? JSON.parse(decoder.decode(payload)) : payload\n\n    const data: { [key: string]: any } = {\n      type: this.BROADCAST_EVENT,\n      event: userEvent,\n      payload: parsedPayload,\n    }\n\n    // Metadata is optional and always JSON encoded\n    if (metadataSize > 0) {\n      data['meta'] = JSON.parse(metadata)\n    }\n\n    return { join_ref: null, ref: null, topic: topic, event: this.BROADCAST_EVENT, payload: data }\n  }\n\n  private _isArrayBuffer(buffer: any): boolean {\n    return buffer instanceof ArrayBuffer || buffer?.constructor?.name === 'ArrayBuffer'\n  }\n\n  private _pick(obj: Record<string, any> | null | undefined, keys: string[]): Record<string, any> {\n    if (!obj || typeof obj !== 'object') {\n      return {}\n    }\n    return Object.fromEntries(Object.entries(obj).filter(([key]) => keys.includes(key)))\n  }\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAUc,IAAA,2BAAA;;wBAUA,mBAAqC;;QATjD,IAAA,CAAA,aAAa,GAAG,CAAC,CAAA;QACjB,IAAA,CAAA,+BAA+B,GAAG,CAAC,CAAA;QACnC,IAAA,CAAA,KAAK,GAAG;YAAE,iBAAiB,EAAE,CAAC;YAAE,aAAa,EAAE,CAAC;QAAA,CAAE,CAAA;QAClD,IAAA,CAAA,eAAe,GAAG,CAAC,CAAA;QACnB,IAAA,CAAA,aAAa,GAAG,CAAC,CAAA;QACjB,IAAA,CAAA,eAAe,GAAG,WAAW,CAAA;QAE7B,IAAA,CAAA,mBAAmB,GAAa,EAAE,CAAA;QAGhC,IAAI,CAAC,mBAAmB,GAAG,mBAAmB,KAAA,QAAnB,mBAAmB,KAAA,KAAA,IAAnB,mBAAmB,GAAI,EAAE,CAAA;;;;YAGtD,MAAM;mCAAC,GAAgC,EAAE,QAA+C;gBACtF,IACE,GAAG,CAAC,KAAK,KAAK,IAAI,CAAC,eAAe,IAClC,CAAC,kKAAwB,EAAvB,GAAG,CAAC,KAA8B,CAAC,CAAxB,kBACb,OAAO,GAAG,CAAC,OAAO,CAAC,KAAK,KAAK,QAAQ,EACrC,CAAC;oBACD,OAAO,QAAQ,CACb,IAAI,CAAC,8BAA8B,CAAC,GAAsD,CAAC,CAC5F,CAAA;gBACH,CAAC;gBAED,IAAI,OAAO,GAAG;oBAAC,GAAG,CAAC,QAAQ;oBAAE,GAAG,CAAC,GAAG;oBAAE,GAAG,CAAC,KAAK;oBAAE,GAAG,CAAC,KAAK;oBAAE,GAAG,CAAC,OAAO;iBAAC,CAAA;gBACxE,OAAO,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,CAAA;YAC1C,CAAC;;;;4BAEO,8BAA8B,CAAC,OAAwD;;gBAC7F,IAAI,IAAI,CAAC,cAAc,CAAC,CAAA,KAAA,OAAO,CAAC,OAAO,MAAA,QAAA,OAAA,KAAA,IAAA,KAAA,IAAA,GAAE,OAAO,CAAC,EAAE,CAAC;oBAClD,OAAO,IAAI,CAAC,8BAA8B,CAAC,OAAO,CAAC,CAAA;gBACrD,CAAC,MAAM,CAAC;oBACN,OAAO,IAAI,CAAC,4BAA4B,CAAC,OAAO,CAAC,CAAA;gBACnD,CAAC;YACH,CAAC;;;;4BAEO,8BAA8B,CAAC,OAAwD;;gBAC7F,IAAM,WAAW,GAAG,CAAA,KAAA,CAAA,KAAA,OAAO,CAAC,OAAO,MAAA,QAAA,OAAA,KAAA,IAAA,KAAA,IAAA,GAAE,OAAO,MAAA,QAAA,OAAA,KAAA,IAAA,KAAI,IAAI,WAAW,CAAC,CAAC,CAAC,CAAA;gBAClE,OAAO,IAAI,CAAC,wBAAwB,CAAC,OAAO,EAAE,IAAI,CAAC,eAAe,EAAE,WAAW,CAAC,CAAA;YAClF,CAAC;;;;mBAEO,4BAA4B,UAAC,OAAwD;;gBAC3F,IAAM,WAAW,GAAG,CAAA,KAAA,CAAA,KAAA,OAAO,CAAC,OAAO,MAAA,QAAA,OAAA,KAAA,IAAA,KAAA,IAAA,GAAE,OAAO,MAAA,QAAA,OAAA,KAAA,IAAA,KAAI,CAAA,CAAE,CAAA;gBAClD,IAAM,OAAO,GAAG,IAAI,WAAW,EAAE,CAAA;gBACjC,IAAM,kBAAkB,GAAG,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC,CAAC,MAAM,CAAA;gBAC7E,OAAO,IAAI,CAAC,wBAAwB,CAAC,OAAO,EAAE,IAAI,CAAC,aAAa,EAAE,kBAAkB,CAAC,CAAA;YACvF,CAAC;;;;4BAEO,wBAAwB,CAC9B,OAAwD,EACxD,YAAoB,EACpB,cAA2B;;gBAE3B,IAAM,KAAK,GAAG,OAAO,CAAC,KAAK,CAAA;gBAC3B,IAAM,GAAG,GAAG,CAAA,KAAA,OAAO,CAAC,GAAG,MAAA,QAAA,OAAA,KAAA,IAAA,KAAI,EAAE,CAAA;gBAC7B,IAAM,OAAO,GAAG,CAAA,KAAA,OAAO,CAAC,QAAQ,MAAA,QAAA,OAAA,KAAA,IAAA,KAAI,EAAE,CAAA;gBACtC,IAAM,SAAS,GAAG,OAAO,CAAC,OAAO,CAAC,KAAK,CAAA;gBAEvC,wCAAwC;gBACxC,IAAM,IAAI,GAAG,IAAI,CAAC,mBAAmB,GACjC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,EAAE,IAAI,CAAC,mBAAmB,CAAC,GACrD,CAAA,CAAE,CAAA;gBAEN,IAAM,QAAQ,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,MAAM,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAA;gBAE3E,sDAAsD;gBACtD,IAAI,OAAO,CAAC,MAAM,GAAG,GAAG,EAAE,CAAC;oBACzB,MAAM,IAAI,KAAK,CAAC,kBAAgC,OAAd,OAAO,CAAC,MAAM,EAAA,wBAAyB,CAAC,CAAA;gBAC5E,CAAC;gBACD,IAAI,GAAG,CAAC,MAAM,GAAG,GAAG,EAAE,CAAC;oBACrB,MAAM,IAAI,KAAK,CAAC,cAAwB,OAAV,GAAG,CAAC,MAAM,EAAA,wBAAyB,CAAC,CAAA;gBACpE,CAAC;gBACD,IAAI,KAAK,CAAC,MAAM,GAAG,GAAG,EAAE,CAAC;oBACvB,MAAM,IAAI,KAAK,CAAC,gBAA4B,OAAZ,KAAK,CAAC,MAAM,EAAA,wBAAyB,CAAC,CAAA;gBACxE,CAAC;gBACD,IAAI,SAAS,CAAC,MAAM,GAAG,GAAG,EAAE,CAAC;oBAC3B,MAAM,IAAI,KAAK,CAAC,oBAAoC,OAAhB,SAAS,CAAC,MAAM,EAAA,wBAAyB,CAAC,CAAA;gBAChF,CAAC;gBACD,IAAI,QAAQ,CAAC,MAAM,GAAG,GAAG,EAAE,CAAC;oBAC1B,MAAM,IAAI,KAAK,CAAC,mBAAkC,OAAf,QAAQ,CAAC,MAAM,EAAA,AAAyB,CAAC,CAAA;gBAC9E,CAAC;gBAED,IAAM,UAAU,GACd,IAAI,CAAC,+BAA+B,GACpC,OAAO,CAAC,MAAM,GACd,GAAG,CAAC,MAAM,GACV,KAAK,CAAC,MAAM,GACZ,SAAS,CAAC,MAAM,GAChB,QAAQ,CAAC,MAAM,CAAA;gBAEjB,IAAM,MAAM,GAAG,IAAI,WAAW,CAAC,IAAI,CAAC,aAAa,GAAG,UAAU,CAAC,CAAA;gBAC/D,IAAI,IAAI,GAAG,IAAI,QAAQ,CAAC,MAAM,CAAC,CAAA;gBAC/B,IAAI,MAAM,GAAG,CAAC,CAAA;gBAEd,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,EAAE,IAAI,CAAC,KAAK,CAAC,iBAAiB,CAAC,CAAA,CAAC,OAAO;gBAC7D,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,EAAE,OAAO,CAAC,MAAM,CAAC,CAAA;gBACvC,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,EAAE,GAAG,CAAC,MAAM,CAAC,CAAA;gBACnC,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,EAAE,KAAK,CAAC,MAAM,CAAC,CAAA;gBACrC,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,EAAE,SAAS,CAAC,MAAM,CAAC,CAAA;gBACzC,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,EAAE,QAAQ,CAAC,MAAM,CAAC,CAAA;gBACxC,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,EAAE,YAAY,CAAC,CAAA;gBACrC,KAAK,CAAC,IAAI,CAAC,OAAO,EAAE,SAAC,IAAI,EAAE,EAAE;2BAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,EAAE,IAAI,EAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAA;;gBAC1E,KAAK,CAAC,IAAI,CAAC,GAAG,EAAE,SAAC,IAAI,EAAE,EAAE;2BAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,EAAE,IAAI,EAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAA;;gBACtE,KAAK,CAAC,IAAI,CAAC,KAAK,EAAE,SAAC,IAAI,EAAE,EAAE;2BAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,EAAE,IAAI,EAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAA;;gBACxE,KAAK,CAAC,IAAI,CAAC,SAAS,EAAE,SAAC,IAAI,EAAE,EAAE;2BAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,EAAE,IAAI,EAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAA;;gBAC5E,KAAK,CAAC,IAAI,CAAC,QAAQ,EAAE,SAAC,IAAI,EAAE,EAAE;2BAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,EAAE,IAAI,EAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAA;;gBAE3E,IAAI,QAAQ,GAAG,IAAI,UAAU,CAAC,MAAM,CAAC,UAAU,GAAG,cAAc,CAAC,UAAU,CAAC,CAAA;gBAC5E,QAAQ,CAAC,GAAG,CAAC,IAAI,UAAU,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,CAAA;gBACvC,QAAQ,CAAC,GAAG,CAAC,IAAI,UAAU,CAAC,cAAc,CAAC,EAAE,MAAM,CAAC,UAAU,CAAC,CAAA;gBAE/D,OAAO,QAAQ,CAAC,MAAM,CAAA;YACxB,CAAC;;;;4BAED,MAAM,CAAC,UAAgC,EAAE,QAAkB;gBACzD,IAAI,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,EAAE,CAAC;oBACpC,IAAI,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC,UAAyB,CAAC,CAAA;oBAC1D,OAAO,QAAQ,CAAC,MAAM,CAAC,CAAA;gBACzB,CAAC;gBAED,IAAI,OAAO,UAAU,KAAK,QAAQ,EAAE,CAAC;oBACnC,IAAM,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,CAAA;oBAC1C,MAAM,uMAAC,QAAQ,oBAAE,GAAG,oBAAE,KAAK,GAAoB,WAAW,CAAA,KAA7B,KAAK,oBAAE,OAAO,CAAC;oBAC5C,OAAO,QAAQ,CAAC;kCAAE,QAAQ;6BAAE,GAAG;+BAAE,KAAK;+BAAE,KAAK;iCAAE,OAAO;oBAAA,CAAE,CAAC,CAAA;gBAC3D,CAAC;gBAED,OAAO,QAAQ,CAAC,CAAA,CAAE,CAAC,CAAA;YACrB,CAAC;;;;4BAEO,aAAa,CAAC,MAAmB;gBACvC,IAAM,IAAI,GAAG,IAAI,QAAQ,CAAC,MAAM,CAAC,CAAA;gBACjC,IAAM,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAA;gBAC7B,IAAM,OAAO,GAAG,IAAI,WAAW,EAAE,CAAA;gBACjC,OAAQ,IAAI,EAAE,CAAC;oBACb,KAAK,IAAI,CAAC,KAAK,CAAC,aAAa;wBAC3B,OAAO,IAAI,CAAC,oBAAoB,CAAC,MAAM,EAAE,IAAI,EAAE,OAAO,CAAC,CAAA;gBAC3D,CAAC;YACH,CAAC;;;;4BAEO,oBAAoB,CAC1B,MAAmB,EACnB,IAAc,EACd,OAAoB;gBAQpB,IAAM,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAA;gBAClC,IAAM,aAAa,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAA;gBACtC,IAAM,YAAY,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAA;gBACrC,IAAM,eAAe,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAA;gBAExC,IAAI,MAAM,GAAG,IAAI,CAAC,aAAa,GAAG,CAAC,CAAA;gBACnC,IAAM,KAAK,GAAG,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,MAAM,GAAG,SAAS,CAAC,CAAC,CAAA;gBACtE,MAAM,GAAG,MAAM,GAAG,SAAS,CAAA;gBAC3B,IAAM,SAAS,GAAG,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,MAAM,GAAG,aAAa,CAAC,CAAC,CAAA;gBAC9E,MAAM,GAAG,MAAM,GAAG,aAAa,CAAA;gBAC/B,IAAM,QAAQ,GAAG,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,MAAM,GAAG,YAAY,CAAC,CAAC,CAAA;gBAC5E,MAAM,GAAG,MAAM,GAAG,YAAY,CAAA;gBAE9B,IAAM,OAAO,GAAG,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,MAAM,CAAC,UAAU,CAAC,CAAA;gBACvD,IAAM,aAAa,GACjB,eAAe,KAAK,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAA;gBAExF,IAAM,IAAI,GAA2B;oBACnC,IAAI,EAAE,IAAI,CAAC,eAAe;oBAC1B,KAAK,EAAE,SAAS;oBAChB,OAAO,EAAE,aAAa;iBACvB,CAAA;gBAED,+CAA+C;gBAC/C,IAAI,YAAY,GAAG,CAAC,EAAE,CAAC;oBACrB,IAAI,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAA;gBACrC,CAAC;gBAED,OAAO;oBAAE,QAAQ,EAAE,IAAI;oBAAE,GAAG,EAAE,IAAI;oBAAE,KAAK,EAAE,KAAK;oBAAE,KAAK,EAAE,IAAI,CAAC,eAAe;oBAAE,OAAO,EAAE,IAAI;gBAAA,CAAE,CAAA;YAChG,CAAC;;;YAEO,cAAc;2CAAC,MAAW;;gBAChC,WAAa,gKAAN,QAAkB,WAAW,KAAI,CAAA,CAAA,KAAA,MAAM,KAAA,QAAN,MAAM,KAAA,KAAA,IAAA,KAAA,IAAN,MAAM,CAAE,WAAW,MAAA,QAAA,OAAA,KAAA,IAAA,KAAA,IAAA,GAAE,IAAI,MAAK,aAAa,CAAA;YACrF,CAAC;;;;4BAEO,KAAK,CAAC,GAA2C,EAAE,IAAc;gBACvE,IAAI,CAAC,GAAG,oDAAI,2JAAU,EAAH,IAAA,MAAQ,QAAQ,EAAE,CAAC;oBACpC,OAAO,CAAA,CAAE,CAAA;gBACX,CAAC;gBACD,OAAO,MAAM,CAAC,WAAW,CAAC,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC;qNAAC,GAAG,CAAC,EAAE,EAAE;2BAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,CAAA;;YACtF,CAAC;;;WA/LkB,UAAU"}},
    {"offset": {"line": 484, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@supabase/realtime-js/dist/module/lib/timer.js","sources":["file:///Users/remyngwanyam/Desktop/transapp/transapp-user-master/node_modules/%40supabase/realtime-js/src/lib/timer.ts"],"sourcesContent":["/**\n * Creates a timer that accepts a `timerCalc` function to perform calculated timeout retries, such as exponential backoff.\n *\n * @example\n *    let reconnectTimer = new Timer(() => this.connect(), function(tries){\n *      return [1000, 5000, 10000][tries - 1] || 10000\n *    })\n *    reconnectTimer.scheduleTimeout() // fires after 1000\n *    reconnectTimer.scheduleTimeout() // fires after 5000\n *    reconnectTimer.reset()\n *    reconnectTimer.scheduleTimeout() // fires after 1000\n */\nexport default class Timer {\n  timer: number | undefined = undefined\n  tries: number = 0\n\n  constructor(\n    public callback: Function,\n    public timerCalc: Function\n  ) {\n    this.callback = callback\n    this.timerCalc = timerCalc\n  }\n\n  reset() {\n    this.tries = 0\n    clearTimeout(this.timer)\n    this.timer = undefined\n  }\n\n  // Cancels any previous scheduleTimeout and schedules callback\n  scheduleTimeout() {\n    clearTimeout(this.timer)\n\n    this.timer = <any>setTimeout(\n      () => {\n        this.tries = this.tries + 1\n        this.callback()\n      },\n      this.timerCalc(this.tries + 1)\n    )\n  }\n}\n"],"names":[],"mappings":"AAAA;;;;;;;;;;;GAWG;;;;;;;;AACW,IAAA,sBAAA;;mBAKH,QAAkB,EAClB,SAAmB;;QADnB,IAAA,CAAA,QAAQ,GAAR,QAAQ,CAAU;QAClB,IAAA,CAAA,SAAS,GAAT,SAAS,CAAU;QAL5B,IAAA,CAAA,KAAK,GAAuB,SAAS,CAAA;QACrC,IAAA,CAAA,KAAK,GAAW,CAAC,CAAA;QAMf,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAA;QACxB,IAAI,CAAC,SAAS,GAAG,SAAS,CAAA;;;;;4BAG5B,KAAK;gBACH,IAAI,CAAC,KAAK,GAAG,CAAC,CAAA;gBACd,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,CAAA;gBACxB,IAAI,CAAC,KAAK,GAAG,SAAS,CAAA;YACxB,CAAC;;;YAED,8DAA8D;;4BAC9D,eAAe;;gBACb,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,CAAA;gBAExB,IAAI,CAAC,KAAK,GAAQ,UAAU,CAC1B,GAAG,EAAE;oBACH,IAAI,EAAC,KAAK,GAAG,IAAI,EAAC,KAAK,GAAG,CAAC,CAAA;oBAC3B,IAAI,EAAC,QAAQ,EAAE,CAAA;gBACjB,CAAC,EACD,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,CAC/B,CAAA;YACH,CAAC;;;WA7BkB,KAAK"}},
    {"offset": {"line": 544, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@supabase/realtime-js/dist/module/lib/transformers.js","sources":["file:///Users/remyngwanyam/Desktop/transapp/transapp-user-master/node_modules/%40supabase/realtime-js/src/lib/transformers.ts"],"sourcesContent":["/**\n * Helpers to convert the change Payload into native JS types.\n */\n\n// Adapted from epgsql (src/epgsql_binary.erl), this module licensed under\n// 3-clause BSD found here: https://raw.githubusercontent.com/epgsql/epgsql/devel/LICENSE\n\nexport enum PostgresTypes {\n  abstime = 'abstime',\n  bool = 'bool',\n  date = 'date',\n  daterange = 'daterange',\n  float4 = 'float4',\n  float8 = 'float8',\n  int2 = 'int2',\n  int4 = 'int4',\n  int4range = 'int4range',\n  int8 = 'int8',\n  int8range = 'int8range',\n  json = 'json',\n  jsonb = 'jsonb',\n  money = 'money',\n  numeric = 'numeric',\n  oid = 'oid',\n  reltime = 'reltime',\n  text = 'text',\n  time = 'time',\n  timestamp = 'timestamp',\n  timestamptz = 'timestamptz',\n  timetz = 'timetz',\n  tsrange = 'tsrange',\n  tstzrange = 'tstzrange',\n}\n\ntype Columns = {\n  name: string // the column name. eg: \"user_id\"\n  type: string // the column type. eg: \"uuid\"\n  flags?: string[] // any special flags for the column. eg: [\"key\"]\n  type_modifier?: number // the type modifier. eg: 4294967295\n}[]\n\ntype BaseValue = null | string | number | boolean\ntype RecordValue = BaseValue | BaseValue[]\n\ntype Record = {\n  [key: string]: RecordValue\n}\n\n/**\n * Takes an array of columns and an object of string values then converts each string value\n * to its mapped type.\n *\n * @param {{name: String, type: String}[]} columns\n * @param {Object} record\n * @param {Object} options The map of various options that can be applied to the mapper\n * @param {Array} options.skipTypes The array of types that should not be converted\n *\n * @example convertChangeData([{name: 'first_name', type: 'text'}, {name: 'age', type: 'int4'}], {first_name: 'Paul', age:'33'}, {})\n * //=>{ first_name: 'Paul', age: 33 }\n */\nexport const convertChangeData = (\n  columns: Columns,\n  record: Record | null,\n  options: { skipTypes?: string[] } = {}\n): Record => {\n  const skipTypes = options.skipTypes ?? []\n\n  if (!record) {\n    return {}\n  }\n\n  return Object.keys(record).reduce((acc, rec_key) => {\n    acc[rec_key] = convertColumn(rec_key, columns, record, skipTypes)\n    return acc\n  }, {} as Record)\n}\n\n/**\n * Converts the value of an individual column.\n *\n * @param {String} columnName The column that you want to convert\n * @param {{name: String, type: String}[]} columns All of the columns\n * @param {Object} record The map of string values\n * @param {Array} skipTypes An array of types that should not be converted\n * @return {object} Useless information\n *\n * @example convertColumn('age', [{name: 'first_name', type: 'text'}, {name: 'age', type: 'int4'}], {first_name: 'Paul', age: '33'}, [])\n * //=> 33\n * @example convertColumn('age', [{name: 'first_name', type: 'text'}, {name: 'age', type: 'int4'}], {first_name: 'Paul', age: '33'}, ['int4'])\n * //=> \"33\"\n */\nexport const convertColumn = (\n  columnName: string,\n  columns: Columns,\n  record: Record,\n  skipTypes: string[]\n): RecordValue => {\n  const column = columns.find((x) => x.name === columnName)\n  const colType = column?.type\n  const value = record[columnName]\n\n  if (colType && !skipTypes.includes(colType)) {\n    return convertCell(colType, value)\n  }\n\n  return noop(value)\n}\n\n/**\n * If the value of the cell is `null`, returns null.\n * Otherwise converts the string value to the correct type.\n * @param {String} type A postgres column type\n * @param {String} value The cell value\n *\n * @example convertCell('bool', 't')\n * //=> true\n * @example convertCell('int8', '10')\n * //=> 10\n * @example convertCell('_int4', '{1,2,3,4}')\n * //=> [1,2,3,4]\n */\nexport const convertCell = (type: string, value: RecordValue): RecordValue => {\n  // if data type is an array\n  if (type.charAt(0) === '_') {\n    const dataType = type.slice(1, type.length)\n    return toArray(value, dataType)\n  }\n\n  // If not null, convert to correct type.\n  switch (type) {\n    case PostgresTypes.bool:\n      return toBoolean(value)\n    case PostgresTypes.float4:\n    case PostgresTypes.float8:\n    case PostgresTypes.int2:\n    case PostgresTypes.int4:\n    case PostgresTypes.int8:\n    case PostgresTypes.numeric:\n    case PostgresTypes.oid:\n      return toNumber(value)\n    case PostgresTypes.json:\n    case PostgresTypes.jsonb:\n      return toJson(value)\n    case PostgresTypes.timestamp:\n      return toTimestampString(value) // Format to be consistent with PostgREST\n    case PostgresTypes.abstime: // To allow users to cast it based on Timezone\n    case PostgresTypes.date: // To allow users to cast it based on Timezone\n    case PostgresTypes.daterange:\n    case PostgresTypes.int4range:\n    case PostgresTypes.int8range:\n    case PostgresTypes.money:\n    case PostgresTypes.reltime: // To allow users to cast it based on Timezone\n    case PostgresTypes.text:\n    case PostgresTypes.time: // To allow users to cast it based on Timezone\n    case PostgresTypes.timestamptz: // To allow users to cast it based on Timezone\n    case PostgresTypes.timetz: // To allow users to cast it based on Timezone\n    case PostgresTypes.tsrange:\n    case PostgresTypes.tstzrange:\n      return noop(value)\n    default:\n      // Return the value for remaining types\n      return noop(value)\n  }\n}\n\nconst noop = (value: RecordValue): RecordValue => {\n  return value\n}\nexport const toBoolean = (value: RecordValue): RecordValue => {\n  switch (value) {\n    case 't':\n      return true\n    case 'f':\n      return false\n    default:\n      return value\n  }\n}\nexport const toNumber = (value: RecordValue): RecordValue => {\n  if (typeof value === 'string') {\n    const parsedValue = parseFloat(value)\n    if (!Number.isNaN(parsedValue)) {\n      return parsedValue\n    }\n  }\n  return value\n}\nexport const toJson = (value: RecordValue): RecordValue => {\n  if (typeof value === 'string') {\n    try {\n      return JSON.parse(value)\n    } catch (error) {\n      console.log(`JSON parse error: ${error}`)\n      return value\n    }\n  }\n  return value\n}\n\n/**\n * Converts a Postgres Array into a native JS array\n *\n * @example toArray('{}', 'int4')\n * //=> []\n * @example toArray('{\"[2021-01-01,2021-12-31)\",\"(2021-01-01,2021-12-32]\"}', 'daterange')\n * //=> ['[2021-01-01,2021-12-31)', '(2021-01-01,2021-12-32]']\n * @example toArray([1,2,3,4], 'int4')\n * //=> [1,2,3,4]\n */\nexport const toArray = (value: RecordValue, type: string): RecordValue => {\n  if (typeof value !== 'string') {\n    return value\n  }\n\n  const lastIdx = value.length - 1\n  const closeBrace = value[lastIdx]\n  const openBrace = value[0]\n\n  // Confirm value is a Postgres array by checking curly brackets\n  if (openBrace === '{' && closeBrace === '}') {\n    let arr\n    const valTrim = value.slice(1, lastIdx)\n\n    // TODO: find a better solution to separate Postgres array data\n    try {\n      arr = JSON.parse('[' + valTrim + ']')\n    } catch (_) {\n      // WARNING: splitting on comma does not cover all edge cases\n      arr = valTrim ? valTrim.split(',') : []\n    }\n\n    return arr.map((val: BaseValue) => convertCell(type, val))\n  }\n\n  return value\n}\n\n/**\n * Fixes timestamp to be ISO-8601. Swaps the space between the date and time for a 'T'\n * See https://github.com/supabase/supabase/issues/18\n *\n * @example toTimestampString('2019-09-10 00:00:00')\n * //=> '2019-09-10T00:00:00'\n */\nexport const toTimestampString = (value: RecordValue): RecordValue => {\n  if (typeof value === 'string') {\n    return value.replace(' ', 'T')\n  }\n\n  return value\n}\n\nexport const httpEndpointURL = (socketUrl: string): string => {\n  const wsUrl = new URL(socketUrl)\n\n  wsUrl.protocol = wsUrl.protocol.replace(/^ws/i, 'http')\n\n  wsUrl.pathname = wsUrl.pathname\n    .replace(/\\/+$/, '') // remove all trailing slashes\n    .replace(/\\/socket\\/websocket$/i, '') // remove the socket/websocket path\n    .replace(/\\/socket$/i, '') // remove the socket path\n    .replace(/\\/websocket$/i, '') // remove the websocket path\n\n  if (wsUrl.pathname === '' || wsUrl.pathname === '/') {\n    wsUrl.pathname = '/api/broadcast'\n  } else {\n    wsUrl.pathname = wsUrl.pathname + '/api/broadcast'\n  }\n\n  return wsUrl.href\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 743, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@supabase/realtime-js/dist/module/lib/push.js","sources":["file:///Users/remyngwanyam/Desktop/transapp/transapp-user-master/node_modules/%40supabase/realtime-js/src/lib/push.ts"],"sourcesContent":["import { DEFAULT_TIMEOUT } from '../lib/constants'\nimport type RealtimeChannel from '../RealtimeChannel'\n\nexport default class Push {\n  sent: boolean = false\n  timeoutTimer: number | undefined = undefined\n  ref: string = ''\n  receivedResp: {\n    status: string\n    response: { [key: string]: any }\n  } | null = null\n  recHooks: {\n    status: string\n    callback: Function\n  }[] = []\n  refEvent: string | null = null\n\n  /**\n   * Initializes the Push\n   *\n   * @param channel The Channel\n   * @param event The event, for example `\"phx_join\"`\n   * @param payload The payload, for example `{user_id: 123}`\n   * @param timeout The push timeout in milliseconds\n   */\n  constructor(\n    public channel: RealtimeChannel,\n    public event: string,\n    public payload: { [key: string]: any } = {},\n    public timeout: number = DEFAULT_TIMEOUT\n  ) {}\n\n  resend(timeout: number) {\n    this.timeout = timeout\n    this._cancelRefEvent()\n    this.ref = ''\n    this.refEvent = null\n    this.receivedResp = null\n    this.sent = false\n    this.send()\n  }\n\n  send() {\n    if (this._hasReceived('timeout')) {\n      return\n    }\n    this.startTimeout()\n    this.sent = true\n    this.channel.socket.push({\n      topic: this.channel.topic,\n      event: this.event,\n      payload: this.payload,\n      ref: this.ref,\n      join_ref: this.channel._joinRef(),\n    })\n  }\n\n  updatePayload(payload: { [key: string]: any }): void {\n    this.payload = { ...this.payload, ...payload }\n  }\n\n  receive(status: string, callback: Function) {\n    if (this._hasReceived(status)) {\n      callback(this.receivedResp?.response)\n    }\n\n    this.recHooks.push({ status, callback })\n    return this\n  }\n\n  startTimeout() {\n    if (this.timeoutTimer) {\n      return\n    }\n    this.ref = this.channel.socket._makeRef()\n    this.refEvent = this.channel._replyEventName(this.ref)\n\n    const callback = (payload: any) => {\n      this._cancelRefEvent()\n      this._cancelTimeout()\n      this.receivedResp = payload\n      this._matchReceive(payload)\n    }\n\n    this.channel._on(this.refEvent, {}, callback)\n\n    this.timeoutTimer = <any>setTimeout(() => {\n      this.trigger('timeout', {})\n    }, this.timeout)\n  }\n\n  trigger(status: string, response: any) {\n    if (this.refEvent) this.channel._trigger(this.refEvent, { status, response })\n  }\n\n  destroy() {\n    this._cancelRefEvent()\n    this._cancelTimeout()\n  }\n\n  private _cancelRefEvent() {\n    if (!this.refEvent) {\n      return\n    }\n\n    this.channel._off(this.refEvent, {})\n  }\n\n  private _cancelTimeout() {\n    clearTimeout(this.timeoutTimer)\n    this.timeoutTimer = undefined\n  }\n\n  private _matchReceive({ status, response }: { status: string; response: Function }) {\n    this.recHooks.filter((h) => h.status === status).forEach((h) => h.callback(response))\n  }\n\n  private _hasReceived(status: string) {\n    return this.receivedResp && this.receivedResp.status === status\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 898, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@supabase/realtime-js/dist/module/RealtimePresence.js","sources":["file:///Users/remyngwanyam/Desktop/transapp/transapp-user-master/node_modules/%40supabase/realtime-js/src/RealtimePresence.ts"],"sourcesContent":["/*\n  This file draws heavily from https://github.com/phoenixframework/phoenix/blob/d344ec0a732ab4ee204215b31de69cf4be72e3bf/assets/js/phoenix/presence.js\n  License: https://github.com/phoenixframework/phoenix/blob/d344ec0a732ab4ee204215b31de69cf4be72e3bf/LICENSE.md\n*/\n\nimport type { PresenceOpts, PresenceOnJoinCallback, PresenceOnLeaveCallback } from 'phoenix'\nimport type RealtimeChannel from './RealtimeChannel'\n\ntype Presence<T extends { [key: string]: any } = {}> = {\n  presence_ref: string\n} & T\n\nexport type RealtimePresenceState<T extends { [key: string]: any } = {}> = {\n  [key: string]: Presence<T>[]\n}\n\nexport type RealtimePresenceJoinPayload<T extends { [key: string]: any }> = {\n  event: `${REALTIME_PRESENCE_LISTEN_EVENTS.JOIN}`\n  key: string\n  currentPresences: Presence<T>[]\n  newPresences: Presence<T>[]\n}\n\nexport type RealtimePresenceLeavePayload<T extends { [key: string]: any }> = {\n  event: `${REALTIME_PRESENCE_LISTEN_EVENTS.LEAVE}`\n  key: string\n  currentPresences: Presence<T>[]\n  leftPresences: Presence<T>[]\n}\n\nexport enum REALTIME_PRESENCE_LISTEN_EVENTS {\n  SYNC = 'sync',\n  JOIN = 'join',\n  LEAVE = 'leave',\n}\n\ntype PresenceDiff = {\n  joins: RealtimePresenceState\n  leaves: RealtimePresenceState\n}\n\ntype RawPresenceState = {\n  [key: string]: {\n    metas: {\n      phx_ref?: string\n      phx_ref_prev?: string\n      [key: string]: any\n    }[]\n  }\n}\n\ntype RawPresenceDiff = {\n  joins: RawPresenceState\n  leaves: RawPresenceState\n}\n\ntype PresenceChooser<T> = (key: string, presences: Presence[]) => T\n\nexport default class RealtimePresence {\n  state: RealtimePresenceState = {}\n  pendingDiffs: RawPresenceDiff[] = []\n  joinRef: string | null = null\n  enabled: boolean = false\n  caller: {\n    onJoin: PresenceOnJoinCallback\n    onLeave: PresenceOnLeaveCallback\n    onSync: () => void\n  } = {\n    onJoin: () => {},\n    onLeave: () => {},\n    onSync: () => {},\n  }\n\n  /**\n   * Creates a Presence helper that keeps the local presence state in sync with the server.\n   *\n   * @param channel - The realtime channel to bind to.\n   * @param opts - Optional custom event names, e.g. `{ events: { state: 'state', diff: 'diff' } }`.\n   *\n   * @example\n   * ```ts\n   * const presence = new RealtimePresence(channel)\n   *\n   * channel.on('presence', ({ event, key }) => {\n   *   console.log(`Presence ${event} on ${key}`)\n   * })\n   * ```\n   */\n  constructor(\n    public channel: RealtimeChannel,\n    opts?: PresenceOpts\n  ) {\n    const events = opts?.events || {\n      state: 'presence_state',\n      diff: 'presence_diff',\n    }\n\n    this.channel._on(events.state, {}, (newState: RawPresenceState) => {\n      const { onJoin, onLeave, onSync } = this.caller\n\n      this.joinRef = this.channel._joinRef()\n\n      this.state = RealtimePresence.syncState(this.state, newState, onJoin, onLeave)\n\n      this.pendingDiffs.forEach((diff) => {\n        this.state = RealtimePresence.syncDiff(this.state, diff, onJoin, onLeave)\n      })\n\n      this.pendingDiffs = []\n\n      onSync()\n    })\n\n    this.channel._on(events.diff, {}, (diff: RawPresenceDiff) => {\n      const { onJoin, onLeave, onSync } = this.caller\n\n      if (this.inPendingSyncState()) {\n        this.pendingDiffs.push(diff)\n      } else {\n        this.state = RealtimePresence.syncDiff(this.state, diff, onJoin, onLeave)\n\n        onSync()\n      }\n    })\n\n    this.onJoin((key, currentPresences, newPresences) => {\n      this.channel._trigger('presence', {\n        event: 'join',\n        key,\n        currentPresences,\n        newPresences,\n      })\n    })\n\n    this.onLeave((key, currentPresences, leftPresences) => {\n      this.channel._trigger('presence', {\n        event: 'leave',\n        key,\n        currentPresences,\n        leftPresences,\n      })\n    })\n\n    this.onSync(() => {\n      this.channel._trigger('presence', { event: 'sync' })\n    })\n  }\n\n  /**\n   * Used to sync the list of presences on the server with the\n   * client's state.\n   *\n   * An optional `onJoin` and `onLeave` callback can be provided to\n   * react to changes in the client's local presences across\n   * disconnects and reconnects with the server.\n   *\n   * @internal\n   */\n  private static syncState(\n    currentState: RealtimePresenceState,\n    newState: RawPresenceState | RealtimePresenceState,\n    onJoin: PresenceOnJoinCallback,\n    onLeave: PresenceOnLeaveCallback\n  ): RealtimePresenceState {\n    const state = this.cloneDeep(currentState)\n    const transformedState = this.transformState(newState)\n    const joins: RealtimePresenceState = {}\n    const leaves: RealtimePresenceState = {}\n\n    this.map(state, (key: string, presences: Presence[]) => {\n      if (!transformedState[key]) {\n        leaves[key] = presences\n      }\n    })\n\n    this.map(transformedState, (key, newPresences: Presence[]) => {\n      const currentPresences: Presence[] = state[key]\n\n      if (currentPresences) {\n        const newPresenceRefs = newPresences.map((m: Presence) => m.presence_ref)\n        const curPresenceRefs = currentPresences.map((m: Presence) => m.presence_ref)\n        const joinedPresences: Presence[] = newPresences.filter(\n          (m: Presence) => curPresenceRefs.indexOf(m.presence_ref) < 0\n        )\n        const leftPresences: Presence[] = currentPresences.filter(\n          (m: Presence) => newPresenceRefs.indexOf(m.presence_ref) < 0\n        )\n\n        if (joinedPresences.length > 0) {\n          joins[key] = joinedPresences\n        }\n\n        if (leftPresences.length > 0) {\n          leaves[key] = leftPresences\n        }\n      } else {\n        joins[key] = newPresences\n      }\n    })\n\n    return this.syncDiff(state, { joins, leaves }, onJoin, onLeave)\n  }\n\n  /**\n   * Used to sync a diff of presence join and leave events from the\n   * server, as they happen.\n   *\n   * Like `syncState`, `syncDiff` accepts optional `onJoin` and\n   * `onLeave` callbacks to react to a user joining or leaving from a\n   * device.\n   *\n   * @internal\n   */\n  private static syncDiff(\n    state: RealtimePresenceState,\n    diff: RawPresenceDiff | PresenceDiff,\n    onJoin: PresenceOnJoinCallback,\n    onLeave: PresenceOnLeaveCallback\n  ): RealtimePresenceState {\n    const { joins, leaves } = {\n      joins: this.transformState(diff.joins),\n      leaves: this.transformState(diff.leaves),\n    }\n\n    if (!onJoin) {\n      onJoin = () => {}\n    }\n\n    if (!onLeave) {\n      onLeave = () => {}\n    }\n\n    this.map(joins, (key, newPresences: Presence[]) => {\n      const currentPresences: Presence[] = state[key] ?? []\n      state[key] = this.cloneDeep(newPresences)\n\n      if (currentPresences.length > 0) {\n        const joinedPresenceRefs = state[key].map((m: Presence) => m.presence_ref)\n        const curPresences: Presence[] = currentPresences.filter(\n          (m: Presence) => joinedPresenceRefs.indexOf(m.presence_ref) < 0\n        )\n\n        state[key].unshift(...curPresences)\n      }\n\n      onJoin(key, currentPresences, newPresences)\n    })\n\n    this.map(leaves, (key, leftPresences: Presence[]) => {\n      let currentPresences: Presence[] = state[key]\n\n      if (!currentPresences) return\n\n      const presenceRefsToRemove = leftPresences.map((m: Presence) => m.presence_ref)\n      currentPresences = currentPresences.filter(\n        (m: Presence) => presenceRefsToRemove.indexOf(m.presence_ref) < 0\n      )\n\n      state[key] = currentPresences\n\n      onLeave(key, currentPresences, leftPresences)\n\n      if (currentPresences.length === 0) delete state[key]\n    })\n\n    return state\n  }\n\n  /** @internal */\n  private static map<T = any>(obj: RealtimePresenceState, func: PresenceChooser<T>): T[] {\n    return Object.getOwnPropertyNames(obj).map((key) => func(key, obj[key]))\n  }\n\n  /**\n   * Remove 'metas' key\n   * Change 'phx_ref' to 'presence_ref'\n   * Remove 'phx_ref' and 'phx_ref_prev'\n   *\n   * @example\n   * // returns {\n   *  abc123: [\n   *    { presence_ref: '2', user_id: 1 },\n   *    { presence_ref: '3', user_id: 2 }\n   *  ]\n   * }\n   * RealtimePresence.transformState({\n   *  abc123: {\n   *    metas: [\n   *      { phx_ref: '2', phx_ref_prev: '1' user_id: 1 },\n   *      { phx_ref: '3', user_id: 2 }\n   *    ]\n   *  }\n   * })\n   *\n   * @internal\n   */\n  private static transformState(\n    state: RawPresenceState | RealtimePresenceState\n  ): RealtimePresenceState {\n    state = this.cloneDeep(state)\n\n    return Object.getOwnPropertyNames(state).reduce((newState, key) => {\n      const presences = state[key]\n\n      if ('metas' in presences) {\n        newState[key] = presences.metas.map((presence) => {\n          presence['presence_ref'] = presence['phx_ref']\n\n          delete presence['phx_ref']\n          delete presence['phx_ref_prev']\n\n          return presence\n        }) as Presence[]\n      } else {\n        newState[key] = presences\n      }\n\n      return newState\n    }, {} as RealtimePresenceState)\n  }\n\n  /** @internal */\n  private static cloneDeep(obj: { [key: string]: any }) {\n    return JSON.parse(JSON.stringify(obj))\n  }\n\n  /** @internal */\n  private onJoin(callback: PresenceOnJoinCallback): void {\n    this.caller.onJoin = callback\n  }\n\n  /** @internal */\n  private onLeave(callback: PresenceOnLeaveCallback): void {\n    this.caller.onLeave = callback\n  }\n\n  /** @internal */\n  private onSync(callback: () => void): void {\n    this.caller.onSync = callback\n  }\n\n  /** @internal */\n  private inPendingSyncState(): boolean {\n    return !this.joinRef || this.joinRef !== this.channel._joinRef()\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1177, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@supabase/realtime-js/dist/module/RealtimeChannel.js","sources":["file:///Users/remyngwanyam/Desktop/transapp/transapp-user-master/node_modules/%40supabase/realtime-js/src/RealtimeChannel.ts"],"sourcesContent":["import { CHANNEL_EVENTS, CHANNEL_STATES, MAX_PUSH_BUFFER_SIZE } from './lib/constants'\nimport Push from './lib/push'\nimport type RealtimeClient from './RealtimeClient'\nimport Timer from './lib/timer'\nimport RealtimePresence, { REALTIME_PRESENCE_LISTEN_EVENTS } from './RealtimePresence'\nimport type {\n  RealtimePresenceJoinPayload,\n  RealtimePresenceLeavePayload,\n  RealtimePresenceState,\n} from './RealtimePresence'\nimport * as Transformers from './lib/transformers'\nimport { httpEndpointURL } from './lib/transformers'\n\ntype ReplayOption = {\n  since: number\n  limit?: number\n}\n\nexport type RealtimeChannelOptions = {\n  config: {\n    /**\n     * self option enables client to receive message it broadcast\n     * ack option instructs server to acknowledge that broadcast message was received\n     * replay option instructs server to replay broadcast messages\n     */\n    broadcast?: { self?: boolean; ack?: boolean; replay?: ReplayOption }\n    /**\n     * key option is used to track presence payload across clients\n     */\n    presence?: { key?: string; enabled?: boolean }\n    /**\n     * defines if the channel is private or not and if RLS policies will be used to check data\n     */\n    private?: boolean\n  }\n}\n\ntype RealtimeChangesPayloadBase = {\n  schema: string\n  table: string\n}\n\ntype RealtimeBroadcastChangesPayloadBase = RealtimeChangesPayloadBase & {\n  id: string\n}\n\nexport type RealtimeBroadcastInsertPayload<T extends { [key: string]: any }> =\n  RealtimeBroadcastChangesPayloadBase & {\n    operation: `${REALTIME_POSTGRES_CHANGES_LISTEN_EVENT.INSERT}`\n    record: T\n    old_record: null\n  }\n\nexport type RealtimeBroadcastUpdatePayload<T extends { [key: string]: any }> =\n  RealtimeBroadcastChangesPayloadBase & {\n    operation: `${REALTIME_POSTGRES_CHANGES_LISTEN_EVENT.UPDATE}`\n    record: T\n    old_record: T\n  }\n\nexport type RealtimeBroadcastDeletePayload<T extends { [key: string]: any }> =\n  RealtimeBroadcastChangesPayloadBase & {\n    operation: `${REALTIME_POSTGRES_CHANGES_LISTEN_EVENT.DELETE}`\n    record: null\n    old_record: T\n  }\n\nexport type RealtimeBroadcastPayload<T extends { [key: string]: any }> =\n  | RealtimeBroadcastInsertPayload<T>\n  | RealtimeBroadcastUpdatePayload<T>\n  | RealtimeBroadcastDeletePayload<T>\n\ntype RealtimePostgresChangesPayloadBase = {\n  schema: string\n  table: string\n  commit_timestamp: string\n  errors: string[]\n}\n\nexport type RealtimePostgresInsertPayload<T extends { [key: string]: any }> =\n  RealtimePostgresChangesPayloadBase & {\n    eventType: `${REALTIME_POSTGRES_CHANGES_LISTEN_EVENT.INSERT}`\n    new: T\n    old: {}\n  }\n\nexport type RealtimePostgresUpdatePayload<T extends { [key: string]: any }> =\n  RealtimePostgresChangesPayloadBase & {\n    eventType: `${REALTIME_POSTGRES_CHANGES_LISTEN_EVENT.UPDATE}`\n    new: T\n    old: Partial<T>\n  }\n\nexport type RealtimePostgresDeletePayload<T extends { [key: string]: any }> =\n  RealtimePostgresChangesPayloadBase & {\n    eventType: `${REALTIME_POSTGRES_CHANGES_LISTEN_EVENT.DELETE}`\n    new: {}\n    old: Partial<T>\n  }\n\nexport type RealtimePostgresChangesPayload<T extends { [key: string]: any }> =\n  | RealtimePostgresInsertPayload<T>\n  | RealtimePostgresUpdatePayload<T>\n  | RealtimePostgresDeletePayload<T>\n\nexport type RealtimePostgresChangesFilter<T extends `${REALTIME_POSTGRES_CHANGES_LISTEN_EVENT}`> = {\n  /**\n   * The type of database change to listen to.\n   */\n  event: T\n  /**\n   * The database schema to listen to.\n   */\n  schema: string\n  /**\n   * The database table to listen to.\n   */\n  table?: string\n  /**\n   * Receive database changes when filter is matched.\n   */\n  filter?: string\n}\n\nexport type RealtimeChannelSendResponse = 'ok' | 'timed out' | 'error'\n\nexport enum REALTIME_POSTGRES_CHANGES_LISTEN_EVENT {\n  ALL = '*',\n  INSERT = 'INSERT',\n  UPDATE = 'UPDATE',\n  DELETE = 'DELETE',\n}\n\nexport enum REALTIME_LISTEN_TYPES {\n  BROADCAST = 'broadcast',\n  PRESENCE = 'presence',\n  POSTGRES_CHANGES = 'postgres_changes',\n  SYSTEM = 'system',\n}\n\nexport enum REALTIME_SUBSCRIBE_STATES {\n  SUBSCRIBED = 'SUBSCRIBED',\n  TIMED_OUT = 'TIMED_OUT',\n  CLOSED = 'CLOSED',\n  CHANNEL_ERROR = 'CHANNEL_ERROR',\n}\n\nexport const REALTIME_CHANNEL_STATES = CHANNEL_STATES\n\ninterface PostgresChangesFilters {\n  postgres_changes: {\n    id: string\n    event: string\n    schema?: string\n    table?: string\n    filter?: string\n  }[]\n}\n/** A channel is the basic building block of Realtime\n * and narrows the scope of data flow to subscribed clients.\n * You can think of a channel as a chatroom where participants are able to see who's online\n * and send and receive messages.\n */\nexport default class RealtimeChannel {\n  bindings: {\n    [key: string]: {\n      type: string\n      filter: { [key: string]: any }\n      callback: Function\n      id?: string\n    }[]\n  } = {}\n  timeout: number\n  state: CHANNEL_STATES = CHANNEL_STATES.closed\n  joinedOnce = false\n  joinPush: Push\n  rejoinTimer: Timer\n  pushBuffer: Push[] = []\n  presence: RealtimePresence\n  broadcastEndpointURL: string\n  subTopic: string\n  private: boolean\n\n  /**\n   * Creates a channel that can broadcast messages, sync presence, and listen to Postgres changes.\n   *\n   * The topic determines which realtime stream you are subscribing to. Config options let you\n   * enable acknowledgement for broadcasts, presence tracking, or private channels.\n   *\n   * @example\n   * ```ts\n   * import RealtimeClient from '@supabase/realtime-js'\n   *\n   * const client = new RealtimeClient('https://xyzcompany.supabase.co/realtime/v1', {\n   *   params: { apikey: 'public-anon-key' },\n   * })\n   * const channel = new RealtimeChannel('realtime:public:messages', { config: {} }, client)\n   * ```\n   */\n  constructor(\n    /** Topic name can be any string. */\n    public topic: string,\n    public params: RealtimeChannelOptions = { config: {} },\n    public socket: RealtimeClient\n  ) {\n    this.subTopic = topic.replace(/^realtime:/i, '')\n    this.params.config = {\n      ...{\n        broadcast: { ack: false, self: false },\n        presence: { key: '', enabled: false },\n        private: false,\n      },\n      ...params.config,\n    }\n    this.timeout = this.socket.timeout\n    this.joinPush = new Push(this, CHANNEL_EVENTS.join, this.params, this.timeout)\n    this.rejoinTimer = new Timer(() => this._rejoinUntilConnected(), this.socket.reconnectAfterMs)\n    this.joinPush.receive('ok', () => {\n      this.state = CHANNEL_STATES.joined\n      this.rejoinTimer.reset()\n      this.pushBuffer.forEach((pushEvent: Push) => pushEvent.send())\n      this.pushBuffer = []\n    })\n    this._onClose(() => {\n      this.rejoinTimer.reset()\n      this.socket.log('channel', `close ${this.topic} ${this._joinRef()}`)\n      this.state = CHANNEL_STATES.closed\n      this.socket._remove(this)\n    })\n    this._onError((reason: string) => {\n      if (this._isLeaving() || this._isClosed()) {\n        return\n      }\n      this.socket.log('channel', `error ${this.topic}`, reason)\n      this.state = CHANNEL_STATES.errored\n      this.rejoinTimer.scheduleTimeout()\n    })\n    this.joinPush.receive('timeout', () => {\n      if (!this._isJoining()) {\n        return\n      }\n      this.socket.log('channel', `timeout ${this.topic}`, this.joinPush.timeout)\n      this.state = CHANNEL_STATES.errored\n      this.rejoinTimer.scheduleTimeout()\n    })\n\n    this.joinPush.receive('error', (reason: any) => {\n      if (this._isLeaving() || this._isClosed()) {\n        return\n      }\n      this.socket.log('channel', `error ${this.topic}`, reason)\n      this.state = CHANNEL_STATES.errored\n      this.rejoinTimer.scheduleTimeout()\n    })\n    this._on(CHANNEL_EVENTS.reply, {}, (payload: any, ref: string) => {\n      this._trigger(this._replyEventName(ref), payload)\n    })\n\n    this.presence = new RealtimePresence(this)\n\n    this.broadcastEndpointURL = httpEndpointURL(this.socket.endPoint)\n    this.private = this.params.config.private || false\n\n    if (!this.private && this.params.config?.broadcast?.replay) {\n      throw `tried to use replay on public channel '${this.topic}'. It must be a private channel.`\n    }\n  }\n\n  /** Subscribe registers your client with the server */\n  subscribe(\n    callback?: (status: REALTIME_SUBSCRIBE_STATES, err?: Error) => void,\n    timeout = this.timeout\n  ): RealtimeChannel {\n    if (!this.socket.isConnected()) {\n      this.socket.connect()\n    }\n    if (this.state == CHANNEL_STATES.closed) {\n      const {\n        config: { broadcast, presence, private: isPrivate },\n      } = this.params\n\n      const postgres_changes = this.bindings.postgres_changes?.map((r) => r.filter) ?? []\n\n      const presence_enabled =\n        (!!this.bindings[REALTIME_LISTEN_TYPES.PRESENCE] &&\n          this.bindings[REALTIME_LISTEN_TYPES.PRESENCE].length > 0) ||\n        this.params.config.presence?.enabled === true\n      const accessTokenPayload: { access_token?: string } = {}\n      const config = {\n        broadcast,\n        presence: { ...presence, enabled: presence_enabled },\n        postgres_changes,\n        private: isPrivate,\n      }\n\n      if (this.socket.accessTokenValue) {\n        accessTokenPayload.access_token = this.socket.accessTokenValue\n      }\n\n      this._onError((e: Error) => callback?.(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR, e))\n\n      this._onClose(() => callback?.(REALTIME_SUBSCRIBE_STATES.CLOSED))\n\n      this.updateJoinPayload({ ...{ config }, ...accessTokenPayload })\n\n      this.joinedOnce = true\n      this._rejoin(timeout)\n\n      this.joinPush\n        .receive('ok', async ({ postgres_changes }: PostgresChangesFilters) => {\n          // Only refresh auth if using callback-based tokens\n          if (!this.socket._isManualToken()) {\n            this.socket.setAuth()\n          }\n          if (postgres_changes === undefined) {\n            callback?.(REALTIME_SUBSCRIBE_STATES.SUBSCRIBED)\n            return\n          } else {\n            const clientPostgresBindings = this.bindings.postgres_changes\n            const bindingsLen = clientPostgresBindings?.length ?? 0\n            const newPostgresBindings = []\n\n            for (let i = 0; i < bindingsLen; i++) {\n              const clientPostgresBinding = clientPostgresBindings[i]\n              const {\n                filter: { event, schema, table, filter },\n              } = clientPostgresBinding\n              const serverPostgresFilter = postgres_changes && postgres_changes[i]\n\n              if (\n                serverPostgresFilter &&\n                serverPostgresFilter.event === event &&\n                RealtimeChannel.isFilterValueEqual(serverPostgresFilter.schema, schema) &&\n                RealtimeChannel.isFilterValueEqual(serverPostgresFilter.table, table) &&\n                RealtimeChannel.isFilterValueEqual(serverPostgresFilter.filter, filter)\n              ) {\n                newPostgresBindings.push({\n                  ...clientPostgresBinding,\n                  id: serverPostgresFilter.id,\n                })\n              } else {\n                this.unsubscribe()\n                this.state = CHANNEL_STATES.errored\n\n                callback?.(\n                  REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR,\n                  new Error('mismatch between server and client bindings for postgres changes')\n                )\n                return\n              }\n            }\n\n            this.bindings.postgres_changes = newPostgresBindings\n\n            callback && callback(REALTIME_SUBSCRIBE_STATES.SUBSCRIBED)\n            return\n          }\n        })\n        .receive('error', (error: { [key: string]: any }) => {\n          this.state = CHANNEL_STATES.errored\n          callback?.(\n            REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR,\n            new Error(JSON.stringify(Object.values(error).join(', ') || 'error'))\n          )\n          return\n        })\n        .receive('timeout', () => {\n          callback?.(REALTIME_SUBSCRIBE_STATES.TIMED_OUT)\n          return\n        })\n    }\n    return this\n  }\n\n  /**\n   * Returns the current presence state for this channel.\n   *\n   * The shape is a map keyed by presence key (for example a user id) where each entry contains the\n   * tracked metadata for that user.\n   */\n  presenceState<T extends { [key: string]: any } = {}>(): RealtimePresenceState<T> {\n    return this.presence.state as RealtimePresenceState<T>\n  }\n\n  /**\n   * Sends the supplied payload to the presence tracker so other subscribers can see that this\n   * client is online. Use `untrack` to stop broadcasting presence for the same key.\n   */\n  async track(\n    payload: { [key: string]: any },\n    opts: { [key: string]: any } = {}\n  ): Promise<RealtimeChannelSendResponse> {\n    return await this.send(\n      {\n        type: 'presence',\n        event: 'track',\n        payload,\n      },\n      opts.timeout || this.timeout\n    )\n  }\n\n  /**\n   * Removes the current presence state for this client.\n   */\n  async untrack(opts: { [key: string]: any } = {}): Promise<RealtimeChannelSendResponse> {\n    return await this.send(\n      {\n        type: 'presence',\n        event: 'untrack',\n      },\n      opts\n    )\n  }\n\n  /**\n   * Creates an event handler that listens to changes.\n   */\n  on(\n    type: `${REALTIME_LISTEN_TYPES.PRESENCE}`,\n    filter: { event: `${REALTIME_PRESENCE_LISTEN_EVENTS.SYNC}` },\n    callback: () => void\n  ): RealtimeChannel\n  on<T extends { [key: string]: any }>(\n    type: `${REALTIME_LISTEN_TYPES.PRESENCE}`,\n    filter: { event: `${REALTIME_PRESENCE_LISTEN_EVENTS.JOIN}` },\n    callback: (payload: RealtimePresenceJoinPayload<T>) => void\n  ): RealtimeChannel\n  on<T extends { [key: string]: any }>(\n    type: `${REALTIME_LISTEN_TYPES.PRESENCE}`,\n    filter: { event: `${REALTIME_PRESENCE_LISTEN_EVENTS.LEAVE}` },\n    callback: (payload: RealtimePresenceLeavePayload<T>) => void\n  ): RealtimeChannel\n  on<T extends { [key: string]: any }>(\n    type: `${REALTIME_LISTEN_TYPES.POSTGRES_CHANGES}`,\n    filter: RealtimePostgresChangesFilter<`${REALTIME_POSTGRES_CHANGES_LISTEN_EVENT.ALL}`>,\n    callback: (payload: RealtimePostgresChangesPayload<T>) => void\n  ): RealtimeChannel\n  on<T extends { [key: string]: any }>(\n    type: `${REALTIME_LISTEN_TYPES.POSTGRES_CHANGES}`,\n    filter: RealtimePostgresChangesFilter<`${REALTIME_POSTGRES_CHANGES_LISTEN_EVENT.INSERT}`>,\n    callback: (payload: RealtimePostgresInsertPayload<T>) => void\n  ): RealtimeChannel\n  on<T extends { [key: string]: any }>(\n    type: `${REALTIME_LISTEN_TYPES.POSTGRES_CHANGES}`,\n    filter: RealtimePostgresChangesFilter<`${REALTIME_POSTGRES_CHANGES_LISTEN_EVENT.UPDATE}`>,\n    callback: (payload: RealtimePostgresUpdatePayload<T>) => void\n  ): RealtimeChannel\n  on<T extends { [key: string]: any }>(\n    type: `${REALTIME_LISTEN_TYPES.POSTGRES_CHANGES}`,\n    filter: RealtimePostgresChangesFilter<`${REALTIME_POSTGRES_CHANGES_LISTEN_EVENT.DELETE}`>,\n    callback: (payload: RealtimePostgresDeletePayload<T>) => void\n  ): RealtimeChannel\n  /**\n   * The following is placed here to display on supabase.com/docs/reference/javascript/subscribe.\n   * @param type One of \"broadcast\", \"presence\", or \"postgres_changes\".\n   * @param filter Custom object specific to the Realtime feature detailing which payloads to receive.\n   * @param callback Function to be invoked when event handler is triggered.\n   */\n  on(\n    type: `${REALTIME_LISTEN_TYPES.BROADCAST}`,\n    filter: { event: string },\n    callback: (payload: {\n      type: `${REALTIME_LISTEN_TYPES.BROADCAST}`\n      event: string\n      meta?: {\n        replayed?: boolean\n        id: string\n      }\n      [key: string]: any\n    }) => void\n  ): RealtimeChannel\n  on<T extends { [key: string]: any }>(\n    type: `${REALTIME_LISTEN_TYPES.BROADCAST}`,\n    filter: { event: string },\n    callback: (payload: {\n      type: `${REALTIME_LISTEN_TYPES.BROADCAST}`\n      event: string\n      meta?: {\n        replayed?: boolean\n        id: string\n      }\n      payload: T\n    }) => void\n  ): RealtimeChannel\n  on<T extends Record<string, unknown>>(\n    type: `${REALTIME_LISTEN_TYPES.BROADCAST}`,\n    filter: { event: REALTIME_POSTGRES_CHANGES_LISTEN_EVENT.ALL },\n    callback: (payload: {\n      type: `${REALTIME_LISTEN_TYPES.BROADCAST}`\n      event: REALTIME_POSTGRES_CHANGES_LISTEN_EVENT.ALL\n      payload: RealtimeBroadcastPayload<T>\n    }) => void\n  ): RealtimeChannel\n  on<T extends { [key: string]: any }>(\n    type: `${REALTIME_LISTEN_TYPES.BROADCAST}`,\n    filter: { event: REALTIME_POSTGRES_CHANGES_LISTEN_EVENT.INSERT },\n    callback: (payload: {\n      type: `${REALTIME_LISTEN_TYPES.BROADCAST}`\n      event: REALTIME_POSTGRES_CHANGES_LISTEN_EVENT.INSERT\n      payload: RealtimeBroadcastInsertPayload<T>\n    }) => void\n  ): RealtimeChannel\n  on<T extends { [key: string]: any }>(\n    type: `${REALTIME_LISTEN_TYPES.BROADCAST}`,\n    filter: { event: REALTIME_POSTGRES_CHANGES_LISTEN_EVENT.UPDATE },\n    callback: (payload: {\n      type: `${REALTIME_LISTEN_TYPES.BROADCAST}`\n      event: REALTIME_POSTGRES_CHANGES_LISTEN_EVENT.UPDATE\n      payload: RealtimeBroadcastUpdatePayload<T>\n    }) => void\n  ): RealtimeChannel\n  on<T extends { [key: string]: any }>(\n    type: `${REALTIME_LISTEN_TYPES.BROADCAST}`,\n    filter: { event: REALTIME_POSTGRES_CHANGES_LISTEN_EVENT.DELETE },\n    callback: (payload: {\n      type: `${REALTIME_LISTEN_TYPES.BROADCAST}`\n      event: REALTIME_POSTGRES_CHANGES_LISTEN_EVENT.DELETE\n      payload: RealtimeBroadcastDeletePayload<T>\n    }) => void\n  ): RealtimeChannel\n  on<T extends { [key: string]: any }>(\n    type: `${REALTIME_LISTEN_TYPES.SYSTEM}`,\n    filter: {},\n    callback: (payload: any) => void\n  ): RealtimeChannel\n  on(\n    type: `${REALTIME_LISTEN_TYPES}`,\n    filter: { event: string; [key: string]: string },\n    callback: (payload: any) => void\n  ): RealtimeChannel {\n    if (this.state === CHANNEL_STATES.joined && type === REALTIME_LISTEN_TYPES.PRESENCE) {\n      this.socket.log(\n        'channel',\n        `resubscribe to ${this.topic} due to change in presence callbacks on joined channel`\n      )\n      this.unsubscribe().then(async () => await this.subscribe())\n    }\n    return this._on(type, filter, callback)\n  }\n  /**\n   * Sends a broadcast message explicitly via REST API.\n   *\n   * This method always uses the REST API endpoint regardless of WebSocket connection state.\n   * Useful when you want to guarantee REST delivery or when gradually migrating from implicit REST fallback.\n   *\n   * @param event The name of the broadcast event\n   * @param payload Payload to be sent (required)\n   * @param opts Options including timeout\n   * @returns Promise resolving to object with success status, and error details if failed\n   */\n  async httpSend(\n    event: string,\n    payload: any,\n    opts: { timeout?: number } = {}\n  ): Promise<{ success: true } | { success: false; status: number; error: string }> {\n    const authorization = this.socket.accessTokenValue\n      ? `Bearer ${this.socket.accessTokenValue}`\n      : ''\n\n    if (payload === undefined || payload === null) {\n      return Promise.reject('Payload is required for httpSend()')\n    }\n\n    const options = {\n      method: 'POST',\n      headers: {\n        Authorization: authorization,\n        apikey: this.socket.apiKey ? this.socket.apiKey : '',\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        messages: [\n          {\n            topic: this.subTopic,\n            event,\n            payload: payload,\n            private: this.private,\n          },\n        ],\n      }),\n    }\n\n    const response = await this._fetchWithTimeout(\n      this.broadcastEndpointURL,\n      options,\n      opts.timeout ?? this.timeout\n    )\n\n    if (response.status === 202) {\n      return { success: true }\n    }\n\n    let errorMessage = response.statusText\n    try {\n      const errorBody = await response.json()\n      errorMessage = errorBody.error || errorBody.message || errorMessage\n    } catch {}\n\n    return Promise.reject(new Error(errorMessage))\n  }\n\n  /**\n   * Sends a message into the channel.\n   *\n   * @param args Arguments to send to channel\n   * @param args.type The type of event to send\n   * @param args.event The name of the event being sent\n   * @param args.payload Payload to be sent\n   * @param opts Options to be used during the send process\n   */\n  async send(\n    args: {\n      type: 'broadcast' | 'presence' | 'postgres_changes'\n      event: string\n      payload?: any\n      [key: string]: any\n    },\n    opts: { [key: string]: any } = {}\n  ): Promise<RealtimeChannelSendResponse> {\n    if (!this._canPush() && args.type === 'broadcast') {\n      console.warn(\n        'Realtime send() is automatically falling back to REST API. ' +\n          'This behavior will be deprecated in the future. ' +\n          'Please use httpSend() explicitly for REST delivery.'\n      )\n\n      const { event, payload: endpoint_payload } = args\n      const authorization = this.socket.accessTokenValue\n        ? `Bearer ${this.socket.accessTokenValue}`\n        : ''\n      const options = {\n        method: 'POST',\n        headers: {\n          Authorization: authorization,\n          apikey: this.socket.apiKey ? this.socket.apiKey : '',\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          messages: [\n            {\n              topic: this.subTopic,\n              event,\n              payload: endpoint_payload,\n              private: this.private,\n            },\n          ],\n        }),\n      }\n\n      try {\n        const response = await this._fetchWithTimeout(\n          this.broadcastEndpointURL,\n          options,\n          opts.timeout ?? this.timeout\n        )\n\n        await response.body?.cancel()\n        return response.ok ? 'ok' : 'error'\n      } catch (error: any) {\n        if (error.name === 'AbortError') {\n          return 'timed out'\n        } else {\n          return 'error'\n        }\n      }\n    } else {\n      return new Promise((resolve) => {\n        const push = this._push(args.type, args, opts.timeout || this.timeout)\n\n        if (args.type === 'broadcast' && !this.params?.config?.broadcast?.ack) {\n          resolve('ok')\n        }\n\n        push.receive('ok', () => resolve('ok'))\n        push.receive('error', () => resolve('error'))\n        push.receive('timeout', () => resolve('timed out'))\n      })\n    }\n  }\n\n  /**\n   * Updates the payload that will be sent the next time the channel joins (reconnects).\n   * Useful for rotating access tokens or updating config without re-creating the channel.\n   */\n  updateJoinPayload(payload: { [key: string]: any }): void {\n    this.joinPush.updatePayload(payload)\n  }\n\n  /**\n   * Leaves the channel.\n   *\n   * Unsubscribes from server events, and instructs channel to terminate on server.\n   * Triggers onClose() hooks.\n   *\n   * To receive leave acknowledgements, use the a `receive` hook to bind to the server ack, ie:\n   * channel.unsubscribe().receive(\"ok\", () => alert(\"left!\") )\n   */\n  unsubscribe(timeout = this.timeout): Promise<'ok' | 'timed out' | 'error'> {\n    this.state = CHANNEL_STATES.leaving\n    const onClose = () => {\n      this.socket.log('channel', `leave ${this.topic}`)\n      this._trigger(CHANNEL_EVENTS.close, 'leave', this._joinRef())\n    }\n\n    this.joinPush.destroy()\n\n    let leavePush: Push | null = null\n\n    return new Promise<RealtimeChannelSendResponse>((resolve) => {\n      leavePush = new Push(this, CHANNEL_EVENTS.leave, {}, timeout)\n      leavePush\n        .receive('ok', () => {\n          onClose()\n          resolve('ok')\n        })\n        .receive('timeout', () => {\n          onClose()\n          resolve('timed out')\n        })\n        .receive('error', () => {\n          resolve('error')\n        })\n\n      leavePush.send()\n      if (!this._canPush()) {\n        leavePush.trigger('ok', {})\n      }\n    }).finally(() => {\n      leavePush?.destroy()\n    })\n  }\n  /**\n   * Teardown the channel.\n   *\n   * Destroys and stops related timers.\n   */\n  teardown() {\n    this.pushBuffer.forEach((push: Push) => push.destroy())\n    this.pushBuffer = []\n    this.rejoinTimer.reset()\n    this.joinPush.destroy()\n    this.state = CHANNEL_STATES.closed\n    this.bindings = {}\n  }\n\n  /** @internal */\n\n  async _fetchWithTimeout(url: string, options: { [key: string]: any }, timeout: number) {\n    const controller = new AbortController()\n    const id = setTimeout(() => controller.abort(), timeout)\n\n    const response = await this.socket.fetch(url, {\n      ...options,\n      signal: controller.signal,\n    })\n\n    clearTimeout(id)\n\n    return response\n  }\n\n  /** @internal */\n  _push(event: string, payload: { [key: string]: any }, timeout = this.timeout) {\n    if (!this.joinedOnce) {\n      throw `tried to push '${event}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`\n    }\n    let pushEvent = new Push(this, event, payload, timeout)\n    if (this._canPush()) {\n      pushEvent.send()\n    } else {\n      this._addToPushBuffer(pushEvent)\n    }\n\n    return pushEvent\n  }\n\n  /** @internal */\n  _addToPushBuffer(pushEvent: Push) {\n    pushEvent.startTimeout()\n    this.pushBuffer.push(pushEvent)\n\n    // Enforce buffer size limit\n    if (this.pushBuffer.length > MAX_PUSH_BUFFER_SIZE) {\n      const removedPush = this.pushBuffer.shift()\n      if (removedPush) {\n        removedPush.destroy()\n        this.socket.log(\n          'channel',\n          `discarded push due to buffer overflow: ${removedPush.event}`,\n          removedPush.payload\n        )\n      }\n    }\n  }\n\n  /**\n   * Overridable message hook\n   *\n   * Receives all events for specialized message handling before dispatching to the channel callbacks.\n   * Must return the payload, modified or unmodified.\n   *\n   * @internal\n   */\n  _onMessage(_event: string, payload: any, _ref?: string) {\n    return payload\n  }\n\n  /** @internal */\n  _isMember(topic: string): boolean {\n    return this.topic === topic\n  }\n\n  /** @internal */\n  _joinRef(): string {\n    return this.joinPush.ref\n  }\n\n  /** @internal */\n  _trigger(type: string, payload?: any, ref?: string) {\n    const typeLower = type.toLocaleLowerCase()\n    const { close, error, leave, join } = CHANNEL_EVENTS\n    const events: string[] = [close, error, leave, join]\n    if (ref && events.indexOf(typeLower) >= 0 && ref !== this._joinRef()) {\n      return\n    }\n    let handledPayload = this._onMessage(typeLower, payload, ref)\n    if (payload && !handledPayload) {\n      throw 'channel onMessage callbacks must return the payload, modified or unmodified'\n    }\n\n    if (['insert', 'update', 'delete'].includes(typeLower)) {\n      this.bindings.postgres_changes\n        ?.filter((bind) => {\n          return bind.filter?.event === '*' || bind.filter?.event?.toLocaleLowerCase() === typeLower\n        })\n        .map((bind) => bind.callback(handledPayload, ref))\n    } else {\n      this.bindings[typeLower]\n        ?.filter((bind) => {\n          if (['broadcast', 'presence', 'postgres_changes'].includes(typeLower)) {\n            if ('id' in bind) {\n              const bindId = bind.id\n              const bindEvent = bind.filter?.event\n              return (\n                bindId &&\n                payload.ids?.includes(bindId) &&\n                (bindEvent === '*' ||\n                  bindEvent?.toLocaleLowerCase() === payload.data?.type.toLocaleLowerCase())\n              )\n            } else {\n              const bindEvent = bind?.filter?.event?.toLocaleLowerCase()\n              return bindEvent === '*' || bindEvent === payload?.event?.toLocaleLowerCase()\n            }\n          } else {\n            return bind.type.toLocaleLowerCase() === typeLower\n          }\n        })\n        .map((bind) => {\n          if (typeof handledPayload === 'object' && 'ids' in handledPayload) {\n            const postgresChanges = handledPayload.data\n            const { schema, table, commit_timestamp, type, errors } = postgresChanges\n            const enrichedPayload = {\n              schema: schema,\n              table: table,\n              commit_timestamp: commit_timestamp,\n              eventType: type,\n              new: {},\n              old: {},\n              errors: errors,\n            }\n            handledPayload = {\n              ...enrichedPayload,\n              ...this._getPayloadRecords(postgresChanges),\n            }\n          }\n          bind.callback(handledPayload, ref)\n        })\n    }\n  }\n\n  /** @internal */\n  _isClosed(): boolean {\n    return this.state === CHANNEL_STATES.closed\n  }\n\n  /** @internal */\n  _isJoined(): boolean {\n    return this.state === CHANNEL_STATES.joined\n  }\n\n  /** @internal */\n  _isJoining(): boolean {\n    return this.state === CHANNEL_STATES.joining\n  }\n\n  /** @internal */\n  _isLeaving(): boolean {\n    return this.state === CHANNEL_STATES.leaving\n  }\n\n  /** @internal */\n  _replyEventName(ref: string): string {\n    return `chan_reply_${ref}`\n  }\n\n  /** @internal */\n  _on(type: string, filter: { [key: string]: any }, callback: Function) {\n    const typeLower = type.toLocaleLowerCase()\n    const binding = {\n      type: typeLower,\n      filter: filter,\n      callback: callback,\n    }\n\n    if (this.bindings[typeLower]) {\n      this.bindings[typeLower].push(binding)\n    } else {\n      this.bindings[typeLower] = [binding]\n    }\n\n    return this\n  }\n\n  /** @internal */\n  _off(type: string, filter: { [key: string]: any }) {\n    const typeLower = type.toLocaleLowerCase()\n\n    if (this.bindings[typeLower]) {\n      this.bindings[typeLower] = this.bindings[typeLower].filter((bind) => {\n        return !(\n          bind.type?.toLocaleLowerCase() === typeLower &&\n          RealtimeChannel.isEqual(bind.filter, filter)\n        )\n      })\n    }\n    return this\n  }\n\n  /** @internal */\n  private static isEqual(obj1: { [key: string]: string }, obj2: { [key: string]: string }) {\n    if (Object.keys(obj1).length !== Object.keys(obj2).length) {\n      return false\n    }\n\n    for (const k in obj1) {\n      if (obj1[k] !== obj2[k]) {\n        return false\n      }\n    }\n\n    return true\n  }\n\n  /**\n   * Compares two optional filter values for equality.\n   * Treats undefined, null, and empty string as equivalent empty values.\n   * @internal\n   */\n  private static isFilterValueEqual(\n    serverValue: string | undefined | null,\n    clientValue: string | undefined\n  ): boolean {\n    const normalizedServer = serverValue ?? undefined\n    const normalizedClient = clientValue ?? undefined\n    return normalizedServer === normalizedClient\n  }\n\n  /** @internal */\n  private _rejoinUntilConnected() {\n    this.rejoinTimer.scheduleTimeout()\n    if (this.socket.isConnected()) {\n      this._rejoin()\n    }\n  }\n\n  /**\n   * Registers a callback that will be executed when the channel closes.\n   *\n   * @internal\n   */\n  private _onClose(callback: Function) {\n    this._on(CHANNEL_EVENTS.close, {}, callback)\n  }\n\n  /**\n   * Registers a callback that will be executed when the channel encounteres an error.\n   *\n   * @internal\n   */\n  private _onError(callback: Function) {\n    this._on(CHANNEL_EVENTS.error, {}, (reason: string) => callback(reason))\n  }\n\n  /**\n   * Returns `true` if the socket is connected and the channel has been joined.\n   *\n   * @internal\n   */\n  private _canPush(): boolean {\n    return this.socket.isConnected() && this._isJoined()\n  }\n\n  /** @internal */\n  private _rejoin(timeout = this.timeout): void {\n    if (this._isLeaving()) {\n      return\n    }\n    this.socket._leaveOpenTopic(this.topic)\n    this.state = CHANNEL_STATES.joining\n    this.joinPush.resend(timeout)\n  }\n\n  /** @internal */\n  private _getPayloadRecords(payload: any) {\n    const records = {\n      new: {},\n      old: {},\n    }\n\n    if (payload.type === 'INSERT' || payload.type === 'UPDATE') {\n      records.new = Transformers.convertChangeData(payload.columns, payload.record)\n    }\n\n    if (payload.type === 'UPDATE' || payload.type === 'DELETE') {\n      records.old = Transformers.convertChangeData(payload.columns, payload.old_record)\n    }\n\n    return records\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2109, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@supabase/realtime-js/dist/module/RealtimeClient.js","sources":["file:///Users/remyngwanyam/Desktop/transapp/transapp-user-master/node_modules/%40supabase/realtime-js/src/RealtimeClient.ts"],"sourcesContent":["import WebSocketFactory, { WebSocketLike } from './lib/websocket-factory'\n\nimport {\n  CHANNEL_EVENTS,\n  CONNECTION_STATE,\n  DEFAULT_VERSION,\n  DEFAULT_TIMEOUT,\n  SOCKET_STATES,\n  TRANSPORTS,\n  DEFAULT_VSN,\n  VSN_1_0_0,\n  VSN_2_0_0,\n  WS_CLOSE_NORMAL,\n} from './lib/constants'\n\nimport Serializer from './lib/serializer'\nimport Timer from './lib/timer'\n\nimport { httpEndpointURL } from './lib/transformers'\nimport RealtimeChannel from './RealtimeChannel'\nimport type { RealtimeChannelOptions } from './RealtimeChannel'\n\ntype Fetch = typeof fetch\n\nexport type Channel = {\n  name: string\n  inserted_at: string\n  updated_at: string\n  id: number\n}\nexport type LogLevel = 'info' | 'warn' | 'error'\n\nexport type RealtimeMessage = {\n  topic: string\n  event: string\n  payload: any\n  ref: string\n  join_ref?: string\n}\n\nexport type RealtimeRemoveChannelResponse = 'ok' | 'timed out' | 'error'\nexport type HeartbeatStatus = 'sent' | 'ok' | 'error' | 'timeout' | 'disconnected'\n\nconst noop = () => {}\n\ntype RealtimeClientState = 'connecting' | 'connected' | 'disconnecting' | 'disconnected'\n\n// Connection-related constants\nconst CONNECTION_TIMEOUTS = {\n  HEARTBEAT_INTERVAL: 25000,\n  RECONNECT_DELAY: 10,\n  HEARTBEAT_TIMEOUT_FALLBACK: 100,\n} as const\n\nconst RECONNECT_INTERVALS = [1000, 2000, 5000, 10000] as const\nconst DEFAULT_RECONNECT_FALLBACK = 10000\n\n/**\n * Minimal WebSocket constructor interface that RealtimeClient can work with.\n * Supply a compatible implementation (native WebSocket, `ws`, etc) when running outside the browser.\n */\nexport interface WebSocketLikeConstructor {\n  new (address: string | URL, subprotocols?: string | string[] | undefined): WebSocketLike\n  // Allow additional properties that may exist on WebSocket constructors\n  [key: string]: any\n}\n\nexport interface WebSocketLikeError {\n  error: any\n  message: string\n  type: string\n}\n\nexport type RealtimeClientOptions = {\n  transport?: WebSocketLikeConstructor\n  timeout?: number\n  heartbeatIntervalMs?: number\n  heartbeatCallback?: (status: HeartbeatStatus) => void\n  vsn?: string\n  logger?: Function\n  encode?: Function\n  decode?: Function\n  reconnectAfterMs?: Function\n  headers?: { [key: string]: string }\n  params?: { [key: string]: any }\n  //Deprecated: Use it in favour of correct casing `logLevel`\n  log_level?: LogLevel\n  logLevel?: LogLevel\n  fetch?: Fetch\n  worker?: boolean\n  workerUrl?: string\n  accessToken?: () => Promise<string | null>\n}\n\nconst WORKER_SCRIPT = `\n  addEventListener(\"message\", (e) => {\n    if (e.data.event === \"start\") {\n      setInterval(() => postMessage({ event: \"keepAlive\" }), e.data.interval);\n    }\n  });`\n\nexport default class RealtimeClient {\n  accessTokenValue: string | null = null\n  apiKey: string | null = null\n  private _manuallySetToken: boolean = false\n  channels: RealtimeChannel[] = new Array()\n  endPoint: string = ''\n  httpEndpoint: string = ''\n  /** @deprecated headers cannot be set on websocket connections */\n  headers?: { [key: string]: string } = {}\n  params?: { [key: string]: string } = {}\n  timeout: number = DEFAULT_TIMEOUT\n  transport: WebSocketLikeConstructor | null = null\n  heartbeatIntervalMs: number = CONNECTION_TIMEOUTS.HEARTBEAT_INTERVAL\n  heartbeatTimer: ReturnType<typeof setInterval> | undefined = undefined\n  pendingHeartbeatRef: string | null = null\n  heartbeatCallback: (status: HeartbeatStatus) => void = noop\n  ref: number = 0\n  reconnectTimer: Timer | null = null\n  vsn: string = DEFAULT_VSN\n  logger: Function = noop\n  logLevel?: LogLevel\n  encode!: Function\n  decode!: Function\n  reconnectAfterMs!: Function\n  conn: WebSocketLike | null = null\n  sendBuffer: Function[] = []\n  serializer: Serializer = new Serializer()\n  stateChangeCallbacks: {\n    open: Function[]\n    close: Function[]\n    error: Function[]\n    message: Function[]\n  } = {\n    open: [],\n    close: [],\n    error: [],\n    message: [],\n  }\n  fetch: Fetch\n  accessToken: (() => Promise<string | null>) | null = null\n  worker?: boolean\n  workerUrl?: string\n  workerRef?: Worker\n  private _connectionState: RealtimeClientState = 'disconnected'\n  private _wasManualDisconnect: boolean = false\n  private _authPromise: Promise<void> | null = null\n\n  /**\n   * Initializes the Socket.\n   *\n   * @param endPoint The string WebSocket endpoint, ie, \"ws://example.com/socket\", \"wss://example.com\", \"/socket\" (inherited host & protocol)\n   * @param httpEndpoint The string HTTP endpoint, ie, \"https://example.com\", \"/\" (inherited host & protocol)\n   * @param options.transport The Websocket Transport, for example WebSocket. This can be a custom implementation\n   * @param options.timeout The default timeout in milliseconds to trigger push timeouts.\n   * @param options.params The optional params to pass when connecting.\n   * @param options.headers Deprecated: headers cannot be set on websocket connections and this option will be removed in the future.\n   * @param options.heartbeatIntervalMs The millisec interval to send a heartbeat message.\n   * @param options.heartbeatCallback The optional function to handle heartbeat status.\n   * @param options.logger The optional function for specialized logging, ie: logger: (kind, msg, data) => { console.log(`${kind}: ${msg}`, data) }\n   * @param options.logLevel Sets the log level for Realtime\n   * @param options.encode The function to encode outgoing messages. Defaults to JSON: (payload, callback) => callback(JSON.stringify(payload))\n   * @param options.decode The function to decode incoming messages. Defaults to Serializer's decode.\n   * @param options.reconnectAfterMs he optional function that returns the millsec reconnect interval. Defaults to stepped backoff off.\n   * @param options.worker Use Web Worker to set a side flow. Defaults to false.\n   * @param options.workerUrl The URL of the worker script. Defaults to https://realtime.supabase.com/worker.js that includes a heartbeat event call to keep the connection alive.\n   * @example\n   * ```ts\n   * import RealtimeClient from '@supabase/realtime-js'\n   *\n   * const client = new RealtimeClient('https://xyzcompany.supabase.co/realtime/v1', {\n   *   params: { apikey: 'public-anon-key' },\n   * })\n   * client.connect()\n   * ```\n   */\n  constructor(endPoint: string, options?: RealtimeClientOptions) {\n    // Validate required parameters\n    if (!options?.params?.apikey) {\n      throw new Error('API key is required to connect to Realtime')\n    }\n    this.apiKey = options.params.apikey\n\n    // Initialize endpoint URLs\n    this.endPoint = `${endPoint}/${TRANSPORTS.websocket}`\n    this.httpEndpoint = httpEndpointURL(endPoint)\n\n    this._initializeOptions(options)\n    this._setupReconnectionTimer()\n    this.fetch = this._resolveFetch(options?.fetch)\n  }\n\n  /**\n   * Connects the socket, unless already connected.\n   */\n  connect(): void {\n    // Skip if already connecting, disconnecting, or connected\n    if (\n      this.isConnecting() ||\n      this.isDisconnecting() ||\n      (this.conn !== null && this.isConnected())\n    ) {\n      return\n    }\n\n    this._setConnectionState('connecting')\n\n    // Trigger auth if needed and not already in progress\n    // This ensures auth is called for standalone RealtimeClient usage\n    // while avoiding race conditions with SupabaseClient's immediate setAuth call\n    if (this.accessToken && !this._authPromise) {\n      this._setAuthSafely('connect')\n    }\n\n    // Establish WebSocket connection\n    if (this.transport) {\n      // Use custom transport if provided\n      this.conn = new this.transport(this.endpointURL()) as WebSocketLike\n    } else {\n      // Try to use native WebSocket\n      try {\n        this.conn = WebSocketFactory.createWebSocket(this.endpointURL())\n      } catch (error) {\n        this._setConnectionState('disconnected')\n        const errorMessage = (error as Error).message\n\n        // Provide helpful error message based on environment\n        if (errorMessage.includes('Node.js')) {\n          throw new Error(\n            `${errorMessage}\\n\\n` +\n              'To use Realtime in Node.js, you need to provide a WebSocket implementation:\\n\\n' +\n              'Option 1: Use Node.js 22+ which has native WebSocket support\\n' +\n              'Option 2: Install and provide the \"ws\" package:\\n\\n' +\n              '  npm install ws\\n\\n' +\n              '  import ws from \"ws\"\\n' +\n              '  const client = new RealtimeClient(url, {\\n' +\n              '    ...options,\\n' +\n              '    transport: ws\\n' +\n              '  })'\n          )\n        }\n        throw new Error(`WebSocket not available: ${errorMessage}`)\n      }\n    }\n    this._setupConnectionHandlers()\n  }\n\n  /**\n   * Returns the URL of the websocket.\n   * @returns string The URL of the websocket.\n   */\n  endpointURL(): string {\n    return this._appendParams(this.endPoint, Object.assign({}, this.params, { vsn: this.vsn }))\n  }\n\n  /**\n   * Disconnects the socket.\n   *\n   * @param code A numeric status code to send on disconnect.\n   * @param reason A custom reason for the disconnect.\n   */\n  disconnect(code?: number, reason?: string): void {\n    if (this.isDisconnecting()) {\n      return\n    }\n\n    this._setConnectionState('disconnecting', true)\n\n    if (this.conn) {\n      // Setup fallback timer to prevent hanging in disconnecting state\n      const fallbackTimer = setTimeout(() => {\n        this._setConnectionState('disconnected')\n      }, 100)\n\n      this.conn.onclose = () => {\n        clearTimeout(fallbackTimer)\n        this._setConnectionState('disconnected')\n      }\n\n      // Close the WebSocket connection if close method exists\n      if (typeof this.conn.close === 'function') {\n        if (code) {\n          this.conn.close(code, reason ?? '')\n        } else {\n          this.conn.close()\n        }\n      }\n\n      this._teardownConnection()\n    } else {\n      this._setConnectionState('disconnected')\n    }\n  }\n\n  /**\n   * Returns all created channels\n   */\n  getChannels(): RealtimeChannel[] {\n    return this.channels\n  }\n\n  /**\n   * Unsubscribes and removes a single channel\n   * @param channel A RealtimeChannel instance\n   */\n  async removeChannel(channel: RealtimeChannel): Promise<RealtimeRemoveChannelResponse> {\n    const status = await channel.unsubscribe()\n\n    if (this.channels.length === 0) {\n      this.disconnect()\n    }\n\n    return status\n  }\n\n  /**\n   * Unsubscribes and removes all channels\n   */\n  async removeAllChannels(): Promise<RealtimeRemoveChannelResponse[]> {\n    const values_1 = await Promise.all(this.channels.map((channel) => channel.unsubscribe()))\n    this.channels = []\n    this.disconnect()\n    return values_1\n  }\n\n  /**\n   * Logs the message.\n   *\n   * For customized logging, `this.logger` can be overridden.\n   */\n  log(kind: string, msg: string, data?: any) {\n    this.logger(kind, msg, data)\n  }\n\n  /**\n   * Returns the current state of the socket.\n   */\n  connectionState(): CONNECTION_STATE {\n    switch (this.conn && this.conn.readyState) {\n      case SOCKET_STATES.connecting:\n        return CONNECTION_STATE.Connecting\n      case SOCKET_STATES.open:\n        return CONNECTION_STATE.Open\n      case SOCKET_STATES.closing:\n        return CONNECTION_STATE.Closing\n      default:\n        return CONNECTION_STATE.Closed\n    }\n  }\n\n  /**\n   * Returns `true` is the connection is open.\n   */\n  isConnected(): boolean {\n    return this.connectionState() === CONNECTION_STATE.Open\n  }\n\n  /**\n   * Returns `true` if the connection is currently connecting.\n   */\n  isConnecting(): boolean {\n    return this._connectionState === 'connecting'\n  }\n\n  /**\n   * Returns `true` if the connection is currently disconnecting.\n   */\n  isDisconnecting(): boolean {\n    return this._connectionState === 'disconnecting'\n  }\n\n  /**\n   * Creates (or reuses) a {@link RealtimeChannel} for the provided topic.\n   *\n   * Topics are automatically prefixed with `realtime:` to match the Realtime service.\n   * If a channel with the same topic already exists it will be returned instead of creating\n   * a duplicate connection.\n   */\n  channel(topic: string, params: RealtimeChannelOptions = { config: {} }): RealtimeChannel {\n    const realtimeTopic = `realtime:${topic}`\n    const exists = this.getChannels().find((c: RealtimeChannel) => c.topic === realtimeTopic)\n\n    if (!exists) {\n      const chan = new RealtimeChannel(`realtime:${topic}`, params, this)\n      this.channels.push(chan)\n\n      return chan\n    } else {\n      return exists\n    }\n  }\n\n  /**\n   * Push out a message if the socket is connected.\n   *\n   * If the socket is not connected, the message gets enqueued within a local buffer, and sent out when a connection is next established.\n   */\n  push(data: RealtimeMessage): void {\n    const { topic, event, payload, ref } = data\n    const callback = () => {\n      this.encode(data, (result: any) => {\n        this.conn?.send(result)\n      })\n    }\n    this.log('push', `${topic} ${event} (${ref})`, payload)\n    if (this.isConnected()) {\n      callback()\n    } else {\n      this.sendBuffer.push(callback)\n    }\n  }\n\n  /**\n   * Sets the JWT access token used for channel subscription authorization and Realtime RLS.\n   *\n   * If param is null it will use the `accessToken` callback function or the token set on the client.\n   *\n   * On callback used, it will set the value of the token internal to the client.\n   *\n   * When a token is explicitly provided, it will be preserved across channel operations\n   * (including removeChannel and resubscribe). The `accessToken` callback will not be\n   * invoked until `setAuth()` is called without arguments.\n   *\n   * @param token A JWT string to override the token set on the client.\n   *\n   * @example\n   * // Use a manual token (preserved across resubscribes, ignores accessToken callback)\n   * client.realtime.setAuth('my-custom-jwt')\n   *\n   * // Switch back to using the accessToken callback\n   * client.realtime.setAuth()\n   */\n  async setAuth(token: string | null = null): Promise<void> {\n    this._authPromise = this._performAuth(token)\n    try {\n      await this._authPromise\n    } finally {\n      this._authPromise = null\n    }\n  }\n\n  /**\n   * Returns true if the current access token was explicitly set via setAuth(token),\n   * false if it was obtained via the accessToken callback.\n   * @internal\n   */\n  _isManualToken(): boolean {\n    return this._manuallySetToken\n  }\n\n  /**\n   * Sends a heartbeat message if the socket is connected.\n   */\n  async sendHeartbeat() {\n    if (!this.isConnected()) {\n      try {\n        this.heartbeatCallback('disconnected')\n      } catch (e) {\n        this.log('error', 'error in heartbeat callback', e)\n      }\n      return\n    }\n\n    // Handle heartbeat timeout and force reconnection if needed\n    if (this.pendingHeartbeatRef) {\n      this.pendingHeartbeatRef = null\n      this.log('transport', 'heartbeat timeout. Attempting to re-establish connection')\n      try {\n        this.heartbeatCallback('timeout')\n      } catch (e) {\n        this.log('error', 'error in heartbeat callback', e)\n      }\n\n      // Force reconnection after heartbeat timeout\n      this._wasManualDisconnect = false\n      this.conn?.close(WS_CLOSE_NORMAL, 'heartbeat timeout')\n\n      setTimeout(() => {\n        if (!this.isConnected()) {\n          this.reconnectTimer?.scheduleTimeout()\n        }\n      }, CONNECTION_TIMEOUTS.HEARTBEAT_TIMEOUT_FALLBACK)\n      return\n    }\n\n    // Send heartbeat message to server\n    this.pendingHeartbeatRef = this._makeRef()\n    this.push({\n      topic: 'phoenix',\n      event: 'heartbeat',\n      payload: {},\n      ref: this.pendingHeartbeatRef,\n    })\n    try {\n      this.heartbeatCallback('sent')\n    } catch (e) {\n      this.log('error', 'error in heartbeat callback', e)\n    }\n\n    this._setAuthSafely('heartbeat')\n  }\n\n  /**\n   * Sets a callback that receives lifecycle events for internal heartbeat messages.\n   * Useful for instrumenting connection health (e.g. sent/ok/timeout/disconnected).\n   */\n  onHeartbeat(callback: (status: HeartbeatStatus) => void): void {\n    this.heartbeatCallback = callback\n  }\n  /**\n   * Flushes send buffer\n   */\n  flushSendBuffer() {\n    if (this.isConnected() && this.sendBuffer.length > 0) {\n      this.sendBuffer.forEach((callback) => callback())\n      this.sendBuffer = []\n    }\n  }\n\n  /**\n   * Use either custom fetch, if provided, or default fetch to make HTTP requests\n   *\n   * @internal\n   */\n  _resolveFetch = (customFetch?: Fetch): Fetch => {\n    if (customFetch) {\n      return (...args) => customFetch(...args)\n    }\n    return (...args) => fetch(...args)\n  }\n\n  /**\n   * Return the next message ref, accounting for overflows\n   *\n   * @internal\n   */\n  _makeRef(): string {\n    let newRef = this.ref + 1\n    if (newRef === this.ref) {\n      this.ref = 0\n    } else {\n      this.ref = newRef\n    }\n\n    return this.ref.toString()\n  }\n\n  /**\n   * Unsubscribe from channels with the specified topic.\n   *\n   * @internal\n   */\n  _leaveOpenTopic(topic: string): void {\n    let dupChannel = this.channels.find(\n      (c) => c.topic === topic && (c._isJoined() || c._isJoining())\n    )\n    if (dupChannel) {\n      this.log('transport', `leaving duplicate topic \"${topic}\"`)\n      dupChannel.unsubscribe()\n    }\n  }\n\n  /**\n   * Removes a subscription from the socket.\n   *\n   * @param channel An open subscription.\n   *\n   * @internal\n   */\n  _remove(channel: RealtimeChannel) {\n    this.channels = this.channels.filter((c) => c.topic !== channel.topic)\n  }\n\n  /** @internal */\n  private _onConnMessage(rawMessage: { data: any }) {\n    this.decode(rawMessage.data, (msg: RealtimeMessage) => {\n      // Handle heartbeat responses\n      if (msg.topic === 'phoenix' && msg.event === 'phx_reply') {\n        try {\n          this.heartbeatCallback(msg.payload.status === 'ok' ? 'ok' : 'error')\n        } catch (e) {\n          this.log('error', 'error in heartbeat callback', e)\n        }\n      }\n\n      // Handle pending heartbeat reference cleanup\n      if (msg.ref && msg.ref === this.pendingHeartbeatRef) {\n        this.pendingHeartbeatRef = null\n      }\n\n      // Log incoming message\n      const { topic, event, payload, ref } = msg\n      const refString = ref ? `(${ref})` : ''\n      const status = payload.status || ''\n      this.log('receive', `${status} ${topic} ${event} ${refString}`.trim(), payload)\n\n      // Route message to appropriate channels\n      this.channels\n        .filter((channel: RealtimeChannel) => channel._isMember(topic))\n        .forEach((channel: RealtimeChannel) => channel._trigger(event, payload, ref))\n\n      this._triggerStateCallbacks('message', msg)\n    })\n  }\n\n  /**\n   * Clear specific timer\n   * @internal\n   */\n  private _clearTimer(timer: 'heartbeat' | 'reconnect'): void {\n    if (timer === 'heartbeat' && this.heartbeatTimer) {\n      clearInterval(this.heartbeatTimer)\n      this.heartbeatTimer = undefined\n    } else if (timer === 'reconnect') {\n      this.reconnectTimer?.reset()\n    }\n  }\n\n  /**\n   * Clear all timers\n   * @internal\n   */\n  private _clearAllTimers(): void {\n    this._clearTimer('heartbeat')\n    this._clearTimer('reconnect')\n  }\n\n  /**\n   * Setup connection handlers for WebSocket events\n   * @internal\n   */\n  private _setupConnectionHandlers(): void {\n    if (!this.conn) return\n\n    // Set binary type if supported (browsers and most WebSocket implementations)\n    if ('binaryType' in this.conn) {\n      ;(this.conn as any).binaryType = 'arraybuffer'\n    }\n\n    this.conn.onopen = () => this._onConnOpen()\n    this.conn.onerror = (error: Event) => this._onConnError(error)\n    this.conn.onmessage = (event: any) => this._onConnMessage(event)\n    this.conn.onclose = (event: any) => this._onConnClose(event)\n  }\n\n  /**\n   * Teardown connection and cleanup resources\n   * @internal\n   */\n  private _teardownConnection(): void {\n    if (this.conn) {\n      if (\n        this.conn.readyState === SOCKET_STATES.open ||\n        this.conn.readyState === SOCKET_STATES.connecting\n      ) {\n        try {\n          this.conn.close()\n        } catch (e) {\n          this.log('error', 'Error closing connection', e)\n        }\n      }\n\n      this.conn.onopen = null\n      this.conn.onerror = null\n      this.conn.onmessage = null\n      this.conn.onclose = null\n      this.conn = null\n    }\n    this._clearAllTimers()\n    this.channels.forEach((channel) => channel.teardown())\n  }\n\n  /** @internal */\n  private _onConnOpen() {\n    this._setConnectionState('connected')\n    this.log('transport', `connected to ${this.endpointURL()}`)\n\n    // Wait for any pending auth operations before flushing send buffer\n    // This ensures channel join messages include the correct access token\n    const authPromise =\n      this._authPromise ||\n      (this.accessToken && !this.accessTokenValue ? this.setAuth() : Promise.resolve())\n\n    authPromise\n      .then(() => {\n        this.flushSendBuffer()\n      })\n      .catch((e) => {\n        this.log('error', 'error waiting for auth on connect', e)\n        // Proceed anyway to avoid hanging connections\n        this.flushSendBuffer()\n      })\n\n    this._clearTimer('reconnect')\n\n    if (!this.worker) {\n      this._startHeartbeat()\n    } else {\n      if (!this.workerRef) {\n        this._startWorkerHeartbeat()\n      }\n    }\n\n    this._triggerStateCallbacks('open')\n  }\n  /** @internal */\n  private _startHeartbeat() {\n    this.heartbeatTimer && clearInterval(this.heartbeatTimer)\n    this.heartbeatTimer = setInterval(() => this.sendHeartbeat(), this.heartbeatIntervalMs)\n  }\n\n  /** @internal */\n  private _startWorkerHeartbeat() {\n    if (this.workerUrl) {\n      this.log('worker', `starting worker for from ${this.workerUrl}`)\n    } else {\n      this.log('worker', `starting default worker`)\n    }\n    const objectUrl = this._workerObjectUrl(this.workerUrl!)\n    this.workerRef = new Worker(objectUrl)\n    this.workerRef.onerror = (error) => {\n      this.log('worker', 'worker error', (error as ErrorEvent).message)\n      this.workerRef!.terminate()\n    }\n    this.workerRef.onmessage = (event) => {\n      if (event.data.event === 'keepAlive') {\n        this.sendHeartbeat()\n      }\n    }\n    this.workerRef.postMessage({\n      event: 'start',\n      interval: this.heartbeatIntervalMs,\n    })\n  }\n  /** @internal */\n  private _onConnClose(event: any) {\n    this._setConnectionState('disconnected')\n    this.log('transport', 'close', event)\n    this._triggerChanError()\n    this._clearTimer('heartbeat')\n\n    // Only schedule reconnection if it wasn't a manual disconnect\n    if (!this._wasManualDisconnect) {\n      this.reconnectTimer?.scheduleTimeout()\n    }\n\n    this._triggerStateCallbacks('close', event)\n  }\n\n  /** @internal */\n  private _onConnError(error: Event) {\n    this._setConnectionState('disconnected')\n    this.log('transport', `${error}`)\n    this._triggerChanError()\n    this._triggerStateCallbacks('error', error)\n  }\n\n  /** @internal */\n  private _triggerChanError() {\n    this.channels.forEach((channel: RealtimeChannel) => channel._trigger(CHANNEL_EVENTS.error))\n  }\n\n  /** @internal */\n  private _appendParams(url: string, params: { [key: string]: string }): string {\n    if (Object.keys(params).length === 0) {\n      return url\n    }\n    const prefix = url.match(/\\?/) ? '&' : '?'\n    const query = new URLSearchParams(params)\n    return `${url}${prefix}${query}`\n  }\n\n  private _workerObjectUrl(url: string | undefined): string {\n    let result_url: string\n    if (url) {\n      result_url = url\n    } else {\n      const blob = new Blob([WORKER_SCRIPT], { type: 'application/javascript' })\n      result_url = URL.createObjectURL(blob)\n    }\n    return result_url\n  }\n\n  /**\n   * Set connection state with proper state management\n   * @internal\n   */\n  private _setConnectionState(state: RealtimeClientState, manual = false): void {\n    this._connectionState = state\n\n    if (state === 'connecting') {\n      this._wasManualDisconnect = false\n    } else if (state === 'disconnecting') {\n      this._wasManualDisconnect = manual\n    }\n  }\n\n  /**\n   * Perform the actual auth operation\n   * @internal\n   */\n  private async _performAuth(token: string | null = null): Promise<void> {\n    let tokenToSend: string | null\n    let isManualToken = false\n\n    if (token) {\n      tokenToSend = token\n      // Track if this is a manually-provided token\n      isManualToken = true\n    } else if (this.accessToken) {\n      // Call the accessToken callback to get fresh token\n      try {\n        tokenToSend = await this.accessToken()\n      } catch (e) {\n        this.log('error', 'Error fetching access token from callback', e)\n        // Fall back to cached value if callback fails\n        tokenToSend = this.accessTokenValue\n      }\n    } else {\n      tokenToSend = this.accessTokenValue\n    }\n\n    // Track whether this token was manually set or fetched via callback\n    if (isManualToken) {\n      this._manuallySetToken = true\n    } else if (this.accessToken) {\n      // If we used the callback, clear the manual flag\n      this._manuallySetToken = false\n    }\n\n    if (this.accessTokenValue != tokenToSend) {\n      this.accessTokenValue = tokenToSend\n      this.channels.forEach((channel) => {\n        const payload = {\n          access_token: tokenToSend,\n          version: DEFAULT_VERSION,\n        }\n\n        tokenToSend && channel.updateJoinPayload(payload)\n\n        if (channel.joinedOnce && channel._isJoined()) {\n          channel._push(CHANNEL_EVENTS.access_token, {\n            access_token: tokenToSend,\n          })\n        }\n      })\n    }\n  }\n\n  /**\n   * Wait for any in-flight auth operations to complete\n   * @internal\n   */\n  private async _waitForAuthIfNeeded(): Promise<void> {\n    if (this._authPromise) {\n      await this._authPromise\n    }\n  }\n\n  /**\n   * Safely call setAuth with standardized error handling\n   * @internal\n   */\n  private _setAuthSafely(context = 'general'): void {\n    // Only refresh auth if using callback-based tokens\n    if (!this._isManualToken()) {\n      this.setAuth().catch((e) => {\n        this.log('error', `Error setting auth in ${context}`, e)\n      })\n    }\n  }\n\n  /**\n   * Trigger state change callbacks with proper error handling\n   * @internal\n   */\n  private _triggerStateCallbacks(event: keyof typeof this.stateChangeCallbacks, data?: any): void {\n    try {\n      this.stateChangeCallbacks[event].forEach((callback) => {\n        try {\n          callback(data)\n        } catch (e) {\n          this.log('error', `error in ${event} callback`, e)\n        }\n      })\n    } catch (e) {\n      this.log('error', `error triggering ${event} callbacks`, e)\n    }\n  }\n\n  /**\n   * Setup reconnection timer with proper configuration\n   * @internal\n   */\n  private _setupReconnectionTimer(): void {\n    this.reconnectTimer = new Timer(async () => {\n      setTimeout(async () => {\n        await this._waitForAuthIfNeeded()\n        if (!this.isConnected()) {\n          this.connect()\n        }\n      }, CONNECTION_TIMEOUTS.RECONNECT_DELAY)\n    }, this.reconnectAfterMs)\n  }\n\n  /**\n   * Initialize client options with defaults\n   * @internal\n   */\n  private _initializeOptions(options?: RealtimeClientOptions): void {\n    // Set defaults\n    this.transport = options?.transport ?? null\n    this.timeout = options?.timeout ?? DEFAULT_TIMEOUT\n    this.heartbeatIntervalMs =\n      options?.heartbeatIntervalMs ?? CONNECTION_TIMEOUTS.HEARTBEAT_INTERVAL\n    this.worker = options?.worker ?? false\n    this.accessToken = options?.accessToken ?? null\n    this.heartbeatCallback = options?.heartbeatCallback ?? noop\n    this.vsn = options?.vsn ?? DEFAULT_VSN\n\n    // Handle special cases\n    if (options?.params) this.params = options.params\n    if (options?.logger) this.logger = options.logger\n    if (options?.logLevel || options?.log_level) {\n      this.logLevel = options.logLevel || options.log_level\n      this.params = { ...this.params, log_level: this.logLevel as string }\n    }\n\n    // Set up functions with defaults\n    this.reconnectAfterMs =\n      options?.reconnectAfterMs ??\n      ((tries: number) => {\n        return RECONNECT_INTERVALS[tries - 1] || DEFAULT_RECONNECT_FALLBACK\n      })\n\n    switch (this.vsn) {\n      case VSN_1_0_0:\n        this.encode =\n          options?.encode ??\n          ((payload: JSON, callback: Function) => {\n            return callback(JSON.stringify(payload))\n          })\n\n        this.decode =\n          options?.decode ??\n          ((payload: string, callback: Function) => {\n            return callback(JSON.parse(payload))\n          })\n        break\n      case VSN_2_0_0:\n        this.encode = options?.encode ?? this.serializer.encode.bind(this.serializer)\n        this.decode = options?.decode ?? this.serializer.decode.bind(this.serializer)\n        break\n      default:\n        throw new Error(`Unsupported serializer version: ${this.vsn}`)\n    }\n\n    // Handle worker setup\n    if (this.worker) {\n      if (typeof window !== 'undefined' && !window.Worker) {\n        throw new Error('Web Worker is not supported')\n      }\n      this.workerUrl = options?.workerUrl\n    }\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3180, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@supabase/realtime-js/dist/module/index.js","sources":["file:///Users/remyngwanyam/Desktop/transapp/transapp-user-master/node_modules/%40supabase/realtime-js/src/index.ts"],"sourcesContent":["import RealtimeClient, {\n  RealtimeClientOptions,\n  RealtimeMessage,\n  RealtimeRemoveChannelResponse,\n  WebSocketLikeConstructor,\n} from './RealtimeClient'\nimport RealtimeChannel, {\n  RealtimeChannelOptions,\n  RealtimeChannelSendResponse,\n  RealtimePostgresChangesFilter,\n  RealtimePostgresChangesPayload,\n  RealtimePostgresInsertPayload,\n  RealtimePostgresUpdatePayload,\n  RealtimePostgresDeletePayload,\n  REALTIME_LISTEN_TYPES,\n  REALTIME_POSTGRES_CHANGES_LISTEN_EVENT,\n  REALTIME_SUBSCRIBE_STATES,\n  REALTIME_CHANNEL_STATES,\n} from './RealtimeChannel'\nimport RealtimePresence, {\n  RealtimePresenceState,\n  RealtimePresenceJoinPayload,\n  RealtimePresenceLeavePayload,\n  REALTIME_PRESENCE_LISTEN_EVENTS,\n} from './RealtimePresence'\nimport WebSocketFactory, { WebSocketLike } from './lib/websocket-factory'\n\nexport {\n  RealtimePresence,\n  RealtimeChannel,\n  RealtimeChannelOptions,\n  RealtimeChannelSendResponse,\n  RealtimeClient,\n  RealtimeClientOptions,\n  RealtimeMessage,\n  RealtimePostgresChangesFilter,\n  RealtimePostgresChangesPayload,\n  RealtimePostgresInsertPayload,\n  RealtimePostgresUpdatePayload,\n  RealtimePostgresDeletePayload,\n  RealtimePresenceJoinPayload,\n  RealtimePresenceLeavePayload,\n  RealtimePresenceState,\n  RealtimeRemoveChannelResponse,\n  REALTIME_LISTEN_TYPES,\n  REALTIME_POSTGRES_CHANGES_LISTEN_EVENT,\n  REALTIME_PRESENCE_LISTEN_EVENTS,\n  REALTIME_SUBSCRIBE_STATES,\n  REALTIME_CHANNEL_STATES,\n  WebSocketFactory,\n  WebSocketLike,\n  WebSocketLikeConstructor,\n}\n"],"names":[],"mappings":";AAAA,OAAO,cAKN,MAAM,kBAAkB,CAAA;AACzB,OAAO,eAAe,EAAE,EAQtB,qBAAqB,EACrB,sCAAsC,EACtC,yBAAyB,EACzB,uBAAuB,GACxB,MAAM,mBAAmB,CAAA;AAC1B,OAAO,gBAAgB,EAAE,EAIvB,+BAA+B,GAChC,MAAM,oBAAoB,CAAA;AAC3B,OAAO,gBAAmC,MAAM,yBAAyB,CAAA"}}]
}