{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/remyngwanyam/Desktop/transapp/transapp-user-master/src/assets/images/client-2.png.mjs%20%28structured%20image%20object%20with%20data%20url%29"],"sourcesContent":["import src from \"IMAGE\";\nexport default { src, width: 90, height: 90, blurWidth: 8, blurHeight: 8, blurDataURL: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAIAAABLbSncAAAAMElEQVR42qXNuwkAIBRD0bf/WkHywaEUOxEbPe0NpPpFvQZJtkkm2UJbAMzF58dpAJnnmIYPWUN+AAAAAElFTkSuQmCC\"};\n"],"names":[],"mappings":";;;;;AAAA;;;uCACe;IAAE,KAAA,2JAAG;IAAE,OAAO;IAAI,QAAQ;IAAI,WAAW;IAAG,YAAY;IAAG,aAAa;AAAoK"}},
    {"offset": {"line": 30, "column": 0}, "map": {"version":3,"sources":["file:///Users/remyngwanyam/Desktop/transapp/transapp-user-master/src/components/Modals/UserBookingModal.tsx"],"sourcesContent":["'use client'\n\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport {\n  Row,\n  Col,\n  Modal,\n  ModalHeader,\n  ModalBody,\n  ModalFooter,\n  Button,\n} from \"reactstrap\";\nimport { toast } from \"react-hot-toast\";\nimport { useTranslation } from \"react-i18next\";\nimport { useStateMachine } from \"little-state-machine\";\nimport {\n  updateBooking,\n  updateAction,\n  updateUser,\n} from \"../../utils/updateActions\";\nimport ShortUniqueId from \"short-unique-id\";\nimport { useForm } from \"react-hook-form\";\nimport axios from \"axios\";\nimport { SpinnerCircular } from 'spinners-react';\nimport type { Trip } from \"../../interfaces/trips.interface\";\nimport { useRouter } from \"next/navigation\";\nimport { CreditCard, Mail, MapPin, Phone, User, X } from \"lucide-react\";\n\ninterface UserBookingModalProps {\n  modal: { modal_static: boolean };\n  getModal: (value: { modal_static: boolean }) => void;\n  booking?: Trip;\n  buttonText?: string;\n}\n\ninterface BookingFormData {\n  name: string;\n  idCardNo: string;\n  phoneNumber: string;\n  payerEmail: string;\n  seat: string;\n}\n\nconst UserBookingModal: React.FC<UserBookingModalProps> = ({\n  modal,\n  getModal,\n  booking,\n  buttonText = \"Pay Now\",\n}) => {\n  const { t } = useTranslation();\n  const router = useRouter();\n  const {\n    register,\n    reset,\n    getValues,\n    setValue,\n    watch,\n    handleSubmit,\n    formState: { errors },\n  } = useForm<BookingFormData>();\n\n  const [loading, setLoading] = useState<boolean>(false);\n  const { state } = useStateMachine({\n    updateBooking,\n    updateAction,\n    updateUser,\n  });\n  const stateAny = state as any;\n  // `updateAction({ trip: tripObj })` stores the Trip directly at `state.trip` (not `state.trip.trip`)\n  const selectedTrip: Trip | undefined = (stateAny?.trip?.trip as Trip | undefined) ?? (stateAny?.trip as Trip | undefined);\n\n  const uid = new ShortUniqueId({ length: 10, dictionary: \"alphanum_upper\" });\n  const transaction_id = uid.rnd();\n\n  useEffect(() => {\n    if (booking) {\n      reset({\n        data: booking,\n      } as any);\n    }\n  }, [booking, reset]);\n\n  const makePaymentOnPayunit = async (): Promise<void> => {\n    setLoading(true);\n    const phone = getValues(\"phoneNumber\");\n    const name = getValues('name');\n    const idCard = getValues('idCardNo');\n    const payerEmail = getValues('payerEmail');\n    const seat = getValues('seat');\n\n    if (!seat) {\n      toast.error(t('seat_required') || 'Please select a seat');\n      setLoading(false);\n      return;\n    }\n\n    if (typeof window !== 'undefined') {\n      localStorage.setItem(\"phone\", phone);\n      localStorage.setItem(\"phoneNumber\", phone);\n      localStorage.setItem(\"name\", name);\n      localStorage.setItem(\"idCard\", idCard);\n      localStorage.setItem(\"email\", payerEmail);\n      localStorage.setItem(\"seat\", seat);\n      localStorage.setItem(\"transactionID\", transaction_id);\n    }\n\n    const tripForPayment = selectedTrip;\n    const booked = {\n      total_amount: tripForPayment?.price || 100,\n      currency: \"XAF\",\n      transaction_id: transaction_id,\n      return_url: `${process.env.NEXT_PUBLIC_APP_URL || 'https://transapp-user.herokuapp.com'}/payunit-return/:transaction_id/:transaction_amount/:transaction_gateway/:transaction_status/:purchaseRef/:currency`,\n    };\n\n    const createBookingFallback = async (): Promise<void> => {\n      if (!tripForPayment?.id) {\n        toast.error('No trip selected');\n        return;\n      }\n\n      const bookingPayload = {\n        phone_number: phone ? Number(phone) : null,\n        number_of_seats: \"1\",\n        ticket_type: \"One-way\",\n        name: name || '',\n        id_card_no: idCard || null,\n        payer_email: payerEmail || null,\n        seat: seat,\n        trip_id: tripForPayment.id,\n        agency_name: tripForPayment.agency_name,\n        journey_date: tripForPayment.journey_date,\n        price: tripForPayment.price,\n        departure_city: tripForPayment.from_location,\n        arrival_city: tripForPayment.to_location,\n        departure_time: tripForPayment.departure,\n      };\n\n      // Logged-in users create a real booking (server validates auth via bearer token / cookies)\n      const { data } = await axios.post<{ error: boolean; message: string; data?: any }>(\n        `api/v1/bookings/create-booking/${tripForPayment.id}`,\n        bookingPayload\n      );\n\n      if ((data as any)?.error) {\n        toast.error((data as any)?.message || 'Booking failed');\n        return;\n      }\n\n      toast.success((data as any)?.message || 'Booking created (dev mode)');\n      getModal({ modal_static: false });\n      const bookingId = (data as any)?.data?.id;\n      if (bookingId) {\n        router.push(`/ticket/${bookingId}`);\n      }\n    };\n\n    try {\n      // IMPORTANT: Call our server-side proxy to avoid browser CORS issues with PayUnit.\n      const { data } = await axios.post(`api/v1/payunit/initialize`, booked);\n      if (data?.error) {\n        toast.error(data.message);\n        setLoading(false);\n      } else {\n        if (data.status === \"SUCCESS\" && typeof window !== 'undefined') {\n          window.location.href = data.data.transaction_url;\n        }\n      }\n    } catch (error: unknown) {\n      if (axios.isAxiosError(error)) {\n        const msg = (error.response?.data as any)?.message || 'Payment initialization failed';\n        // In local dev, PayUnit often fails due to credentials / environment; fall back to booking creation\n        // so you can still test the booking pipeline end-to-end.\n        if (process.env.NODE_ENV !== 'production') {\n          toast.error(msg + ' — creating booking directly (dev fallback).');\n          try {\n            await createBookingFallback();\n          } catch (e: unknown) {\n            toast.error((e as any)?.message || 'Booking fallback failed');\n          } finally {\n            setLoading(false);\n          }\n          return;\n        }\n        toast.error(msg);\n      } else {\n        toast.error('An unexpected error occurred');\n      }\n      setLoading(false);\n    }\n  };\n\n  const tripForDisplay = selectedTrip;\n\n  const [takenSeats, setTakenSeats] = useState<string[]>([]);\n  const [loadingSeats, setLoadingSeats] = useState<boolean>(false);\n  const seatCount = useMemo(() => {\n    const n = Number(tripForDisplay?.seats);\n    return Number.isFinite(n) && n > 0 ? n : 0;\n  }, [tripForDisplay?.seats]);\n\n  useEffect(() => {\n    const load = async (): Promise<void> => {\n      if (!modal.modal_static) return;\n      if (!tripForDisplay?.id) return;\n      setLoadingSeats(true);\n      try {\n        const { data } = await axios.get<{ error: boolean; message: string; data?: { takenSeats: string[] } }>(\n          `api/v1/bookings/trip-seats/${tripForDisplay.id}`\n        );\n        if ((data as any)?.error) {\n          setTakenSeats([]);\n        } else {\n          setTakenSeats((data as any)?.data?.takenSeats || []);\n        }\n      } catch {\n        setTakenSeats([]);\n      } finally {\n        setLoadingSeats(false);\n      }\n    };\n    load();\n  }, [modal.modal_static, tripForDisplay?.id]);\n\n  const pickSeat = (seat: string): void => {\n    setValue('seat', seat, { shouldValidate: true, shouldDirty: true });\n  };\n\n  const selectedSeat = watch('seat');\n  const seatRows = useMemo(() => {\n    if (seatCount <= 0) return [];\n    const seats = Array.from({ length: seatCount }, (_, i) => String(i + 1));\n    const rows: Array<{ left: [string | null, string | null]; right: [string | null, string | null] }> = [];\n    for (let i = 0; i < seats.length; i += 4) {\n      rows.push({\n        left: [seats[i] ?? null, seats[i + 1] ?? null],\n        right: [seats[i + 2] ?? null, seats[i + 3] ?? null],\n      });\n    }\n    return rows;\n  }, [seatCount]);\n\n  const SeatButton = ({ seat }: { seat: string | null }) => {\n    if (!seat) return <div className=\"ta-seat ta-seat--empty\" aria-hidden=\"true\" />;\n    const isTaken = takenSeats.includes(seat);\n    const isSelected = selectedSeat === seat;\n    return (\n      <button\n        key={seat}\n        type=\"button\"\n        className={`ta-seat ${isTaken ? 'is-taken' : 'is-available'} ${isSelected ? 'is-selected' : ''}`}\n        disabled={isTaken}\n        onClick={() => pickSeat(seat)}\n        aria-label={`Seat ${seat}${isTaken ? ' (taken)' : isSelected ? ' (selected)' : ''}`}\n      >\n        {seat}\n      </button>\n    );\n  };\n\n  return (\n    <>\n      <Modal\n        isOpen={modal.modal_static}\n        backdrop=\"static\"\n        centered\n        size=\"lg\"\n        contentClassName=\"ta-modal\"\n      >\n        <ModalHeader className=\"ta-modal__header\">\n          <div className=\"ta-modal__headerInner\">\n            <div>\n              <div className=\"ta-modal__kicker\">{t('booking_details') || 'Booking details'}</div>\n              <div className=\"ta-modal__title\">\n                <MapPin size={18} />\n                <span>{tripForDisplay?.from_location || tripForDisplay?.from || '-'}</span>\n                <span className=\"ta-modal__arrow\">→</span>\n                <span>{tripForDisplay?.to_location || tripForDisplay?.to || '-'}</span>\n              </div>\n            </div>\n            <button\n              type=\"button\"\n              className=\"ta-modal__close\"\n              onClick={() => getModal({ modal_static: false })}\n              aria-label={t('close') || 'Close'}\n            >\n              <X size={18} />\n            </button>\n          </div>\n        </ModalHeader>\n        <ModalBody>\n          <form onSubmit={handleSubmit(makePaymentOnPayunit)}>\n            <Row>\n              <Col lg={6}>\n                <div className=\"ta-field\">\n                  <label htmlFor=\"name\" className=\"ta-field__label\">{t(\"name\")}</label>\n                  <div className=\"ta-field__control\">\n                    <span className=\"ta-field__icon\" aria-hidden=\"true\"><User size={16} /></span>\n                    <input\n                      type=\"text\"\n                      id=\"name\"\n                      className=\"form-control ta-input\"\n                      {...register(\"name\", { required: true, minLength: 2 })}\n                    />\n                  </div>\n                </div>\n                {errors.name && (\n                  <p style={{ color: \"red\" }}>{t(\"agency_branch_err\")}</p>\n                )}\n              </Col>\n              <Col lg={6}>\n                <div className=\"ta-field\">\n                  <label htmlFor=\"idCardNo\" className=\"ta-field__label\">{t(\"id_card\")}</label>\n                  <div className=\"ta-field__control\">\n                    <span className=\"ta-field__icon\" aria-hidden=\"true\"><CreditCard size={16} /></span>\n                    <input\n                      type=\"text\"\n                      id=\"idCardNo\"\n                      className=\"form-control ta-input\"\n                      {...register(\"idCardNo\", { required: true })}\n                    />\n                  </div>\n                </div>\n                {errors.idCardNo && (\n                  <p style={{ color: \"red\" }}>{t(\"id_card_err\")}</p>\n                )}\n              </Col>\n\n              <Col lg={6}>\n                <div className=\"ta-field\">\n                  <label htmlFor=\"phoneNumber\" className=\"ta-field__label\">{t(\"phone\")}</label>\n                  <div className=\"ta-field__control\">\n                    <span className=\"ta-field__icon\" aria-hidden=\"true\"><Phone size={16} /></span>\n                    <input\n                      type=\"tel\"\n                      inputMode=\"numeric\"\n                      id=\"phoneNumber\"\n                      placeholder={t('valid_momo_number') || \"Valid money transfer number\"}\n                      className=\"form-control ta-input\"\n                      {...register(\"phoneNumber\", { required: true, minLength: 9, maxLength: 12 })}\n                    />\n                  </div>\n                </div>\n                {errors.phoneNumber && (\n                  <p style={{ color: \"red\" }}>{t(\"phone_err\")}</p>\n                )}\n              </Col>\n\n              <Col lg={6}>\n                <div className=\"ta-field\">\n                  <label htmlFor=\"payerEmail\" className=\"ta-field__label\">{t(\"email_address\")}</label>\n                  <div className=\"ta-field__control\">\n                    <span className=\"ta-field__icon\" aria-hidden=\"true\"><Mail size={16} /></span>\n                    <input\n                      type=\"email\"\n                      id=\"payerEmail\"\n                      className=\"form-control ta-input\"\n                      {...register(\"payerEmail\", { required: true })}\n                    />\n                  </div>\n                </div>\n                {errors.payerEmail && (\n                  <p style={{ color: \"red\" }}>{t(\"phone_err\")}</p>\n                )}\n              </Col>\n            </Row>\n\n            <div className=\"ta-seatmap mt-3\">\n              <div className=\"ta-seatmap__header\">\n                <div>\n                  <div className=\"ta-seatmap__title\">{t('seat') || 'Seat'}</div>\n                  <div className=\"ta-seatmap__subtitle\">\n                    {loadingSeats ? (t('loading') || 'Loading...') : (t('select_seat') || 'Select your seat')}\n                  </div>\n                </div>\n                <div className=\"ta-seatmap__legend\">\n                  <span className=\"ta-legend is-available\">{t('available') || 'Available'}</span>\n                  <span className=\"ta-legend is-selected\">{t('selected') || 'Selected'}</span>\n                  <span className=\"ta-legend is-taken\">{t('taken') || 'Taken'}</span>\n                </div>\n              </div>\n\n              <input type=\"hidden\" {...register(\"seat\", { required: true })} />\n              {errors.seat ? (\n                <div className=\"text-danger mt-1\">{t('seat_required') || 'Please select a seat'}</div>\n              ) : null}\n\n              {seatCount > 0 ? (\n                <div className=\"ta-seatmap__bus\" role=\"group\" aria-label={t('seat_map') || 'Seat map'}>\n                  <div className=\"ta-seatmap__driver\" aria-hidden=\"true\">{t('driver') || 'Driver'}</div>\n                  <div className=\"ta-seatmap__rows\">\n                    {seatRows.map((row, idx) => (\n                      <div key={idx} className=\"ta-seatmap__row\">\n                        <div className=\"ta-seatmap__side\">\n                          <SeatButton seat={row.left[0]} />\n                          <SeatButton seat={row.left[1]} />\n                        </div>\n                        <div className=\"ta-seatmap__aisle\" aria-hidden=\"true\" />\n                        <div className=\"ta-seatmap__side\">\n                          <SeatButton seat={row.right[0]} />\n                          <SeatButton seat={row.right[1]} />\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              ) : (\n                <div className=\"text-muted\">{t('no_seat_map') || 'Seat map not available for this trip'}</div>\n              )}\n            </div>\n\n            <ModalFooter>\n              {loading ? (\n                <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', padding: '20px' }}>\n                  <SpinnerCircular\n                    color=\"#bcc015\"\n                    size={50}\n                    aria-label=\"Loading Spinner\"\n                    data-testid=\"loader\"\n                  />\n                </div>\n              ) : (\n                <>\n                  <Button\n                    color=\"light\"\n                    onClick={() => getModal({ modal_static: false })}\n                  >\n                    {t(\"cancel\")}\n                  </Button>\n                  <Button type=\"submit\" color=\"primary\">\n                    {buttonText}\n                  </Button>\n                </>\n              )}\n            </ModalFooter>\n          </form>\n        </ModalBody>\n      </Modal>\n    </>\n  );\n};\n\nexport default UserBookingModal;\n"],"names":["React","useEffect","useMemo","useState","Row","Col","Modal","ModalHeader","ModalBody","ModalFooter","Button","toast","useTranslation","useStateMachine","updateBooking","updateAction","updateUser","ShortUniqueId","useForm","axios","SpinnerCircular","Trip","useRouter","CreditCard","Mail","MapPin","Phone","User","X","UserBookingModalProps","modal","modal_static","getModal","value","booking","buttonText","BookingFormData","name","idCardNo","phoneNumber","payerEmail","seat","UserBookingModal","FC","t","router","register","reset","getValues","setValue","watch","handleSubmit","formState","errors","loading","setLoading","state","stateAny","selectedTrip","trip","uid","length","dictionary","transaction_id","rnd","data","makePaymentOnPayunit","Promise","phone","idCard","error","window","localStorage","setItem","tripForPayment","booked","total_amount","price","currency","return_url","process","env","NEXT_PUBLIC_APP_URL","createBookingFallback","id","bookingPayload","phone_number","Number","number_of_seats","ticket_type","id_card_no","payer_email","trip_id","agency_name","journey_date","departure_city","from_location","arrival_city","to_location","departure_time","departure","post","message","success","bookingId","push","status","location","href","transaction_url","isAxiosError","msg","response","NODE_ENV","e","tripForDisplay","takenSeats","setTakenSeats","loadingSeats","setLoadingSeats","seatCount","n","seats","isFinite","load","get","pickSeat","shouldValidate","shouldDirty","selectedSeat","seatRows","Array","from","_","i","String","rows","left","right","SeatButton","isTaken","includes","isSelected","to","required","minLength","color","maxLength","map","row","idx","display","justifyContent","alignItems","padding"],"mappings":";;;;;;;;;;;AAEA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,OAAO,EAAEC,QAAQ,QAAQ,OAAO;;;;AAC3D,SACEC,GAAG,EACHC,GAAG,EACHC,KAAK,EACLC,WAAW,EACXC,SAAS,EACTC,WAAW,EACXC,MAAM,QACD,YAAY;;;;AACnB,SAASC,KAAK,QAAQ,iBAAiB;;AACvC,SAASC,cAAc,QAAQ,eAAe;AAC9C,SAASC,eAAe,QAAQ,sBAAsB;AACtD,SACEC,aAAa,EACbC,YAAY,EACZC,UAAU,QACL,2BAA2B;AAClC,OAAOC,aAAa,MAAM,iBAAiB;AAC3C,SAASC,OAAO,QAAQ,iBAAiB;AACzC,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,eAAe,QAAQ,gBAAgB;AAEhD,SAASE,SAAS,QAAQ,iBAAiB;;;;;;AAC3C,SAASC,UAAU,EAAEC,IAAI,EAAEC,MAAM,EAAEC,KAAK,EAAEC,IAAI,EAAEC,CAAC,QAAQ,cAAc;;;;;;;;;AA1BvE,YAAY;;;;;;;;;;;;;AA2CZ,uBAA0Dc,CAAC;sBACzDZ,KAAK,mBACLE,QAAQ,kBACRE,OAAO,wCACPC,UAAU,kCAAG;;;IAEb,IAAM,iMAAES;IACR,IAAMC,MAAM,OAAGvB;IACf,MAAM,8LACJwB,QAAQ,uCACRC,KAAK,uBACLC,SAAS,sBACTC,QAAQ,mBACRC,KAAK,iBAGHhC,SAFFiC,YAAY,oBACZC,SAAS,CAAIC,CAAF;IAGb,MAAM,gWAAgC,CAAC,CAAS,KAAK,CAAP,AAAQ,CAAP,KAAxCC,OAAO,iBAAEC,UAAU,CAAC,EAAGpD;IAC9B,IAAM,sKAA4B;uBAChCW,iJAAa;sBACbC,gJAAY;oBACZC,8IAAAA;IACF,CAAC,CAAC,CAJMwC;IAKR,IAAMC,QAAQ,GAAGD,KAAK,IAAI,GAAG;;IAC7B,qGAAA;IACA,IAAME,YAAY,EAAErC,IAAI,GAAG,SAAS,6DAAIoC,QAAQ,kBAAEE,IAAI,kEAAEA,IAAI,IAAItC,IAAI,GAAG,SAAS,qGAAMoC,QAAQ,CAAEE,IAAI,IAAItC,IAAI,GAAG,SAAU;IAEzH,IAAMuC,GAAG,GAAG,IAAI3C,oLAAa,CAAC;QAAE4C,MAAM,EAAE,EAAE;QAAEC,UAAU,EAAE;IAAiB,CAAC,CAAC;IAC3E,IAAMC,cAAc,GAAGH,GAAG,CAACI,GAAG,CAAC,CAAC;QAEhC/D,0KAAS;sCAAC,MAAM;YACd,IAAIiC,OAAO,EAAE;gBACXa,KAAK,CAAC;oBACJkB,IAAI,EAAE/B;gBACR,CAAC,IAAI,GAAG,CAAC;YACX;QACF,CAAC;qCAAE;QAACA,OAAO;QAAEa,KAAK;KAAC,CAAC;IAEpB,IAAMmB,oBAAoB,GAAG,MAAAA,CAAA,CAAQ,EAAEC,OAAO,CAAC,IAAI,CAAC,IAAI;;qCAKhD3B,UAAU,EACVC,IAAI,EAkBJiC,cAAc,EACdC,MAAM,EAONQ,qBAAqB,EA4CR,MAATlB,QASDK,KAAK,EAAE,OAAO,AAENA,EAFQ,GAEH,iBAOP4C,CAAC,EAAE,OAAO,EAAE;;;;wBA7F3B3D,UAAU,CAAC,IAAI,CAAC;wBACVa,KAAK,GAAGpB,SAAS,CAAC,aAAa,CAAC;wBAChCX,IAAI,GAAGW,SAAS,CAAC,MAAM,CAAC;wBACxBqB,MAAM,GAAGrB,SAAS,CAAC,UAAU,CAAC;qCACjBA,SAAS,CAAC,YAAY,CAAC;+BAC7BA,SAAS,CAAC,MAAM,CAAC;wBAE9B,IAAI,CAACP,IAAI,EAAE;4BACT9B,mKAAK,CAAC2D,KAAK,CAAC1B,CAAC,CAAC,eAAe,CAAC,IAAI,sBAAsB,CAAC;4BACzDW,UAAU,CAAC,KAAK,CAAC;4BACjB;;;wBACF;wBAEA,IAAI,OAAOgB,MAAM,KAAK,WAAW,OAAE;4BACjCC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEL,KAAK,CAAC;4BACpCI,YAAY,CAACC,OAAO,CAAC,aAAa,EAAEL,KAAK,CAAC;4BAC1CI,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEpC,IAAI,CAAC;4BAClCmC,YAAY,CAACC,OAAO,CAAC,QAAQ,EAAEJ,MAAM,CAAC;4BACtCG,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEjC,UAAU,CAAC;4BACzCgC,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEhC,IAAI,CAAC;4BAClC+B,YAAY,CAACC,OAAO,CAAC,eAAe,EAAEV,cAAc,CAAC;wBACvD;yCAEuBL,YAAY;iCACpB;4BACbkB,YAAY,mEAAEF,cAAc,CAAEG,KAAK,KAAI,GAAG;4BAC1CC,QAAQ,EAAE,KAAK;4BACff,cAAc,EAAEA,cAAc;4BAC9BgB,UAAU,EAAE,GAA2E,OAAxEC,OAAO,CAACC,GAAG,CAACC,mBAAmB,8BAAI,qCAAqC,EAAA;wBACzF,CAAC;gDAE6B,MAAAC,CAAA,CAAQ,EAAEhB,OAAO,CAAC,IAAI,CAAC,IAAI;;kFAwB/CF,MAMM,QAMRuC,SAAS;;;;4CAnCf,IAAI,kEAAC9B,cAAc,CAAEU,EAAE,GAAE;gDACvBzE,mKAAK,CAAC2D,KAAK,CAAC,kBAAkB,CAAC;gDAC/B;;;4CACF;4CAEMe,cAAc,GAAG;gDACrBC,YAAY,EAAElB,KAAK,GAAGmB,MAAM,CAACnB,KAAK,CAAC,GAAG,IAAI;gDAC1CoB,eAAe,EAAE,GAAG;gDACpBC,WAAW,EAAE,SAAS;gDACtBpD,IAAI,EAAEA,IAAI,IAAI,EAAE;gDAChBqD,UAAU,EAAErB,MAAM,IAAI,IAAI;gDAC1BsB,WAAW,EAAEnD,UAAU,IAAI,IAAI;gDAC/BC,IAAI,EAAEA,IAAI;gDACVmD,OAAO,EAAElB,cAAc,CAACU,EAAE;gDAC1BS,WAAW,EAAEnB,cAAc,CAACmB,WAAW;gDACvCC,YAAY,EAAEpB,cAAc,CAACoB,YAAY;gDACzCjB,KAAK,EAAEH,cAAc,CAACG,KAAK;gDAC3BkB,cAAc,EAAErB,cAAc,CAACsB,aAAa;gDAC5CC,YAAY,EAAEvB,cAAc,CAACwB,WAAW;gDACxCC,cAAc,EAAEzB,cAAc,CAAC0B,SAAAA;4CACjC,CAAC;;;gDAGsBjF,mJAAK,CAACkF,IAAI,CAAC,AAChC,kCAAmD,CAAE,MAAnB3B,cAAc,CAACU,EAAE,GACnDC,cACF,CAAC;;;mDAHgB;4CAKjB,aAAKpB,IAAI,IAAI,GAAG,mCAAZ,MAAeK,KAAK,EAAE;;gDACxB3D,mKAAK,CAAC2D,KAAK,YAAEL,IAAI,IAAI,GAAG,2CAAGqC,OAAO,KAAI,gBAAgB,CAAC;gDACvD;;;4CACF;4CAEA3F,mKAAK,CAAC4F,OAAO,GAAC,SAACtC,IAAI,IAAI,GAAG,2CAAGqC,OAAO,KAAI,4BAA4B,CAAC;4CACrEtE,QAAQ,CAAC;gDAAED,YAAY,EAAE;4CAAM,CAAC,CAAC;kEACdkC,IAAI,IAAI,GAAG,oDAAGA,IAAI,0CAAnB,MAAqBmB,EAAE;4CACzC,IAAIoB,SAAS,EAAE;gDACb3D,MAAM,CAAC4D,IAAI,CAAC,WAAoB,CAAE,CAAC,KAAZD,SAAS;4CAClC;;;;;;4BACF,CAAC;;;;;;;;;;;;4BAIwBrF,mJAAK,CAACkF,IAAI,CAAC,2BAA2B,EAAE1B,MAAM,CAAC;;;4DAA9DV,IAAI;wBACZ,oDAAIA,MAAI,CAAEK,KAAK,EAAE;4BACf3D,mKAAK,CAAC2D,KAAK,CAACL,MAAI,CAACqC,OAAO,CAAC;4BACzB/C,UAAU,CAAC,KAAK,CAAC;wBACnB,CAAC,MAAM;4BACL,IAAIU,MAAI,CAACyC,MAAM,KAAK,SAAS,IAAI,OAAOnC,MAAM,kCAAK,WAAW,EAAE;gCAC9DA,MAAM,CAACoC,QAAQ,CAACC,IAAI,GAAG3C,MAAI,CAACA,IAAI,CAAC4C,eAAe;4BAClD;wBACF;;;;;;;gLAES,CAACC,YAAY,CAACxC,KAAK,CAAC,EAAE,AAA3BnD;;;;wBACI4F,GAAG,KAAG,iCAAOC,QAAqB,AAAb,oEAAE/C,IAAI,IAAI,4CAAMqC,OAAO,KAAI,+BAA+B;;;wBAInF3F,mKAAK,CAAC2D,KAAK,CAACyC,GAAG,GAAG,8CAA8C,CAAC;;;;;;;;;;;4BAEzD5B,qBAAqB,CAAC,CAAC;;;wBAA7B;;;;;;;wBAEAxE,mKAAK,CAAC2D,KAAK,CAAC,WAAC4C,CAAC,IAAI,GAAG,2CAAGZ,OAAO,KAAI,yBAAyB,CAAC;;;;;;wBAE7D/C,UAAU,CAAC,KAAK,CAAC;;;;;wBAEnB;;;;wBAEF5C,mKAAK,CAAC2D,KAAK,CAACyC,GAAG,CAAC;;;;;;wBAEhBpG,mKAAK,CAAC2D,KAAK,CAAC,8BAA8B,CAAC;;;wBAE7Cf,UAAU,CAAC,KAAK,CAAC;;;;;;;;;;;QAErB,CAAC;;IAED,IAAM4D,cAAc,GAAGzD,YAAY;IAEnC,MAAM,wLAA8BvD,yKAAQ,CAAC,CAAU,EAAE,CAAC,EAAP,EAAE,CAAC,CAA/CiH,UAAU,kBAAEC,aAAa,CAAC;IACjC,MAAM,oLAAkClH,6KAAQ,CAAC,CAAS,KAAK,CAAP,AAAQ,CAAP,KAAlDmH,YAAY,kBAAEC,eAAe,CAAC;IACrC,IAAMC,SAAS,OAAGtH,wKAAO;+CAAC,MAAM;YAC9B,IAAMuH,CAAC,GAAGlC,MAAM,iEAAC4B,cAAc,CAAEO,KAAK,CAAC;YACvC,OAAOnC,MAAM,CAACoC,QAAQ,CAACF,CAAC,CAAC,IAAIA,CAAC,GAAG,CAAC,GAAGA,CAAC,GAAG,CAAC;QAC5C,CAAC;8CAAE;wEAACN,cAAc,CAAEO,KAAK;KAAC,CAAC;QAE3BzH,0KAAS;sCAAC,MAAM;YACd,IAAM2H,IAAI;mDAAG,MAAAA,CAAA,CAAQ,EAAEzD,OAAO,CAAC,IAAI,CAAC,IAAI;;;6CAK5BF;;;;;4CAJV,IAAI,CAACnC,KAAK,CAACC,YAAY,EAAE;;;4CACzB,IAAI,kEAACoF,cAAc,CAAE/B,EAAE,GAAE;;;4CACzBmC,eAAe,CAAC,IAAI,CAAC;;;;;;;;;4CAEF;;gDAAMpG,mJAAK,CAAC0G,GAAG,CAC9B,AAD+B,8BACgB,CACjD,CAAC,KAD+BV,cAAc,CAAC/B,EAAE;;;gFADzCnB,IAAI;4CAGZ,KAAI,QAACA,MAAI,IAAI,GAAG,yCAAGK,KAAK,EAAE;gDACxB+C,aAAa,CAAC,EAAE,CAAC;4CACnB,CAAC,MAAM;;gDACLA,aAAa,YAAEpD,MAAI,IAAI,GAAG,oDAAGA,IAAI,0CAAnB,MAAqBmD,UAAU,IAAI,EAAE,CAAC;4CACtD;;;;;;;4CAEAC,aAAa,CAAC,EAAE,CAAC;;;;;;4CAEjBE,eAAe,CAAC,KAAK,CAAC;;;;;;;;;;;wBAE1B,CAAC;;;;YACDK,IAAI,CAAC,CAAC;QACR,CAAC;qCAAE;QAAC9F,KAAK,CAACC,YAAY;wEAAEoF,cAAc,CAAE/B,EAAE;KAAC,CAAC;IAE5C,IAAM0C,QAAQ,GAAGA,SAACrF,MAAI,EAAE,MAAM,CAAC,EAAE,IAAI,IAAI;QACvCQ,QAAQ,CAAC,MAAM,EAAER,MAAI,EAAE;YAAEsF,cAAc,EAAE,IAAI;YAAEC,WAAW,EAAE;QAAK,CAAC,CAAC;IACrE,CAAC;IAED,IAAMC,YAAY,GAAG/E,KAAK,CAAC,MAAM,CAAC;IAClC,IAAMgF,QAAQ,GAAGhI,4KAAO;8CAAC,MAAM;YAC7B,IAAIsH,SAAS,IAAI,CAAC,EAAE,OAAO,EAAE;YAC7B,IAAME,KAAK,GAAGS,KAAK,CAACC,IAAI,CAAC;gBAAEvE,MAAM,EAAE2D;YAAU,CAAC;4DAAE,SAACa,CAAC,EAAEC,CAAC;2BAAKC,MAAM,CAACD,CAAC,GAAG,CAAC,CAAC,CAAC;;;YACxE,IAAME,IAAI,EAAEL,CAAyF,EAAE,EAAtF,CAAC;YAClB,IAAK,IAAIG,GAAC,GAAG,CAAC,EAAEA,GAAC,GAAGZ,KAAK,CAAC7D,MAAM,EAAEyE,GAAC,IAAI,CAAC,CAAE;yCAG9BZ;gBAFVc,IAAI,CAAC/B,IAAI,CAAC;oBACRgC,IAAI,EAAE;sCAACf,KAAK,CAACY,GAAC,CAAC,mDAAI,IAAI;wCAAO,CAACA,GAAC,GAAG,CAAC,CAAC,mCAAZZ,UAAgB,IAAI;qBAAC;oBAC9CgB,KAAK,EAAE;yCAAM,CAACJ,GAAC,GAAG,CAAC,CAAC,+CAAI,IAAI;yCAAO,CAACA,GAAC,GAAG,CAAC,CAAC,oCAAZZ,WAAgB,IAAI;qBAAA;gBACpD,CAAC,CAAC;YACJ;YACA,OAAOc,IAAI;QACb,CAAC;6CAAE;QAAChB,SAAS;KAAC,CAAC;IAEf,IAAMmB,UAAU,GAAGA,CAAC;YAAElG,IAAI;QACxB,IAAI,CAACA,MAAI,EAAE,qBAAO,6LAAC,GAAG;YAAC,SAAS,EAAC,wBAAwB;YAAC,WAAW,IAAC,MAAM,GAAG;;;;;;QAC/E,IAAMmG,OAAO,GAAGxB,UAAU,CAACyB,QAAQ,CAACpG,MAAI,CAAC;QACzC,IAAMqG,UAAU,GAAGb,YAAY,KAAKxF,MAAI;QACxC,qBACE,6LAAC,MAAM,CACL,GAAG,CAAC;YACJ,IAAI,EAAC,QAAQ;YACb,SAAS,CAAC,CAAC,kBAAWmG,OAAO,GAAG,UAAU,GAAG,cAAc,EAAA,KAAmC,CAAE,CAAC,KAAlCE,UAAU,GAAG,aAAa,GAAG,EAAE;YAC9F,QAAQ,CAAC,CAACF,OAAO,CAAC;YAClB,OAAO,CAAC,CAAC;uBAAMd,QAAQ,CAACrF,MAAI,CAAC,CAAC;;YAC9B,UAAU,CAAC,GAAC,QAAemG,OAAPnG,AAAc,MAAV,EAAyD,CAAE,CAAC,eAA/C,UAAU,GAAGqG,UAAU,GAAG,aAAa,GAAG,EAAE;sBAEhFrG,MAAI;WAPAA,MAAI,CAAC;;;;;IAUhB,CAAC;IAED,qBACE;gCACE,6LAAC,0LAAK;YACJ,MAAM,CAAC,CAACX,KAAK,CAACC,YAAY,CAAC;YAC3B,QAAQ,EAAC,QAAQ;YACjB,QAAQ;YACR,IAAI,EAAC,IAAI;YACT,gBAAgB,EAAC,UAAU;;8BAE3B,6LAAC,4MAAW;oBAAC,SAAS,EAAC,kBAAkB;8BACvC,2MAAC,GAAG;wBAAC,SAAS,EAAC,uBAAuB;;0CACpC,6LAAC,GAAG;;kDACF,6LAAC,GAAG;wCAAC,SAAS,EAAC,kBAAkB,CAAC;kDAACa,CAAC,CAAC,iBAAiB,CAAC,IAAI,iBAAiB,CAAC,EAAE,GAAG;;;;;;kDAClF,6LAAC,GAAG;wCAAC,SAAS,EAAC,iBAAiB;;0DAC9B,6LAAC,uNAAM;gDAAC,IAAI,CAAC,CAAC,EAAE,CAAC;;;;;;0DACjB,6LAAC,IAAI,CAAC;2HAACuE,cAAc,CAAEnB,aAAa,iCAAImB,cAAc,sCAAEiB,IAAI,KAAI,GAAG,CAAC,EAAE,IAAI;;;;;;0DAC1E,6LAAC,IAAI;gDAAC,SAAS,EAAC,iBAAiB;0DAAC,CAAC,EAAE,IAAI;;;;;;0DACzC,6LAAC,IAAI,CAAC;2DAACjB,cAAc,iEAAEjB,WAAW,sEAAIiB,cAAc,CAAE4B,EAAE,KAAI,GAAG,CAAC,EAAE,IAAI;;;;;;;;;;;;;;;;;;0CAG1E,6LAAC,MAAM;gCACL,IAAI,EAAC,QAAQ;gCACb,SAAS,EAAC,iBAAiB;gCAC3B,OAAO,CAAC,CAAC;2CAAM/G,QAAQ,CAAC;wCAAED,YAAY,EAAE;oCAAM,CAAC,CAAC,CAAC;;gCACjD,UAAU,CAAC,GAACa,CAAC,CAAC,OAAO,CAAC,IAAI,OAAO,CAAC;wDAElC,6LAAC,oMAAC;oCAAC,IAAI,CAAC,CAAC,EAAE,CAAC;;;;;;;;;;;;;;;;;;;;;;8BAIlB,6LAAC,sMAAS;4CACR,6LAAC,IAAI;wBAAC,QAAQ,CAAC,CAACO,YAAY,CAACe,oBAAoB,CAAC,CAAC;;0CACjD,6LAAC,oLAAG;;kDACF,6LAAC,oLAAG;wCAAC,EAAE,CAAC,CAAC,CAAC,CAAC;;0DACT,6LAAC,GAAG;gDAAC,SAAS,EAAC,UAAU;;kEACvB,6LAAC,KAAK;wDAAC,OAAO,EAAC,MAAM;wDAAC,SAAS,EAAC,iBAAiB,CAAC;kEAACtB,CAAC,CAAC,MAAM,CAAC,CAAC,EAAE,KAAK;;;;;;kEACpE,6LAAC,GAAG;wDAAC,SAAS,EAAC,mBAAmB;;0EAChC,6LAAC,IAAI;gEAAC,SAAS,EAAC,gBAAgB;gEAAC,WAAW,IAAC,MAAM;0EAAC,2MAAC,6MAAI;oEAAC,IAAI,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE,IAAI;;;;;;;;;;;0EAC5E,6LAAC,KAAK;gEACJ,IAAI,EAAC,MAAM;gEACX,EAAE,EAAC,MAAM;gEACT,SAAS,EAAC,uBAAuB,CACjC;+DAAIE,QAAQ,CAAC,MAAM,EAAE;gEAAEkG,QAAQ,EAAE,IAAI;gEAAEC,SAAS,EAAE;4DAAE,CAAC,CAAC,CAAC;;;;;;;;;;;;;;;;;4CAI5D5F,MAAM,CAAChB,IAAI,kBACV,6LAAC,CAAC;gDAAC,KAAK,CAAC,CAAC;oDAAE6G,KAAK,EAAE;gDAAM,CAAC,CAAC,CAAC;0DAACtG,CAAC,CAAC,mBAAmB,CAAC,CAAC,EAAE,CAAC,CACxD;;;;;;;;;;;;kDAEH,6LAAC,oLAAG;wCAAC,EAAE,CAAC,CAAC,CAAC,CAAC;;0DACT,6LAAC,GAAG;gDAAC,SAAS,EAAC,UAAU;;kEACvB,6LAAC,KAAK;wDAAC,OAAO,EAAC,UAAU;wDAAC,SAAS,EAAC,iBAAiB,CAAC;kEAACA,CAAC,CAAC,SAAS,CAAC,CAAC,EAAE,KAAK;;;;;;kEAC3E,6LAAC,GAAG;wDAAC,SAAS,EAAC,mBAAmB;;0EAChC,6LAAC,IAAI;gEAAC,SAAS,EAAC,gBAAgB;gEAAC,WAAW,IAAC,MAAM;wFAAC,6LAAC,mOAAU;oEAAC,IAAI,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE,IAAI;;;;;;;;;;;0EAClF,6LAAC,KAAK;gEACJ,IAAI,EAAC,MAAM;gEACX,EAAE,EAAC,UAAU;gEACb,SAAS,EAAC,uBAAuB,CACjC;+DAAIE,QAAQ,CAAC,UAAU,EAAE;gEAAEkG,QAAQ,EAAE;4DAAK,CAAC,CAAC,CAAC;;;;;;;;;;;;;;;;;4CAIlD3F,MAAM,CAACf,QAAQ,kBACd,6LAAC,CAAC;gDAAC,KAAK,CAAC,CAAC;oDAAE4G,KAAK,EAAE;gDAAM,CAAC,CAAC,CAAC;0DAACtG,CAAC,CAAC,aAAa,CAAC,CAAC,EAAE,CAAC,CAClD;;;;;;;;;;;;kDAGH,6LAAC,oLAAG;wCAAC,EAAE,CAAC,CAAC,CAAC,CAAC;;0DACT,6LAAC,GAAG;gDAAC,SAAS,EAAC,UAAU;;kEACvB,6LAAC,KAAK;wDAAC,OAAO,EAAC,aAAa;wDAAC,SAAS,EAAC,iBAAiB,CAAC;kEAACA,CAAC,CAAC,OAAO,CAAC,CAAC,EAAE,KAAK;;;;;;kEAC5E,6LAAC,GAAG;wDAAC,SAAS,EAAC,mBAAmB;;0EAChC,6LAAC,IAAI;gEAAC,SAAS,EAAC,gBAAgB;gEAAC,WAAW,IAAC,MAAM;wFAAC,6LAAC,gNAAK;oEAAC,IAAI,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE,IAAI;;;;;;;;;;;0EAC7E,6LAAC,KAAK;gEACJ,IAAI,EAAC,KAAK;gEACV,SAAS,EAAC,SAAS;gEACnB,EAAE,EAAC,aAAa;gEAChB,WAAW,CAAC,CAACA,CAAC,CAAC,mBAAmB,CAAC,IAAI,6BAA6B,CAAC;gEACrE,SAAS,EAAC,uBAAuB,CACjC;+DAAIE,QAAQ,CAAC,aAAa,EAAE;gEAAEkG,QAAQ,EAAE,IAAI;gEAAEC,SAAS,EAAE,CAAC;gEAAEE,SAAS,EAAE;4DAAG,CAAC,CAAC,CAAC;;;;;;;;;;;;;;;;;4CAIlF9F,MAAM,CAACd,WAAW,kBACjB,6LAAC,CAAC;gDAAC,KAAK,CAAC,CAAC;oDAAE2G,KAAK,EAAE;gDAAM,CAAC,CAAC,CAAC;0DAACtG,CAAC,CAAC,WAAW,CAAC,CAAC,EAAE,CAAC,CAChD;;;;;;;;;;;;kDAGH,6LAAC,oLAAG;wCAAC,EAAE,CAAC,CAAC,CAAC,CAAC;;0DACT,6LAAC,GAAG;gDAAC,SAAS,EAAC,UAAU;;kEACvB,6LAAC,KAAK;wDAAC,OAAO,EAAC,YAAY;wDAAC,SAAS,EAAC,iBAAiB,CAAC;kEAACA,CAAC,CAAC,eAAe,CAAC,CAAC,EAAE,KAAK;;;;;;kEACnF,6LAAC,GAAG;wDAAC,SAAS,EAAC,mBAAmB;;0EAChC,6LAAC,IAAI;gEAAC,SAAS,EAAC,gBAAgB;gEAAC,WAAW,IAAC,MAAM;wFAAC,6LAAC,6MAAI;oEAAC,IAAI,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE,IAAI;;;;;;;;;;;0EAC5E,6LAAC,KAAK;gEACJ,IAAI,EAAC,OAAO;gEACZ,EAAE,EAAC,YAAY;gEACf,SAAS,EAAC,uBAAuB,CACjC;+DAAIE,QAAQ,CAAC,YAAY,EAAE;gEAAEkG,QAAQ,EAAE;4DAAK,CAAC,CAAC,CAAC;;;;;;;;;;;;;;;;;4CAIpD3F,MAAM,CAACb,UAAU,kBAChB,6LAAC,CAAC;gDAAC,KAAK,CAAC,CAAC;oDAAE0G,KAAK,EAAE;gDAAM,CAAC,CAAC,CAAC;0DAACtG,CAAC,CAAC,WAAW,CAAC,CAAC,EAAE,CAAC,CAChD;;;;;;;;;;;;;;;;;;0CAIL,6LAAC,GAAG;gCAAC,SAAS,EAAC,iBAAiB;;kDAC9B,6LAAC,GAAG;wCAAC,SAAS,EAAC,oBAAoB;;0DACjC,6LAAC,GAAG;;kEACF,6LAAC,GAAG;wDAAC,SAAS,EAAC,mBAAmB,CAAC;kEAACA,CAAC,CAAC,MAAM,CAAC,IAAI,MAAM,CAAC,EAAE,GAAG;;;;;;kEAC7D,6LAAC,GAAG;wDAAC,SAAS,EAAC,sBAAsB;kEAClC0E,YAAY,GAAI1E,CAAC,CAAC,SAAS,CAAC,IAAI,YAAY,GAAKA,CAAC,CAAC,aAAa,CAAC,IAAI,kBAAmB;;;;;;;;;;;;0DAG7F,6LAAC,GAAG;gDAAC,SAAS,EAAC,oBAAoB;;kEACjC,6LAAC,IAAI;wDAAC,SAAS,EAAC,wBAAwB,CAAC;kEAACA,CAAC,CAAC,WAAW,CAAC,IAAI,WAAW,CAAC,EAAE,IAAI;;;;;;kEAC9E,6LAAC,IAAI;wDAAC,SAAS,EAAC,uBAAuB,CAAC;kEAACA,CAAC,CAAC,UAAU,CAAC,IAAI,UAAU,CAAC,EAAE,IAAI;;;;;;kEAC3E,6LAAC,IAAI;wDAAC,SAAS,EAAC,oBAAoB,CAAC;kEAACA,CAAC,CAAC,OAAO,CAAC,IAAI,OAAO,CAAC,EAAE,IAAI;;;;;;;;;;;;;;;;;;kDAItE,6LAAC,KAAK;wCAAC,IAAI,EAAC,QAAQ,CAAC;uCAAIE,QAAQ,CAAC,MAAM,EAAE;wCAAEkG,QAAQ,EAAE;oCAAK,CAAC,CAAC,CAAC;;;;;oCAC7D3F,MAAM,CAACZ,IAAI,iBACV,6LAAC,GAAG;wCAAC,SAAS,EAAC,kBAAkB,CAAC;kDAACG,CAAC,CAAC,eAAe,CAAC,IAAI,sBAAsB,CAAC,EAAE,GAAG,CAAC;;;;;gDACpF,IAAI;oCAEP4E,SAAS,GAAG,CAAC,iBACZ,6LAAC,GAAG;wCAAC,SAAS,EAAC,iBAAiB;wCAAC,IAAI,EAAC,OAAO;wCAAC,UAAU,CAAC,GAAC5E,CAAC,CAAC,UAAU,CAAC,IAAI,UAAU,CAAC;;0DACpF,6LAAC,GAAG;gDAAC,SAAS,EAAC,oBAAoB;gDAAC,WAAW,IAAC,MAAM,CAAC;0DAACA,CAAC,CAAC,QAAQ,CAAC,IAAI,QAAQ,CAAC,EAAE,GAAG;;;;;;0DACrF,6LAAC,GAAG;gDAAC,SAAS,EAAC,kBAAkB;0DAC9BsF,QAAQ,CAACkB,GAAG,CAAC,SAACC,GAAG,EAAEC,GAAG;yEACrB,6LAAC,GAAG,CAAC,GAAG,CAAC;wDAAM,SAAS,EAAC,iBAAiB;;0EACxC,6LAAC,GAAG;gEAAC,SAAS,EAAC,kBAAkB;;kFAC/B,6LAAC,UAAU;wEAAC,IAAI,CAAC,CAACD,GAAG,CAACZ,IAAI,CAAC,CAAC,CAAC,CAAC;;;;;;kFAC9B,6LAAC,UAAU;wEAAC,IAAI,CAAC,CAACY,GAAG,CAACZ,IAAI,CAAC,CAAC,CAAC,CAAC;;;;;;;;;;;;0EAEhC,6LAAC,GAAG;gEAAC,SAAS,EAAC,mBAAmB;gEAAC,WAAW,IAAC,MAAM;;;;;;0EACrD,6LAAC,GAAG;gEAAC,SAAS,EAAC,kBAAkB;;kFAC/B,6LAAC,UAAU;wEAAC,IAAI,CAAC,CAACY,GAAG,CAACX,KAAK,CAAC,CAAC,CAAC,CAAC;;;;;;kFAC/B,6LAAC,UAAU;wEAAC,IAAI,CAAC,CAACW,GAAG,CAACX,KAAK,CAAC,CAAC,CAAC,CAAC;;;;;;;;;;;;;uDARzBY,GAAG,CAAC;;;;;;;;;;;;;;;;8DAepB,6LAAC,GAAG;wCAAC,SAAS,EAAC,YAAY,CAAC;kDAAC1G,CAAC,CAAC,aAAa,CAAC,IAAI,sCAAsC,CAAC,EAAE,GAAG,CAC9F;;;;;;;;;;;;0CAGH,6LAAC,4MAAW;0CACTU,OAAO,iBACN,6LAAC,GAAG;oCAAC,KAAK,CAAC,CAAC;wCAAEiG,OAAO,EAAE,MAAM;wCAAEC,cAAc,EAAE,QAAQ;wCAAEC,UAAU,EAAE,QAAQ;wCAAEC,OAAO,EAAE;oCAAO,CAAC,CAAC;4DAC/F,6LAAC,wLAAe;wCACd,KAAK,EAAC,SAAS;wCACf,IAAI,CAAC,CAAC,EAAE,CAAC;wCACT,UAAU,IAAC,iBAAiB;wCAC5B,WAAW,IAAC,QAAQ;;;;;;;;;;0DAIxB;;sDACE,6LAAC,6LAAM;4CACL,KAAK,EAAC,OAAO;4CACb,OAAO,CAAC,CAAC;uDAAM1H,QAAQ,CAAC;oDAAED,YAAY,EAAE;gDAAM,CAAC,CAAC,CAAC;;sDAEhDa,CAAC,CAAC,QAAQ,CAAC;;;;;;sDAEd,6LAAC,6LAAM;4CAAC,IAAI,EAAC,QAAQ;4CAAC,KAAK,EAAC,SAAS;sDAClCT,UAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAU/B,CAAC;;;QAtYevB,qLAAc,CAAC,CAAC;0JACN,CAAC,CAAC;oLASf,CAACwB,eAAe,CAAC,CAAC,CAAC;QAGZvB,wJAAe;;;KAnB7B6B,gBAAgB,EAAE1C,KAAK,CAAC2C,EAAE,CAACd,qBAAqB,CAAC;uCA8YxCa,gBAAgB","ignoreList":[]}},
    {"offset": {"line": 1135, "column": 0}, "map": {"version":3,"sources":["file:///Users/remyngwanyam/Desktop/transapp/transapp-user-master/src/components/Common/Search.tsx"],"sourcesContent":["'use client'\n\nimport React, { useState, useEffect } from \"react\";\nimport { Button } from \"reactstrap\";\nimport { fr } from \"date-fns/locale/fr\";\nimport { enGB as en } from \"date-fns/locale/en-GB\";\nimport { ptBR } from \"date-fns/locale/pt-BR\";\nimport { useStateMachine } from \"little-state-machine\";\nimport { updateSearch, SearchState } from \"../../utils/updateActions\";\nimport { useRouter } from \"next/navigation\";\nimport axios from \"axios\";\nimport { toast } from \"react-hot-toast\";\nimport DatePicker from \"react-datepicker\";\nimport { useTranslation } from \"react-i18next\";\nimport moment from \"moment\";\nimport Select, { StylesConfig } from 'react-select';\nimport { useForm } from \"react-hook-form\";\nimport type { Trip } from \"../../interfaces/trips.interface\";\nimport { CalendarDays, Clock, MapPin, Search as SearchIcon } from 'lucide-react';\n\ninterface SearchProps {\n  from?: string;\n  initialFrom?: string;\n  initialTo?: string;\n  initialJourneyDate?: Date;\n  initialDepartureTime?: Date;\n  text?: string;\n  setData?: (data: Trip[]) => void;\n}\n\ninterface TownOption {\n  label: string;\n  value: string;\n}\n\ninterface SearchFormData {\n  from?: string;\n  to?: string;\n  journeyDate?: Date;\n}\n\nconst towns: TownOption[] = [\n  { label: 'Bafoussam', value: 'Bafoussam' },\n  { label: 'Bamenda', value: 'Bamenda' },\n  { label: 'Buea', value: 'Buea' },\n  { label: 'Douala', value: 'Douala' },\n  { label: 'Dschang', value: 'Dschang' },\n  { label: 'Edea', value: 'Edea' },\n  { label: 'Garoua', value: 'Garoua' },\n  { label: 'Kribi', value: 'kribi' },\n  { label: 'Kumba', value: 'Kumba' },\n  { label: 'Limbe', value: 'Limbe' },\n  { label: 'Maroua', value: 'Maroua' },\n  { label: 'Nkongsamba', value: 'Nkongsamba' },\n  { label: 'Yaounde', value: 'Yaounde' },\n];\n\nconst Search: React.FC<SearchProps> = ({\n  from,\n  initialFrom,\n  initialTo,\n  initialJourneyDate,\n  initialDepartureTime,\n  text,\n  setData,\n}) => {\n  const { t } = useTranslation();\n  const router = useRouter();\n  const [startDate, setStartDate] = useState<Date>(initialJourneyDate ?? new Date());\n  // Default to the top of the current hour so it matches our seeded trip times (HH:mm with :00).\n  const [depDate, setDepDate] = useState<Date>(initialDepartureTime ?? moment().startOf('hour').toDate());\n\n  const initialFromValue = initialFrom ?? from;\n  const [toCity, setToCity] = useState<TownOption | null>(\n    towns.find(t => t.value === (initialTo ?? 'Douala')) || null\n  );\n  const [selectedOption, setSelectedOption] = useState<TownOption | null>(\n    towns.find(t => t.value === (initialFromValue ?? 'Yaounde')) || null\n  );\n  const [language, setLanguage] = useState<string>('eng');\n\n  const {\n    getValues,\n    handleSubmit,\n  } = useForm<SearchFormData>();\n\n  const { actions } = useStateMachine({ updateSearch });\n\n  useEffect(() => {\n    if (typeof window !== 'undefined') {\n      const key = localStorage.getItem('i18nextLng');\n      setLanguage(key || 'eng');\n    }\n  }, []);\n\n  const formData: SearchState = {\n    from: selectedOption?.value,\n    to: toCity?.value,\n    journeyDate: moment(startDate).format('YYYY-MM-DD'),\n    departureTime: moment(depDate).format('HH:mm'),\n  };\n\n  const searchTrip = async (): Promise<void> => {\n    actions.updateSearch(formData);\n    if (!formData.from || !formData.to || !formData.journeyDate || !formData.departureTime) {\n      toast.error('All fields are required');\n      return;\n    }\n    router.push(\"/trip-search\");\n  };\n\n  const searchAnotherTrip = async (): Promise<void> => {\n    actions.updateSearch(formData);\n    const fromValue = getValues(\"from\");\n    const toValue = getValues(\"to\");\n    const dateValue = getValues(\"journeyDate\");\n    \n    try {\n      const { data } = await axios.get<{ error: boolean; message: string; data?: Trip[] }>(`api/v1/trips/trip-search`, {\n        params: { from: fromValue, to: toValue, journeyDate: dateValue }\n      });\n      if (data?.error) {\n        toast.error(data.message);\n      } else if (data.data && setData) {\n        setData(data.data);\n      }\n    } catch (err: unknown) {\n      if (axios.isAxiosError(err)) {\n        toast.error(err.message || 'Search failed');\n      } else {\n        toast.error('An unexpected error occurred');\n      }\n    }\n  };\n\n  // Keep react-select styles minimal; the visual design is handled in CSS via classNamePrefix.\n  const customStyles: StylesConfig<TownOption, false> = {\n    option: (defaultStyles) => ({ ...(defaultStyles as any) }),\n    control: (defaultStyles) => ({ ...(defaultStyles as any) }),\n    singleValue: (defaultStyles) => ({ ...(defaultStyles as any) }),\n  };\n\n  return (\n    <form\n      className=\"ta-search-form\"\n      onSubmit={text === 'book' ? handleSubmit(searchTrip) : handleSubmit(searchAnotherTrip)}\n    >\n      <div className=\"ta-search-form__header\">\n        <div className=\"ta-search-form__title\">{t('search') || 'Search'}</div>\n        <div className=\"ta-search-form__hint\">{t('find_trip_hint') || 'Pick your route, date, and time.'}</div>\n      </div>\n\n      <div className=\"ta-search-form__grid\">\n        <div className=\"ta-field\">\n          <label className=\"ta-field__label\">{t('from')}</label>\n          <div className=\"ta-field__control\">\n            <span className=\"ta-field__icon\" aria-hidden=\"true\"><MapPin size={16} /></span>\n            <Select<TownOption, false>\n              className=\"ta-select\"\n              classNamePrefix=\"ta-select\"\n              options={towns}\n              onChange={(option) => setSelectedOption(option)}\n              placeholder={selectedOption?.label}\n              styles={customStyles}\n              isSearchable\n              defaultValue={initialFromValue ? towns.find(t => t.value === initialFromValue) : selectedOption}\n              value={selectedOption}\n            />\n          </div>\n        </div>\n\n        <div className=\"ta-field\">\n          <label className=\"ta-field__label\">{t('to')}</label>\n          <div className=\"ta-field__control\">\n            <span className=\"ta-field__icon\" aria-hidden=\"true\"><MapPin size={16} /></span>\n            <Select<TownOption, false>\n              className=\"ta-select\"\n              classNamePrefix=\"ta-select\"\n              options={towns}\n              onChange={(option) => setToCity(option)}\n              placeholder={toCity?.label}\n              styles={customStyles}\n              isSearchable\n              defaultValue={toCity}\n              value={toCity}\n            />\n          </div>\n        </div>\n\n        <div className=\"ta-field\">\n          <label className=\"ta-field__label\">{t('journey_date')}</label>\n          <div className=\"ta-field__control\">\n            <span className=\"ta-field__icon\" aria-hidden=\"true\"><CalendarDays size={16} /></span>\n            <DatePicker\n              selected={startDate}\n              onChange={(date: Date | null) => date && setStartDate(date)}\n              minDate={moment().toDate()}\n              locale={language === 'fr' ? fr : en}\n              placeholderText={moment(startDate).format('MM-DD-YYYY')}\n              className=\"form-control ta-input\"\n            />\n          </div>\n        </div>\n\n        <div className=\"ta-field\">\n          <label className=\"ta-field__label\">{t('time')}</label>\n          <div className=\"ta-field__control\">\n            <span className=\"ta-field__icon\" aria-hidden=\"true\"><Clock size={16} /></span>\n            <DatePicker\n              selected={depDate}\n              onChange={(date: Date | null) => date && setDepDate(date)}\n              minDate={moment().toDate()}\n              placeholderText={moment(depDate).format('HH:mm')}\n              showTimeSelect\n              showTimeSelectOnly\n              timeIntervals={60}\n              timeCaption=\"Time\"\n              locale={ptBR}\n              dateFormat=\"p\"\n              timeFormat=\"p\"\n              className=\"form-control ta-input\"\n            />\n          </div>\n        </div>\n      </div>\n\n      <div className=\"ta-search-form__actions\">\n        <Button type=\"submit\" color=\"primary\" className=\"w-100 ta-search-btn\">\n          <SearchIcon size={18} />\n          <span>{text === 'book' ? (t('search') || 'Search') : (t('modify_search') || 'Modify search')}</span>\n        </Button>\n      </div>\n    </form>\n  );\n};\n\nexport default Search;\n"],"names":["React","useState","useEffect","Button","fr","enGB","en","ptBR","useStateMachine","updateSearch","SearchState","useRouter","axios","toast","DatePicker","useTranslation","moment","Select","StylesConfig","useForm","Trip","CalendarDays","Clock","MapPin","Search","SearchIcon","SearchProps","from","initialFrom","initialTo","initialJourneyDate","Date","initialDepartureTime","text","setData","data","TownOption","label","value","SearchFormData","to","journeyDate","towns","FC","t","router","startDate","setStartDate","depDate","setDepDate","startOf","toDate","initialFromValue","toCity","setToCity","find","selectedOption","setSelectedOption","language","setLanguage","getValues","handleSubmit","actions","window","key","localStorage","getItem","formData","format","departureTime","searchTrip","Promise","error","push","searchAnotherTrip","fromValue","toValue","dateValue","get","message","params","err","isAxiosError","customStyles","option","defaultStyles","control","singleValue","date"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 1699, "column": 0}, "map": {"version":3,"sources":["file:///Users/remyngwanyam/Desktop/transapp/transapp-user-master/src/components/Common/PopularRoutes.tsx"],"sourcesContent":["/* eslint-disable react/no-unescaped-entities */\n'use client'\n\nimport { useMemo } from 'react';\nimport { useRouter } from 'next/navigation';\nimport moment from 'moment';\nimport { useTranslation } from 'react-i18next';\nimport { useStateMachine } from 'little-state-machine';\nimport { updateSearch, type SearchState } from '../../utils/updateActions';\n\nexport type PopularRoute = {\n  from: string;\n  to: string;\n  label?: string;\n};\n\nconst DEFAULT_ROUTES: PopularRoute[] = [\n  { from: 'Yaounde', to: 'Douala' },\n  { from: 'Douala', to: 'Yaounde' },\n  { from: 'Bafoussam', to: 'Douala' },\n  { from: 'Douala', to: 'Bafoussam' },\n  { from: 'Buea', to: 'Douala' },\n  { from: 'Douala', to: 'Buea' },\n  { from: 'Bamenda', to: 'Douala' },\n  { from: 'Douala', to: 'Bamenda' },\n];\n\nexport default function PopularRoutes({\n  routes,\n  title,\n  onSelect,\n}: {\n  routes?: PopularRoute[];\n  title?: string;\n  onSelect?: (route: PopularRoute) => void;\n}) {\n  const { t } = useTranslation();\n  const router = useRouter();\n  const { actions } = useStateMachine({ updateSearch });\n\n  const items = useMemo(() => routes ?? DEFAULT_ROUTES, [routes]);\n\n  const handleSelect = (route: PopularRoute) => {\n    const payload: SearchState = {\n      from: route.from,\n      to: route.to,\n      journeyDate: moment().format('YYYY-MM-DD'),\n      // default to next whole hour (gives a better chance of results vs \"now\")\n      departureTime: moment().add(1, 'hour').startOf('hour').format('HH:mm'),\n    };\n    actions.updateSearch(payload);\n    onSelect?.(route);\n    router.push('/trip-search');\n  };\n\n  return (\n    <div className=\"ta-popular-routes\">\n      <div className=\"ta-popular-routes__header\">\n        <h6 className=\"ta-popular-routes__title\">\n          {title || t('popular_routes') || 'Popular routes'}\n        </h6>\n      </div>\n      <div className=\"ta-popular-routes__chips\" role=\"list\">\n        {items.map((r) => (\n          <button\n            key={`${r.from}-${r.to}`}\n            type=\"button\"\n            className=\"ta-chip\"\n            onClick={() => handleSelect(r)}\n            role=\"listitem\"\n          >\n            {r.label || `${r.from} → ${r.to}`}\n          </button>\n        ))}\n      </div>\n    </div>\n  );\n}\n\n\n"],"names":["c","_c","useMemo","useRouter","moment","useTranslation","useStateMachine","updateSearch","SearchState","PopularRoute","from","to","label","DEFAULT_ROUTES","PopularRoutes","t0","$","$i","Symbol","for","routes","title","onSelect","t","router","t1","actions","t2","items","t3","route","payload","journeyDate","format","departureTime","add","startOf","push","handleSelect","t4","t5","t6","t7","r","map","t8"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 1919, "column": 0}, "map": {"version":3,"sources":["file:///Users/remyngwanyam/Desktop/transapp/transapp-user-master/src/utils/tripFilters.ts"],"sourcesContent":["import moment from 'moment';\nimport type { Trip } from '../interfaces/trips.interface';\n\nexport type TripSort =\n  | 'recommended'\n  | 'price_low'\n  | 'price_high'\n  | 'departure_early'\n  | 'departure_late'\n  | 'seats_high';\n\nexport type TripFilters = {\n  agency: string; // '' = all\n  type: string; // '' = all\n  maxPrice: number | null;\n  minSeats: number | null;\n  timeStart: string; // \"HH:mm\" or ''\n  timeEnd: string; // \"HH:mm\" or ''\n  sort: TripSort;\n};\n\nexport const DEFAULT_TRIP_FILTERS: TripFilters = {\n  agency: '',\n  type: '',\n  maxPrice: null,\n  minSeats: null,\n  timeStart: '',\n  timeEnd: '',\n  sort: 'recommended',\n};\n\nexport function parsePrice(value: unknown): number | null {\n  if (value == null) return null;\n  if (typeof value === 'number' && Number.isFinite(value)) return value;\n  const s = String(value);\n  const digits = s.replace(/[^\\d]/g, '');\n  if (!digits) return null;\n  const n = Number(digits);\n  return Number.isFinite(n) ? n : null;\n}\n\nexport function availableSeats(trip: Trip): number {\n  const seats = Number(trip.seats ?? 0);\n  const reserved = Number(trip.reserved ?? 0);\n  return Math.max(0, seats - reserved);\n}\n\nexport function departureMinutes(trip: Trip): number | null {\n  const raw = (trip.departure ?? '') as unknown;\n  const s = String(raw || '').trim();\n  if (!s) return null;\n\n  const m = moment(s, ['HH:mm', 'HH:mm a', 'hh:mm A', 'H:mm', 'h:mm A'], true);\n  if (!m.isValid()) return null;\n  return m.hours() * 60 + m.minutes();\n}\n\nfunction withinTimeWindow(trip: Trip, start: string, end: string): boolean {\n  if (!start && !end) return true;\n  const mins = departureMinutes(trip);\n  if (mins == null) return true;\n\n  const startM = start ? moment(start, 'HH:mm', true) : null;\n  const endM = end ? moment(end, 'HH:mm', true) : null;\n  const startMin = startM?.isValid() ? startM.hours() * 60 + startM.minutes() : null;\n  const endMin = endM?.isValid() ? endM.hours() * 60 + endM.minutes() : null;\n\n  if (startMin != null && mins < startMin) return false;\n  if (endMin != null && mins > endMin) return false;\n  return true;\n}\n\nexport function applyTripFilters(trips: Trip[], filters: TripFilters): Trip[] {\n  return trips.filter((trip) => {\n    if (filters.agency && String(trip.agency_name || '') !== filters.agency) return false;\n    if (filters.type && String(trip.trip_type || '') !== filters.type) return false;\n\n    if (filters.maxPrice != null) {\n      const p = parsePrice(trip.price);\n      if (p != null && p > filters.maxPrice) return false;\n    }\n\n    if (filters.minSeats != null) {\n      if (availableSeats(trip) < filters.minSeats) return false;\n    }\n\n    if (!withinTimeWindow(trip, filters.timeStart, filters.timeEnd)) return false;\n\n    return true;\n  });\n}\n\nexport function sortTrips(trips: Trip[], sort: TripSort): Trip[] {\n  const arr = [...trips];\n  switch (sort) {\n    case 'price_low':\n      return arr.sort((a, b) => (parsePrice(a.price) ?? Number.MAX_SAFE_INTEGER) - (parsePrice(b.price) ?? Number.MAX_SAFE_INTEGER));\n    case 'price_high':\n      return arr.sort((a, b) => (parsePrice(b.price) ?? 0) - (parsePrice(a.price) ?? 0));\n    case 'departure_early':\n      return arr.sort((a, b) => (departureMinutes(a) ?? 0) - (departureMinutes(b) ?? 0));\n    case 'departure_late':\n      return arr.sort((a, b) => (departureMinutes(b) ?? 0) - (departureMinutes(a) ?? 0));\n    case 'seats_high':\n      return arr.sort((a, b) => availableSeats(b) - availableSeats(a));\n    case 'recommended':\n    default:\n      return arr;\n  }\n}\n\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2045, "column": 0}, "map": {"version":3,"sources":["file:///Users/remyngwanyam/Desktop/transapp/transapp-user-master/src/components/Trips/TripFiltersBar.tsx"],"sourcesContent":["'use client'\n\nimport { useMemo } from 'react';\nimport type { Trip } from '../../interfaces/trips.interface';\nimport { DEFAULT_TRIP_FILTERS, type TripFilters, type TripSort, parsePrice } from '../../utils/tripFilters';\n\nfunction uniq(values: string[]): string[] {\n  return Array.from(new Set(values.filter(Boolean))).sort((a, b) => a.localeCompare(b));\n}\n\nexport default function TripFiltersBar({\n  trips,\n  filters,\n  onChange,\n}: {\n  trips: Trip[];\n  filters: TripFilters;\n  onChange: (next: TripFilters) => void;\n}) {\n  const agencies = useMemo(() => uniq(trips.map((t) => String(t.agency_name || ''))), [trips]);\n  const types = useMemo(() => uniq(trips.map((t) => String(t.trip_type || ''))), [trips]);\n\n  const maxPriceHint = useMemo(() => {\n    const prices = trips.map((t) => parsePrice(t.price)).filter((n): n is number => typeof n === 'number');\n    if (!prices.length) return null;\n    return Math.max(...prices);\n  }, [trips]);\n\n  const set = (patch: Partial<TripFilters>) => onChange({ ...filters, ...patch });\n\n  const reset = () => onChange({ ...DEFAULT_TRIP_FILTERS });\n\n  return (\n    <div className=\"ta-filterbar\">\n      <div className=\"ta-filterbar__row\">\n        <div className=\"ta-filterbar__group\">\n          <label className=\"ta-filterbar__label\">Sort</label>\n          <select\n            className=\"form-select ta-filterbar__control\"\n            value={filters.sort}\n            onChange={(e) => set({ sort: e.target.value as TripSort })}\n          >\n            <option value=\"recommended\">Recommended</option>\n            <option value=\"price_low\">Price: low → high</option>\n            <option value=\"price_high\">Price: high → low</option>\n            <option value=\"departure_early\">Departure: earliest</option>\n            <option value=\"departure_late\">Departure: latest</option>\n            <option value=\"seats_high\">Seats: most available</option>\n          </select>\n        </div>\n\n        <div className=\"ta-filterbar__group\">\n          <label className=\"ta-filterbar__label\">Agency</label>\n          <select\n            className=\"form-select ta-filterbar__control\"\n            value={filters.agency}\n            onChange={(e) => set({ agency: e.target.value })}\n          >\n            <option value=\"\">All</option>\n            {agencies.map((a) => (\n              <option key={a} value={a}>\n                {a}\n              </option>\n            ))}\n          </select>\n        </div>\n\n        <div className=\"ta-filterbar__group\">\n          <label className=\"ta-filterbar__label\">Type</label>\n          <select\n            className=\"form-select ta-filterbar__control\"\n            value={filters.type}\n            onChange={(e) => set({ type: e.target.value })}\n          >\n            <option value=\"\">All</option>\n            {types.map((t) => (\n              <option key={t} value={t}>\n                {t}\n              </option>\n            ))}\n          </select>\n        </div>\n\n        <div className=\"ta-filterbar__group\">\n          <label className=\"ta-filterbar__label\">Max price (XAF)</label>\n          <input\n            className=\"form-control ta-filterbar__control\"\n            inputMode=\"numeric\"\n            placeholder={maxPriceHint ? `e.g. ${maxPriceHint}` : 'e.g. 5000'}\n            value={filters.maxPrice ?? ''}\n            onChange={(e) => set({ maxPrice: e.target.value ? Number(e.target.value) : null })}\n          />\n        </div>\n\n        <div className=\"ta-filterbar__group\">\n          <label className=\"ta-filterbar__label\">Min seats</label>\n          <input\n            className=\"form-control ta-filterbar__control\"\n            inputMode=\"numeric\"\n            placeholder=\"e.g. 2\"\n            value={filters.minSeats ?? ''}\n            onChange={(e) => set({ minSeats: e.target.value ? Number(e.target.value) : null })}\n          />\n        </div>\n\n        <div className=\"ta-filterbar__group\">\n          <label className=\"ta-filterbar__label\">Time</label>\n          <div className=\"ta-filterbar__time\">\n            <input\n              type=\"time\"\n              className=\"form-control ta-filterbar__control\"\n              value={filters.timeStart}\n              onChange={(e) => set({ timeStart: e.target.value })}\n            />\n            <span className=\"ta-filterbar__time-sep\">–</span>\n            <input\n              type=\"time\"\n              className=\"form-control ta-filterbar__control\"\n              value={filters.timeEnd}\n              onChange={(e) => set({ timeEnd: e.target.value })}\n            />\n          </div>\n        </div>\n\n        <div className=\"ta-filterbar__actions\">\n          <button type=\"button\" className=\"btn ta-btn-outline\" onClick={reset}>\n            Reset\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n\n"],"names":["useMemo","Trip","DEFAULT_TRIP_FILTERS","TripFilters","TripSort","parsePrice","uniq","values","Array","from","Set","filter","Boolean","sort","a","b","localeCompare","TripFiltersBar","trips","filters","onChange","next","agencies","map","t","String","agency_name","types","trip_type","maxPriceHint","prices","price","n","length","Math","max","set","patch","Partial","reset","e","target","value","agency","type","maxPrice","Number","minSeats","timeStart","timeEnd"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 2470, "column": 0}, "map": {"version":3,"sources":["file:///Users/remyngwanyam/Desktop/transapp/transapp-user-master/src/components/Trips/TripFiltersResponsive.tsx"],"sourcesContent":["'use client'\n\nimport { useMemo, useState } from 'react';\nimport { Button, Modal, ModalBody, ModalFooter, ModalHeader } from 'reactstrap';\nimport type { Trip } from '../../interfaces/trips.interface';\nimport type { TripFilters } from '../../utils/tripFilters';\nimport TripFiltersBar from './TripFiltersBar';\n\nfunction activeFiltersCount(filters: TripFilters): number {\n  let n = 0;\n  if (filters.agency) n += 1;\n  if (filters.type) n += 1;\n  if (filters.maxPrice != null) n += 1;\n  if (filters.minSeats != null) n += 1;\n  if (filters.timeStart) n += 1;\n  if (filters.timeEnd) n += 1;\n  return n;\n}\n\nexport default function TripFiltersResponsive({\n  trips,\n  filters,\n  onChange,\n}: {\n  trips: Trip[];\n  filters: TripFilters;\n  onChange: (next: TripFilters) => void;\n}) {\n  const [open, setOpen] = useState(false);\n  const count = useMemo(() => activeFiltersCount(filters), [filters]);\n\n  return (\n    <>\n      {/* Desktop: sticky filter bar */}\n      <div className=\"d-none d-lg-block\">\n        <TripFiltersBar trips={trips} filters={filters} onChange={onChange} />\n      </div>\n\n      {/* Mobile: button + bottom sheet */}\n      <div className=\"d-lg-none ta-filterbar-mobile\">\n        <Button\n          type=\"button\"\n          className=\"ta-btn-outline\"\n          onClick={() => setOpen(true)}\n        >\n          Filters{count ? ` (${count})` : ''}\n        </Button>\n      </div>\n\n      <Modal\n        isOpen={open}\n        toggle={() => setOpen(false)}\n        centered\n        className=\"ta-sheet\"\n        contentClassName=\"ta-sheet__content\"\n      >\n        <ModalHeader toggle={() => setOpen(false)}>Filters</ModalHeader>\n        <ModalBody>\n          <TripFiltersBar trips={trips} filters={filters} onChange={onChange} />\n        </ModalBody>\n        <ModalFooter className=\"ta-sheet__footer\">\n          <Button type=\"button\" className=\"ta-btn-outline\" onClick={() => setOpen(false)}>\n            Close\n          </Button>\n          <Button type=\"button\" className=\"ta-btn-primary\" onClick={() => setOpen(false)}>\n            Apply\n          </Button>\n        </ModalFooter>\n      </Modal>\n    </>\n  );\n}\n\n\n"],"names":["c","_c","useMemo","useState","Button","Modal","ModalBody","ModalFooter","ModalHeader","Trip","TripFilters","TripFiltersBar","activeFiltersCount","filters","n","agency","type","maxPrice","minSeats","timeStart","timeEnd","TripFiltersResponsive","t0","$","$i","Symbol","for","trips","onChange","open","setOpen","t1","count","t2","t3","t4","t5","t6","t7","t8","t9","t10","t11","t12"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 2728, "column": 0}, "map": {"version":3,"sources":["file:///Users/remyngwanyam/Desktop/transapp/transapp-user-master/src/pages/Users/TripSearch.tsx"],"sourcesContent":["'use client'\n\nimport React, { useEffect, useState, useRef, useCallback } from 'react';\nimport { useStateMachine } from \"little-state-machine\";\nimport { updateSearch, updateAction, SearchState } from \"../../utils/updateActions\";\nimport { Card, Row, Col, CardBody, Container, Button, Modal, ModalHeader, ModalBody, ModalFooter } from \"reactstrap\";\nimport moment from \"moment\";\nimport axios from 'axios';\nimport { SpinnerCircular } from 'spinners-react';\nimport Image from 'next/image';\nimport logo from \"../../assets/images/client-2.png\";\nimport { useTranslation } from 'react-i18next';\nimport { toast } from 'react-hot-toast';\nimport UserBookingModal from '../../components/Modals/UserBookingModal';\nimport type { Trip } from '../../interfaces/trips.interface';\nimport Link from 'next/link';\nimport Search from '../../components/Common/Search';\nimport PopularRoutes from '../../components/Common/PopularRoutes';\nimport TripFiltersResponsive from '../../components/Trips/TripFiltersResponsive';\nimport { DEFAULT_TRIP_FILTERS, applyTripFilters, sortTrips, availableSeats } from '../../utils/tripFilters';\n\nconst TripSearch: React.FC = () => {\n  const { t } = useTranslation();\n  const [isVisible, setIsVisible] = useState<boolean>(false);\n  const [success, setSuccess] = useState<boolean>(false);\n  const [ticket, setTicket] = useState<string>('');\n  const [seat, setSeat] = useState<string | null>(null);\n  const { actions, state } = useStateMachine({ updateSearch, updateAction });\n\n  const [data, setData] = useState<Trip[]>([]);\n  const [loading, setLoading] = useState<boolean>(true);\n  const [errorMessage, setErrorMessage] = useState<string | null>(null);\n  const [filters, setFilters] = useState(DEFAULT_TRIP_FILTERS);\n  const tripRef = useRef<Trip | null>(null);\n  const [modal, setModal] = useState<{ modal_static: boolean }>({ modal_static: false });\n  const [modalSuccess, setModalSuccess] = useState<{ modal_static: boolean }>({ modal_static: false });\n  const [modalFailure, setModalFailure] = useState<{ modal_static: boolean }>({ modal_static: false });\n\n  const searchState = (state?.search as any) as SearchState;\n  // Backend stores `journey_date` as `YYYY-MM-DD` (see `public.trips.journey_date`), so query params\n  // must match that format or searches return 0 results.\n  const journeyDate =\n    typeof searchState?.journeyDate === 'string'\n      ? searchState.journeyDate\n      : searchState?.journeyDate\n        ? moment(searchState.journeyDate).format('YYYY-MM-DD')\n        : '';\n  const from = typeof searchState?.from === 'string' ? searchState.from : (searchState?.from as any)?.value || '';\n  const to = typeof searchState?.to === 'string' ? searchState.to : (searchState?.to as any)?.value || '';\n  // Backend stores `departure` as `HH:mm` (24h, no AM/PM)\n  const departureTime =\n    typeof searchState?.departureTime === 'string'\n      ? searchState.departureTime\n      : searchState?.departureTime\n        ? moment(searchState.departureTime).format('HH:mm')\n        : '';\n\n  const initialJourneyDate = searchState?.journeyDate ? moment(searchState.journeyDate).toDate() : undefined;\n  const initialDepartureTime = searchState?.departureTime\n    ? moment(searchState.departureTime, ['HH:mm', 'hh:mm A']).toDate()\n    : undefined;\n\n  function hideFailureModal(): void {\n    setIsVisible(false);\n    setModalFailure({ modal_static: false });\n  }\n\n  const showModal = (): void => {\n    setModal({ modal_static: true });\n  };\n\n  const hideSuccessModal = (): void => {\n    setSuccess(false);\n    setModalSuccess({ modal_static: false });\n    setTicket('');\n    setSeat(null);\n  };\n\n  const getCurrentTrip = (trip: Trip): void => {\n    tripRef.current = trip;\n    actions.updateAction({ trip: tripRef.current });\n    showModal();\n  };\n\n  const fetchTrips = useCallback(async (): Promise<void> => {\n    try {\n      setErrorMessage(null);\n      setLoading(true);\n      const { data } = await axios.get<{ error: boolean; message: string; data?: Trip[] }>(`api/v1/trips/trip-search`, {\n        params: { from, to, journeyDate, departureTime }\n      });\n      if (data?.error) {\n        setErrorMessage(data.message || 'Failed to fetch trips');\n        toast.error(data.message);\n      } else {\n        const trips = data.data ?? [];\n        setData(trips);\n      }\n    } catch (err: unknown) {\n      if (axios.isAxiosError(err)) {\n        const msg = err.response?.data?.message || err.message || 'Failed to fetch trips';\n        setErrorMessage(msg);\n        toast.error(msg);\n      } else {\n        setErrorMessage('An unexpected error occurred');\n        toast.error('An unexpected error occurred');\n      }\n    } finally {\n      setLoading(false);\n    }\n  }, [from, to, journeyDate, departureTime]);\n\n  useEffect(() => {\n    if (typeof document !== 'undefined') {\n      document.body.setAttribute('style', 'background: #f1f5f7!important;');\n    }\n    fetchTrips();\n  }, [fetchTrips]);\n\n  const filterNoSeatsAvailable = data.filter((trip: Trip) => {\n    return trip.reserved !== trip.seats;\n  });\n\n  const filteredTrips = sortTrips(applyTripFilters(filterNoSeatsAvailable, filters), filters.sort);\n  const hasResults = filterNoSeatsAvailable.length > 0;\n  const hasFilteredResults = filteredTrips.length > 0;\n\n  if (loading) {\n    return (\n      <React.Fragment>\n        <div className=\"page-content\">\n          <Container fluid className=\"\">\n            <div className=\"loader-outer\">\n              <div className=\"loader-inner\">\n                <SpinnerCircular color=\"#bcc014\" size={50} />\n              </div>\n            </div>\n          </Container>\n        </div>\n      </React.Fragment>\n    );\n  }\n\n  return (\n    <>\n      <section className=\"trip-search mb-5\">\n        <div className=\"container\">\n          {!loading && (errorMessage || !hasResults) && (\n            <div className=\"row pt-5 mb-4\">\n              <div className=\"col-lg-12\">\n                <Card>\n                  <CardBody>\n                    {errorMessage ? (\n                      <>\n                        <h4 className=\"mb-2\">{t('Failed')} / {t('error') || 'Error'}</h4>\n                        <p className=\"mb-3\">\n                          {errorMessage}\n                        </p>\n                      </>\n                    ) : (\n                      <>\n                        <h4 className=\"mb-2\">{t('no_bus') || 'No buses found'}</h4>\n                        <p className=\"mb-3\">\n                          {t('no_bus') || 'No buses were found for your search.'} {from && to ? (\n                            <>({from} → {to})</>\n                          ) : null}\n                        </p>\n                      </>\n                    )}\n                    <div className=\"d-flex gap-2 flex-wrap\">\n                      <Button color=\"primary\" onClick={() => fetchTrips()}>\n                        {t('retry') || 'Retry'}\n                      </Button>\n                    </div>\n\n                    <div className=\"mt-4\">\n                      <h6 className=\"mb-3\">{t('modify_search') || 'Modify search'}</h6>\n                      <Search\n                        text=\"book\"\n                        initialFrom={from || undefined}\n                        initialTo={to || undefined}\n                        initialJourneyDate={initialJourneyDate}\n                        initialDepartureTime={initialDepartureTime}\n                      />\n                      <div className=\"mt-4\">\n                        <PopularRoutes />\n                      </div>\n                      <div className=\"mt-3\">\n                        <Link href=\"/book\" className=\"btn btn-outline-secondary\">\n                          {t('back') || 'Back'}\n                        </Link>\n                      </div>\n                    </div>\n                  </CardBody>\n                </Card>\n              </div>\n            </div>\n          )}\n\n          <div className=\"row pt-5 mb-4\">\n            <div className=\"col-lg-12\">\n              {hasResults ? (\n                <h6>\n                  {hasFilteredResults ? filteredTrips.length : 0} {t('buses')} {t('from')} {from} {t('to')} {to}\n                </h6>\n              ) : (\n                <h6>{filterNoSeatsAvailable.length} {t('no_bus')} {t('from')} {from} {t('to')} {to}</h6>\n              )}\n            </div>\n          </div>\n\n          {hasResults && (\n            <TripFiltersResponsive trips={filterNoSeatsAvailable} filters={filters} onChange={setFilters} />\n          )}\n\n          <div className=\"row\">\n            <div className=\"col-lg-12\">\n              {!hasFilteredResults && hasResults ? (\n                <Card>\n                  <CardBody>\n                    <h5 className=\"mb-2\">No trips match your filters</h5>\n                    <p className=\"mb-0 text-muted\">Try widening your price/time window or resetting filters.</p>\n                  </CardBody>\n                </Card>\n              ) : null}\n\n              {filteredTrips.map((trip: Trip) => (\n                <Card key={trip.id} className=\"ta-trip-card\">\n                  <CardBody className=\"ta-trip-card__body\">\n                    <div className=\"ta-trip-card__left\">\n                      <div className=\"ta-trip-card__logo\">\n                        {trip.agency_logo ? (\n                          <Image src={trip.agency_logo} alt=\"agency logo\" width={44} height={44} />\n                        ) : (\n                          <Image src={logo} alt=\"logo\" width={44} height={44} />\n                        )}\n                      </div>\n                      <div className=\"ta-trip-card__meta\">\n                        <div className=\"ta-trip-card__top\">\n                          <div className=\"ta-trip-card__agency\">{trip.agency_name}</div>\n                          <span className=\"badge rounded-pill text-bg-light\">\n                            {trip.trip_type || 'Standard'}\n                          </span>\n                        </div>\n                        <div className=\"ta-trip-card__route\">\n                          <strong>{trip.from_location}</strong> <span className=\"text-muted\">→</span>{' '}\n                          <strong>{trip.to_location}</strong>\n                        </div>\n                        <div className=\"ta-trip-card__sub\">\n                          <span>{t('departure')}: {String(trip.departure || '')}</span>\n                          <span className=\"ta-dot\">•</span>\n                          <span>{t('available_seats')}: {availableSeats(trip)}</span>\n                        </div>\n                      </div>\n                    </div>\n\n                    <div className=\"ta-trip-card__right\">\n                      <div className=\"ta-trip-card__price\">\n                        <div className=\"ta-trip-card__price-label\">{t('price')}</div>\n                        <div className=\"ta-trip-card__price-value\">{trip.price} XAF</div>\n                      </div>\n                      {trip.reserved !== trip.seats ? (\n                        <Button\n                          color=\"primary\"\n                          className=\"ta-btn-primary\"\n                          onClick={() => getCurrentTrip(trip)}\n                        >\n                          {t('get_ticket')}\n                        </Button>\n                      ) : (\n                        <Button disabled className=\"ta-btn-primary\">\n                          {t('sold_out') || 'Sold Out'}\n                        </Button>\n                      )}\n                    </div>\n                  </CardBody>\n                </Card>\n              ))}\n            </div>\n          </div>\n\n          <UserBookingModal\n            getModal={setModal}\n            modal={modal}\n            booking={tripRef.current || undefined}\n            buttonText={t(\"buy\")}\n          />\n          {success && (\n            <Modal isOpen={modalSuccess.modal_static} toggle={hideSuccessModal} centered size=\"sm\">\n              <ModalHeader toggle={hideSuccessModal}>{t('Success')}!</ModalHeader>\n              <ModalBody>\n                <Row>\n                  <Col lg={12}>\n                    <p className=\"text-center\">{t('ticket_num')} {ticket}</p>\n                    <p className=\"text-center\">{t('seat')}: {seat}</p>\n                  </Col>\n                </Row>\n              </ModalBody>\n              <ModalFooter>\n                <Button color=\"primary\" onClick={hideSuccessModal}>OK</Button>\n              </ModalFooter>\n            </Modal>\n          )}\n          {isVisible && (\n            <Modal isOpen={modalFailure.modal_static} toggle={hideFailureModal} centered size=\"sm\">\n              <ModalHeader toggle={hideFailureModal}>{t('Failed')}!</ModalHeader>\n              <ModalBody>\n                <Row>\n                  <Col lg={12}>\n                    <p className=\"text-center\">{t('failed_booking')}</p>\n                  </Col>\n                </Row>\n              </ModalBody>\n              <ModalFooter>\n                <Button color=\"primary\" onClick={hideFailureModal}>OK</Button>\n              </ModalFooter>\n            </Modal>\n          )}\n        </div>\n      </section>\n    </>\n  );\n};\n\nexport default TripSearch;\n"],"names":["React","useEffect","useState","useRef","useCallback","useStateMachine","updateSearch","updateAction","SearchState","Card","Row","Col","CardBody","Container","Button","Modal","ModalHeader","ModalBody","ModalFooter","moment","axios","SpinnerCircular","Image","logo","useTranslation","toast","UserBookingModal","Trip","Link","Search","PopularRoutes","TripFiltersResponsive","DEFAULT_TRIP_FILTERS","applyTripFilters","sortTrips","availableSeats","TripSearch","FC","t","isVisible","setIsVisible","success","setSuccess","ticket","setTicket","seat","setSeat","actions","state","data","setData","loading","setLoading","errorMessage","setErrorMessage","filters","setFilters","tripRef","modal","setModal","modal_static","modalSuccess","setModalSuccess","modalFailure","setModalFailure","searchState","search","journeyDate","format","from","value","to","departureTime","initialJourneyDate","toDate","undefined","initialDepartureTime","hideFailureModal","showModal","hideSuccessModal","getCurrentTrip","trip","current","fetchTrips","Promise","get","error","message","params","trips","err","isAxiosError","msg","response","document","body","setAttribute","filterNoSeatsAvailable","filter","reserved","seats","filteredTrips","sort","hasResults","length","hasFilteredResults","map","id","agency_logo","agency_name","trip_type","from_location","to_location","String","departure","price"],"mappings":"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","ignoreList":[]}}]
}